(function(t){function e(e){for(var a,o,r=e[0],l=e[1],c=e[2],d=0,u=[];d<r.length;d++)o=r[d],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&u.push(i[o][0]),i[o]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);m&&m(e);while(u.length)u.shift()();return n.push.apply(n,c||[]),s()}function s(){for(var t,e=0;e<n.length;e++){for(var s=n[e],a=!0,o=1;o<s.length;o++){var r=s[o];0!==i[r]&&(a=!1)}a&&(n.splice(e--,1),t=l(l.s=s[0]))}return t}var a={},o={app:0},i={app:0},n=[];function r(t){return l.p+"js/"+({}[t]||t)+"."+{"chunk-071ac97c":"c308c889","chunk-074d0268":"0029f4db","chunk-08bd7fef":"9d1cd8d8","chunk-0ac2d55a":"d0e7ac2e","chunk-0df14f2c":"19da0e8c","chunk-1b5e0c55":"f3263ad5","chunk-280a93e9":"98eec5b1","chunk-2d0bcda5":"1f1e5a8e","chunk-2debfaaa":"dfc69e4a","chunk-324de8eb":"8f6ffd20","chunk-3cb1ae6a":"cea95354","chunk-4a88f590":"080e6fb7","chunk-4db859f6":"2d88416a","chunk-74297d34":"8e1e8fa1","chunk-768a7fb6":"8997dd0e","chunk-7afe1536":"7d3d10d1","chunk-7ce3a8f2":"54732b75","chunk-ce6e7b1c":"ffe6656a","chunk-f3866ac6":"0a5804e7","chunk-f8309364":"a208ae7e","chunk-2d21a396":"b36ea2fa","chunk-7719e2ad":"f400d411","chunk-162ec5d6":"4625f29e","chunk-4e7af5d5":"58f7ef2e"}[t]+".js"}function l(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,l),s.l=!0,s.exports}l.e=function(t){var e=[],s={"chunk-071ac97c":1,"chunk-074d0268":1,"chunk-08bd7fef":1,"chunk-0ac2d55a":1,"chunk-0df14f2c":1,"chunk-1b5e0c55":1,"chunk-280a93e9":1,"chunk-2debfaaa":1,"chunk-324de8eb":1,"chunk-3cb1ae6a":1,"chunk-4a88f590":1,"chunk-4db859f6":1,"chunk-74297d34":1,"chunk-768a7fb6":1,"chunk-ce6e7b1c":1,"chunk-f3866ac6":1,"chunk-f8309364":1,"chunk-162ec5d6":1,"chunk-4e7af5d5":1};o[t]?e.push(o[t]):0!==o[t]&&s[t]&&e.push(o[t]=new Promise((function(e,s){for(var a="css/"+({}[t]||t)+"."+{"chunk-071ac97c":"9772890b","chunk-074d0268":"276223ce","chunk-08bd7fef":"49ead742","chunk-0ac2d55a":"b192f667","chunk-0df14f2c":"3a771e9c","chunk-1b5e0c55":"c3809838","chunk-280a93e9":"0f36f9cb","chunk-2d0bcda5":"31d6cfe0","chunk-2debfaaa":"85e6420d","chunk-324de8eb":"8f3c984d","chunk-3cb1ae6a":"76be3b5e","chunk-4a88f590":"e4aaec56","chunk-4db859f6":"5d9258c4","chunk-74297d34":"6490ce15","chunk-768a7fb6":"79ccfe9e","chunk-7afe1536":"31d6cfe0","chunk-7ce3a8f2":"31d6cfe0","chunk-ce6e7b1c":"7b665593","chunk-f3866ac6":"284d0141","chunk-f8309364":"af1cc8af","chunk-2d21a396":"31d6cfe0","chunk-7719e2ad":"31d6cfe0","chunk-162ec5d6":"5842483a","chunk-4e7af5d5":"b7235c68"}[t]+".css",i=l.p+a,n=document.getElementsByTagName("link"),r=0;r<n.length;r++){var c=n[r],d=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(d===a||d===i))return e()}var u=document.getElementsByTagName("style");for(r=0;r<u.length;r++){c=u[r],d=c.getAttribute("data-href");if(d===a||d===i)return e()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=e,m.onerror=function(e){var a=e&&e.target&&e.target.src||i,n=new Error("Loading CSS chunk "+t+" failed.\n("+a+")");n.code="CSS_CHUNK_LOAD_FAILED",n.request=a,delete o[t],m.parentNode.removeChild(m),s(n)},m.href=i;var p=document.getElementsByTagName("head")[0];p.appendChild(m)})).then((function(){o[t]=0})));var a=i[t];if(0!==a)if(a)e.push(a[2]);else{var n=new Promise((function(e,s){a=i[t]=[e,s]}));e.push(a[2]=n);var c,d=document.createElement("script");d.charset="utf-8",d.timeout=120,l.nc&&d.setAttribute("nonce",l.nc),d.src=r(t);var u=new Error;c=function(e){d.onerror=d.onload=null,clearTimeout(m);var s=i[t];if(0!==s){if(s){var a=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src;u.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",u.name="ChunkLoadError",u.type=a,u.request=o,s[1](u)}i[t]=void 0}};var m=setTimeout((function(){c({type:"timeout",target:d})}),12e4);d.onerror=d.onload=c,document.head.appendChild(d)}return Promise.all(e)},l.m=t,l.c=a,l.d=function(t,e,s){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(l.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)l.d(s,a,function(e){return t[e]}.bind(null,a));return s},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="/",l.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],d=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var m=d;n.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"016f":function(t,e,s){t.exports=s.p+"img/PrataELivelo.d0e9e11d.png"},"01e3":function(t,e,s){},"0220":function(t,e,s){"use strict";s("5052")},"0332":function(t,e,s){"use strict";s.d(e,"a",(function(){return o}));var a=s("c388");class o extends a["a"]{getBankAccountInfoByPix(t){return this.api.get(this.baseUrl+"/payments/bank-account/info",{params:t})}getBankAccountInfoByPixForPromoters(t){return this.api.get(this.baseUrl+"/payments/bank-account-commission/info",{params:t})}}},"053b":function(t,e,s){"use strict";s.d(e,"a",(function(){return i}));var a=s("c388");const o="https://ymlzcthbmqcpwaiwcg3hikmbpa0rsehz.lambda-url.us-east-1.on.aws/v1";class i extends a["a"]{consult(t){return this.api.get(this.baseUrl+"/cartos/fgts/balance",{params:t})}verify(t){return this.api.get(this.baseUrl+"/cartos/fgts/proposal",{params:t})}async approve(t){return this.api.post(o+"/cartos/fgts/credit-operation",t)}async tryAgain(t){return this.api.put(o+"/cartos/fgts/credit-operation",t)}async proposalAcquittance(t){return this.api.put(o+"/cartos/fgts/renegotiation/proposal",t)}withdrawalProposal(t){return this.api.post(this.baseUrl+"/cartos/fgts/proposal/reversal",{...t})}cancel(t){return this.api.delete(`${this.baseUrl}/cartos/fgts/proposal/${t}`)}generateReceipt(t){return this.api.get(`${this.baseUrl}/cartos/fgts/proposal/${t}/generate_receipt`)}}},"057c":function(t,e,s){t.exports=s.p+"img/livelo-smart.6f34e3a5.png"},"05c3":function(t,e,s){},"061f":function(t,e,s){},"06ec":function(t,e,s){t.exports=s.p+"img/img-alert.ec2f7e49.svg"},"0863":function(t,e,s){t.exports=s.p+"img/img-empty-state.1a8c6d4e.svg"},"09ea":function(t,e,s){},"0a1b":function(t,e,s){t.exports=s.p+"img/livelo-viagem.1f685c8f.png"},"0a9f":function(t,e,s){"use strict";s("061f")},1:function(t,e){},10:function(t,e){},1083:function(t,e,s){"use strict";s("6c64")},1185:function(t,e,s){},"11b3":function(t,e){t.exports="data:image/png;base64,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"},"120e":function(t,e,s){"use strict";s.d(e,"a",(function(){return i}));var a=s("ade3"),o=s("c388");class i extends o["a"]{constructor(...t){super(...t),Object(a["a"])(this,"CREDIT_CARD_PRODUCT_ID",8)}async simulateCreditCard(t,e,s,a){const o={type:t,rate_id:e,amount:s,document:a};return this.api.post(this.baseUrl+"/cards/simulation",{...o}).then(({data:t})=>t)}getCreditCardRates(t){const e={creditor_id:t};return this.api.get(`${this.baseUrl}/products/${this.CREDIT_CARD_PRODUCT_ID}/rates`,{params:e}).then(({data:t})=>t)}getCreditCardCreditor(){return this.api.get(`${this.baseUrl}/creditors?product_id=${this.CREDIT_CARD_PRODUCT_ID}`)}getCreditCardTransactionData(t){return this.api.get(`${this.baseUrl}/cards/transaction/${t}`)}verifyCreditCardByExternalId(t){const e={external_proposal_id:t};return this.api.get(this.baseUrl+"/cards/proposal",{params:e})}async approve(t){return this.api.post(this.baseUrl+"/cards/credit-operation",t)}async transactions(t){return this.api.get(`${this.baseUrl}/cards/transactions/${t}`)}async reverse(t){return this.api.post(this.baseUrl+"/cards/reverse-transaction",{...t})}}},"12aa":function(t,e,s){},"13bf":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"modal is-active"},[e("div",{staticClass:"modal-background",on:{click:function(e){return t.close()}}}),e("div",{staticClass:"modal-content",style:{width:t.width}},[e("div",{staticClass:"modal-content__header"},[t._t("title"),t.hasCloseButton?e("div",{staticClass:"close-button",on:{click:function(e){return t.close()}}},[e("i",{staticClass:"fas fa-times"})]):t._e()],2),e("div",{staticClass:"modal-content__body"},[t._t("body")],2),e("div",{staticClass:"modal-content__actions"},[t._t("actions")],2)])])},o=[],i={name:"BaseSimpleModal",props:{width:{default:"320px",type:String,required:!0},isClosable:{default:!0,type:Boolean,required:!1},hasCloseButton:{default:!1,type:Boolean,required:!1},hasEscape:{type:Boolean,default:!0,required:!1}},created(){this.hasEscape&&window.addEventListener("keydown",this.escape)},beforeDestroy(){this.hasEscape&&window.removeEventListener("keydown",this.escape)},methods:{escape(t){"Escape"===t.key&&this.close()},close(){this.$emit("close")}}},n=i,r=(s("4e99"),s("2877")),l=Object(r["a"])(n,a,o,!1,null,"67af813e",null);e["default"]=l.exports},"13e4":function(t,e,s){"use strict";s("95ac")},1557:function(t,e,s){},"173f":function(t,e,s){"use strict";s("d5ba")},1799:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t._self._c;return e("nav",{staticClass:"pagination is-rounded",attrs:{role:"navigation","aria-label":"pagination"}},[t.data?e("ul",{staticClass:"pagination-list"},[t._l(t.dataLinks,(function(s){return[s?[e("li",{key:t.linkKey(s.label)},[e("a",{staticClass:"pagination-link",class:{"is-current":s.active},attrs:{disabled:!s.url},domProps:{innerHTML:t._s(t.sanitizedContent(s.label))},on:{click:function(e){return t.setPageToStorage(s.url)}}})])]:t._e()]})),e("li",{staticClass:"pagination__total"},[e("span",[t._v("Exibindo de "+t._s(t.dataFrom)+" até "+t._s(t.dataTo)+" de "+t._s(t.dataTotal))])])],2):t._e()])},o=[],i=s("2f62"),n=s("4d0a"),r={name:"Pagination",mixins:[n["a"]],props:{data:{type:Object,required:!0},storageKey:{type:String,default:"filters",required:!1}},computed:{...Object(i["c"])({isMobile:"app/isMobile"}),mobileDataLinks(){var t,e;const s=[...null!==(t=null===this||void 0===this||null===(e=this.data)||void 0===e?void 0:e.links)&&void 0!==t?t:[]],a=this.data.current_page,o=s[a],i=s.shift(),n=s.pop();return i&&(i.label="&laquo;"),n&&(n.label="&raquo;"),[i,o,n]},dataLinks(){return this.isMobile?this.mobileDataLinks:this.data.links},dataFrom(){return this.data.from||"--"},dataTo(){return this.data.to||"--"},dataTotal(){return this.data.total||"--"}},updated(){this.$emit("mounted")},methods:{setPageToStorage(t){let e=sessionStorage.getItem(this.storageKey);e=e?JSON.parse(e):{},decodeURIComponent(t).split("?").pop().split("&").map(t=>t.split("=")).forEach(([t,s])=>{"page"===t&&(e.page=s)}),e=JSON.stringify(e),sessionStorage.setItem(this.storageKey,e),this.$emit("paginate")},linkKey(t){return`${t}-${Math.random(1e3)}`}}},l=r,c=(s("5f0c"),s("2877")),d=Object(c["a"])(l,a,o,!1,null,"37406f9d",null);e["default"]=d.exports},"19c1":function(t,e,s){"use strict";s("6c10")},"19c3":function(t,e,s){},"1b87":function(t,e,s){"use strict";s("96ed")},"1bbd":function(t,e,s){"use strict";s.d(e,"a",(function(){return o}));var a=s("c388");class o extends a["a"]{getProducts(){return this.api.get(this.baseUrl+"/products")}getProductsRates(t,e,s=!1){return this.api.get(`${this.baseUrl}/products/${t}/rates${s?"/all":""}`,{params:e})}getUniqueProductRate(t,e){return this.api.get(`${this.baseUrl}/products/${t}/rates/${e}`)}createProductRate(t,e){return this.api.post(`${this.baseUrl}/products/${t}/rates`,e)}updateProductRate(t,e){return this.api.put(`${this.baseUrl}/products/${t}/rates`,e)}getProductRatesPromoter({product_id:t,promoter_id:e}){return this.api.get(`${this.baseUrl}/products/${t}/rates/promoter/${e}`)}getProductRatePromoter({product_id:t,params:e}){return this.api.get(`${this.baseUrl}/products/${t}/rates-promoter`,{params:e})}createProductRatePromoter({product_id:t,data:e}){return this.api.post(`${this.baseUrl}/products/${t}/rates-promoter`,e)}updateProductRatePromoter({product_id:t,rate_commission_id:e,data:s}){return this.api.put(`${this.baseUrl}/products/${t}/rates-promoter/${e}`,s)}deleteProductRatePromoter({product_id:t,rate_commission_id:e}){return this.api.delete(`${this.baseUrl}/products/${t}/rates-promoter/${e}`)}createActivationRate({product_id:t,data:e}){return this.api.post(`${this.baseUrl}/products/${t}/rate-exception`,e)}updateActivationRate({product_id:t,rate_promote_id:e,data:s}){return this.api.put(`${this.baseUrl}/products/${t}/rate-exception/${e}`,s)}deleteActivationRate({product_id:t,rate_promote_id:e}){return this.api.delete(`${this.baseUrl}/products/${t}/rate-exception/${e}`)}}},"1bc1":function(t,e,s){},"1d91":function(t,e,s){"use strict";s("7644")},"1dd1":function(t,e,s){},"1ea8":function(t,e,s){},2:function(t,e){},"202b":function(t,e,s){"use strict";s("bd92")},2057:function(t,e,s){},"20a8":function(t,e,s){"use strict";s.d(e,"a",(function(){return n}));var a=s("c388");const o="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1lIjoiT2N0YSJ9.8EJy7xvSqyeHhpSiR1Zh_SRnOxvUUdqEcgj-SH4pTGE",i="https://ymlzcthbmqcpwaiwcg3hikmbpa0rsehz.lambda-url.us-east-1.on.aws/v1";class n extends a["a"]{async getProposals(t){const{data:e}=await this.api.get(i+"/proposals",t?{params:t}:"");return e}async getProposalsByURL(t){const{data:e}=await this.api.get(t);return e}async getDetailsProposals(t,e){const s={bank:e};return this.api.get(`${this.baseUrl}/proposals/${t}/details`,{params:s})}async updateProposals(t,e){return this.api.put(`${this.baseUrl}/proposals/${t}`,e)}async getProposalsStatus(t){const e={proposal:t};return this.api.get(this.baseUrl+"/antecipate-fgts/proposal",{params:e})}async createProposal(t){const{data:e}=await this.api.post(this.baseUrl+"/proposals/admin",t);return e}async downloadCSV(t){return this.api.get(i+"/proposals",{params:t}).then(({data:t})=>t)}async history(t){return this.api.get(`${this.baseUrl}/proposals/${t}/history`).then(({data:t})=>t)}async getStatusList(){return this.api.get(this.baseUrl+"/proposals/status").then(({data:t})=>t)}async confirm(t){return delete this.api.defaults.headers.common.Authorization,delete this.api.defaults.headers.common["X-Authorization"],this.api.defaults.headers.common={Authorization:"Bearer "+o},this.api.get(this.baseUrl+"/antecipate-fgts/simulation",{params:t})}async massStatusUpdate(t,e){const s=t.map(t=>({id:t,status:e}));return this.api.patch(this.baseUrl+"/proposals",s)}}},"20f8":function(t,e,s){"use strict";s("2807")},"220a":function(t,e,s){},"220a2":function(t,e,s){"use strict";s("29e5")},"22a8":function(t,e,s){"use strict";s("1185")},"22e9":function(t,e,s){},"256b":function(t,e,s){t.exports=s.p+"img/livelo-hospedagem.4729f209.png"},2807:function(t,e,s){},"29e5":function(t,e,s){},"2a26":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"control",class:{isMobile:t.isMobile}},[e("label",{staticClass:"label"},[t._t("default")],2),t.featured?[e("div",{staticClass:"select__container",attrs:{id:t.uniqueId},on:{click:function(t){t.stopPropagation()}}},[e("div",{staticClass:"select__featured input",on:{click:t.focus}},[e("span",{staticClass:"text"},[t._v(" "+t._s(t.filteredOptions[0].name)+" ")]),t.filteredOptions[0].featured?[e("div",{staticClass:"featured"},[e("img",{attrs:{src:t.chartArrow,alt:"chart-arrow"}}),e("div",[t._v(t._s(t.filteredOptions[0].message))])])]:t._e(),t._m(0)],2),t.isFocused?[e("div",{staticClass:"select__list",class:{"list-with-featured":t.featured}},[e("div",{staticClass:"select__list--content"},t._l(t.options,(function(s,a){return e("button",{key:"btn-"+a,staticClass:"button is-ghost",attrs:{title:s.name},on:{click:function(e){e.preventDefault(),t.input(s.value),t.blur()}}},[e("span",[t._v(t._s(s.name))]),s.featured?[e("div",{staticClass:"featured ml-2"},[e("img",{attrs:{src:t.chartArrow,alt:"chart-arrow"}}),e("div",[t._v(t._s(s.message))])])]:t._e()],2)})),0)])]:t._e()],2)]:t.isCustomSelected?[e("div",{staticClass:"select__container",attrs:{id:t.uniqueId},on:{click:function(t){t.stopPropagation()}}},[e("div",{staticClass:"select__input"},[t.showChips?[e("ul",{ref:"chips",staticClass:"select__chips",class:{ground:t.isFocused||t.form.query},on:{click:function(t){t.stopPropagation()}}},[t._l(t.value,(function(s,a){return[t.findChip(s)?[e("li",{key:a,staticClass:"chip is-system"},[e("span",{on:{click:function(e){return e.preventDefault(),t.focus.apply(null,arguments)}}},[t._v(" "+t._s(t.findChip(s).name)+" ")]),e("i",{staticClass:"fas fa-times",on:{click:function(e){return e.preventDefault(),t.removeChip(s)}}})])]:t._e()]}))],2)]:t._e(),e("div",{staticClass:"select__input--content"},[t.searching?[e("span",{staticClass:"icon",class:{ground:!t.isFocused||!t.form.query}},[e("i",{staticClass:"fas fa-spinner"})])]:t._e(),t.showBtnClean&&!t.searching?[e("button",{staticClass:"icon",class:{ground:!t.isFocused||!t.form.query},attrs:{title:"Apaga seleção"},on:{click:function(e){return e.preventDefault(),t.removeSelected.apply(null,arguments)}}},[e("i",{staticClass:"far fa-times-circle"})])]:t._e(),e("input",t._b({directives:[{name:"model",rawName:"v-model",value:t.form.query,expression:"form.query"}],key:"query",ref:"query",staticClass:"input",style:{height:t.queryHeight},attrs:{placeholder:t.placeholderModifier,disabled:t.searching,autocomplete:"off",name:"query",type:"text"},domProps:{value:t.form.query},on:{focus:t.focus,change:t.change,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleEnter.apply(null,arguments)},input:function(e){e.target.composing||t.$set(t.form,"query",e.target.value)}}},"input",t.$attrs,!1))],2)],2),t.showBtnAdd?[e("button",{staticClass:"button",attrs:{title:"Adicionar"},on:{click:function(e){return e.preventDefault(),t.added.apply(null,arguments)}}},[e("i",{staticClass:"fas fa-plus"})])]:t._e(),t.showList?[e("div",{staticClass:"select__list"},[e("div",{staticClass:"select__list--content"},[t.canMultiselect?t._l(t.filteredOptions,(function(s,a){return e("label",{key:"check-"+a,staticClass:"checkbox button is-ghost"},[e("i",{staticClass:"mr-2",class:t.form.value.includes(s.value)?"fas fa-check-square":"far fa-square"}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.value,expression:"form.value"}],attrs:{name:`${s.name}-${s.value}`,type:"checkbox"},domProps:{value:s.value,checked:Array.isArray(t.form.value)?t._i(t.form.value,s.value)>-1:t.form.value},on:{change:[function(e){var a=t.form.value,o=e.target,i=!!o.checked;if(Array.isArray(a)){var n=s.value,r=t._i(a,n);o.checked?r<0&&t.$set(t.form,"value",a.concat([n])):r>-1&&t.$set(t.form,"value",a.slice(0,r).concat(a.slice(r+1)))}else t.$set(t.form,"value",i)},function(e){return t.input()}]}}),e("span",[t._v(t._s(s.name))])])})):t._l(t.filteredOptions,(function(s,a){return e("button",{key:"btn-"+a,staticClass:"button is-ghost",attrs:{title:s.name},on:{click:function(e){e.preventDefault(),t.input(s.value),t.blur()}}},[t._v(" "+t._s(s.name)+" ")])})),t.hasFilteredOptions?t._e():[e("span",{staticClass:"select__list--empty"},[t._v(" (0) resultados para este termo, tente novamente. ")])]],2)])]:t._e()],2)]:[e("div",{staticClass:"select"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.form.value,expression:"form.value"}],on:{focus:t.focus,blur:t.blur,change:[function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.form,"value",e.target.multiple?s:s[0])},function(e){t.change(),t.input()}]}},[t.hasDefaultBlank?e("option",{attrs:{value:"",disabled:"",selected:""}},[t._v(" "+t._s(t.placeholder)+" ")]):t._e(),t._l(t.options,(function(s,a){return e("option",{key:a,domProps:{value:s.value}},[t._v(" "+t._s(s.name)+" ")])}))],2)])],t.message?[e("small",{staticClass:"has-text-danger"},[t._v(t._s(t.message))])]:t._e(),t.info?[e("small",{staticClass:"has-text-info",domProps:{innerHTML:t._s(t.info)}})]:t._e()],2)},o=[function(){var t=this,e=t._self._c;return e("span",{staticClass:"icon has-text-link"},[e("i",{staticClass:"fas fa-chevron-down"})])}],i=s("2ef0"),n=s.n(i),r=s("2f62"),l=s("954f"),c=s.n(l),d={name:"BaseSelectV2",props:{value:{type:[String,Number,Array],default:"",required:!1},options:{type:Array,required:!0},placeholder:{type:String,default:"Selecione uma opção",required:!1},info:{type:String,default:"",required:!1},disabled:{type:Boolean,default:!1,required:!1},searching:{type:Boolean,default:!1,required:!1},errorMessage:{type:String,default:"",required:!1},canFilter:{type:Boolean,default:!1,required:!1},canAdd:{type:Boolean,default:!1,required:!1},canMultiselect:{type:Boolean,default:!1,required:!1},hasApiSearch:{type:Boolean,default:!1,required:!1},hasDefaultBlank:{type:Boolean,default:!0,required:!1},featured:{type:Boolean,default:!1,required:!1}},data:()=>({uniqueId:"base-select-v2-"+Math.random().toString(36).substr(2,9),internalMessage:"",queryHeight:"40px",form:{value:"",query:""},isTyping:!1,isFocused:!1,timeout:{typing:null,threshold:350},chartArrow:c.a}),computed:{...Object(r["c"])({isMobile:"app/isMobile"}),message(){return this.errorMessage||this.internalMessage},filteredOptions(){const{query:t}=this.form;return this.options.filter(({name:e,search:s,...a})=>{if(!e)return!1;const o=e.toLowerCase(),i=t.toLowerCase(),n=s?s.toLowerCase():"";return o.includes(i)||n.includes(i)?{name:e,...a}:null})},hasFilteredOptions(){return this.filteredOptions.length>0},hasOptions(){return this.options.length>0},isCustomSelected(){return this.canFilter||this.canAdd||this.canMultiselect||this.hasApiSearch},showBtnAdd(){return this.canAdd&&!!this.form.query&&!this.hasFilteredOptions&&!(this.isTyping||this.searching)},showBtnClean(){return this.canFilter?!!this.form.value:this.canMultiselect&&this.form.value.length&&!this.searching},showList(){return(this.canMultiselect||this.canFilter)&&this.isFocused&&this.hasOptions&&!this.isTyping&&!this.searching},showChips(){return this.canMultiselect&&!!this.form.value&&this.form.value.length>0},placeholderModifier(){return this.showChips?"":this.placeholder}},watch:{"form.query":{handler(t,e){this.isTyping=!0,clearTimeout(this.timeout.typing),this.timeout.typing=setTimeout(()=>{this.isTyping=!1,(!t||t.length>1)&&t!==e&&this.isFocused&&this.search()},this.timeout.threshold)}},value:{immediate:!0,handler(t){if(this.canMultiselect)this.form.value=null===t?[]:t;else{const e=n.a.find(this.options,{value:t});e?(this.form.value=e.value,this.form.query=e.name):(this.form.value="",this.form.query="")}this.handleQueryHeight("value")}},isFocused(t){(this.canFilter||this.canMultiselect||this.featured)&&(t&&!this.hasFocusEvent&&(this.hasFocusEvent=!0,document.addEventListener("click",this.handleFocus)),t||(this.hasFocusEvent=!1,document.removeEventListener("click",this.handleFocus))),t&&(this.queryHeight="40px")},showChips:{immediate:!0,handler(){this.$nextTick(()=>{this.$nextTick(()=>{this.handleQueryHeight("show-chips")})})}},showList:{immediate:!0,handler(){this.$nextTick(()=>{this.$nextTick(()=>{this.handleQueryHeight("show-list")})})}},searching(t){t||setTimeout(()=>{this.$refs.query.focus()},1)}},mounted(){this.hasApiSearch&&this.canAdd&&(this.internalMessage="Componente não suporta busca e adição simultânea. Por favor, escolha apenas uma opção.")},beforeDestroy(){document.removeEventListener("click",this.handleFocus)},methods:{blur(){this.$emit("blur"),this.isFocused=!1,this.form.query=""},focus(){this.$emit("focus"),this.isFocused=!0},change(){this.$emit("change")},input(t=null){this.$emit("input",null!==t&&void 0!==t?t:this.form.value)},search(){this.$emit("search",this.form.query)},added(){this.$emit("added",this.form.query)},removeSelected(){this.form.value=[],this.input()},handleEnter(t){t.preventDefault(),t.stopPropagation(),this.showBtnAdd&&this.added()},handleFocus({target:t}){const e=t.closest("#"+this.uniqueId);e&&e.contains(t)||this.blur()},handleQueryHeight(){if(!this.canMultiselect)return;const{chips:t}=this.$refs,{offsetHeight:e}=null!==t&&void 0!==t?t:{offsetHeight:0},s=40;let a;a=this.isFocused||!t?s:Math.max(e+12,s),this.queryHeight=a+"px"},findChip(t){return this.options.find(e=>e.value===t)},removeChip(t){this.form.value=this.form.value.filter(e=>e!==t),this.form.query="",this.input()}}},u=d,m=(s("eabe"),s("2877")),p=Object(m["a"])(u,a,o,!1,null,"58473d3e",null);e["default"]=p.exports},"2a55":function(t,e,s){"use strict";s("22e9")},"2a98":function(t,e,s){"use strict";s.d(e,"a",(function(){return o}));s("5494");var a=s("c388");class o extends a["a"]{async getUsers(t={}){const e=new URLSearchParams(t).toString();let s=this.baseUrl+"/users";""!==e&&(s+="?"+e);const{data:a}=await this.api.get(s);return a}async getInfoUser(){const{data:t}=await this.api.get(this.baseUrl+"/users/me?with_account=1&check_for_antifraud=1");return t}updateUserByUserId(t,e){return this.api.put(`${this.baseUrl}/users/${e}`,t)}logoutUser(){return this.api.post(this.baseUrl+"/users/logout")}getResponsibleByID(t,e=null){return this.api.get(`${this.baseUrl}/responsibles/${t}`,{params:e})}updateAccounts(t,e){return this.api.put(`${this.baseUrl}/clients/${t}`,e)}savePromoter(t){return this.api.post(this.baseUrl+"/users/promoters",t)}updatePromoter(t,e){return this.api.put(`${this.baseUrl}/users/promoters/${e}`,t)}getPromoters(t){return this.api.get(`${this.baseUrl}/users/promoters${0|t?"/"+t:""}`)}searchPromoters(t){return this.api.get(this.baseUrl+"/users/promoters",{params:t})}getIndicated({id:t,params:e}){return this.api.get(`${this.baseUrl}/users/promoters/${t}/indicated`,{params:e})}getIndicatedByPromoterID({id:t,promoter_id:e}){return this.api.get(`${this.baseUrl}/users/promoters/${t}/indicated/${e}`,{params:{with_performance:1}})}saveIndicated({id:t,data:e}){return this.api.post(`${this.baseUrl}/users/promoters/${t}/indicated`,e)}deleteIndicated({id:t,promoter_id:e}){return this.api.delete(`${this.baseUrl}/users/promoters/${t}/indicated/${e}`)}saveUser(t){return this.api.post(this.baseUrl+"/responsibles",t)}updateUser(t,e){return this.api.put(`${this.baseUrl}/responsibles/${e}`,t)}active({id:t,params:e}){return this.api.put(`${this.baseUrl}/users/${t}/toggle-activation`,e)}getResponsible(t,e=null){return this.api.get(`${this.baseUrl}/responsibles${0|t?"/"+t:""}`,{params:e})}searchResponsible(t){return this.api.get(this.baseUrl+"/responsibles",{params:t})}searchResponsibleCSV(t=null){return this.api.get(this.baseUrl+"/responsibles?output=csv",{params:t})}personalData(t,e){return this.api.post(`${this.baseUrl}/responsibles/${e}/personal-data`,{...t})}async searchTypists(t){return this.api.get(this.baseUrl+"/users/typists",{params:t})}async getCoordUsersByID(t){return this.api.get(`${this.baseUrl}/users/responsibles/${t}/typists`)}changePassword(t){return this.api.put(this.baseUrl+"/users/password",{...t})}deactiveAllUsers(t){return this.api.post(`${this.baseUrl}/users/promoters/${t}/deactivate-users`)}}},"2b7f":function(t,e,s){},3:function(t,e){},3081:function(t,e,s){"use strict";s.d(e,"a",(function(){return o}));var a=s("c388");class o extends a["a"]{async getBanks(){return this.api.get(this.baseUrl+"/payments/banks")}async getBanksForPromoters(){return this.api.get(this.baseUrl+"/payments/banks-commission")}async getCreditors(t){return this.api.get(this.baseUrl+"/creditors",{params:t})}}},3540:function(t,e,s){"use strict";const a="session";e["a"]={methods:{getFiltersFromStorage({raw:t=!1}={}){const e="local"===a?localStorage:sessionStorage;let s=e.getItem("filters");if(s){if(s=JSON.parse(s),t)return s;const{responsible:e,promoter:a,...o}=s;return{...o,...a?{promoter_id:a.value}:"",...e?{responsible_id:e.value}:""}}return{}}}}},"356e":function(t,e,s){t.exports=s.p+"img/img-check.900fa9e7.svg"},3573:function(t,e,s){"use strict";s("8316")},"35ab":function(t,e,s){},3657:function(t){t.exports=JSON.parse('[{"name":"group1","items":[{"description":"Valor Liberado","value":":net_amount"},{"description":"Valor de Emissão","value":":amount"},{"description":"Quantidade de Períodos","value":":quota_qty"},{"description":"IOF","value":":iof"}]},{"name":"group2","items":[{"description":"Maior ou Igual","value":">="},{"description":"Menor ou Igual","value":"<="},{"description":"Maior","value":">"},{"description":"Menor","value":"<"},{"description":"Estritamente Igual","value":"=="}]},{"name":"group4","items":[{"description":"(","value":"("},{"description":")","value":")"},{"description":"*","value":"*"},{"description":"/","value":"/"},{"description":"+","value":"+"},{"description":"-","value":"-"}]},{"name":"group5","items":[{"description":"E","value":"&&"},{"description":"OU","value":"||"}]}]')},3981:function(t,e,s){},"3ad9":function(t,e,s){"use strict";s("f465")},"3b0c":function(t,e,s){"use strict";s("cae1")},"3e6d":function(t,e,s){},"3f19":function(t,e,s){},4:function(t,e){},4251:function(t){t.exports=JSON.parse('[{"name":"group1","items":[{"description":"Valor Liberado","value":":net_amount"},{"description":"Valor de Emissão","value":":amount"},{"description":"Quantidade de Períodos","value":":quota_qty"},{"description":"IOF","value":":iof"}]},{"name":"group4","items":[{"description":"(","value":"("},{"description":")","value":")"},{"description":"*","value":"*"},{"description":"/","value":"/"},{"description":"+","value":"+"},{"description":"-","value":"-"}]}]')},4293:function(t,e){t.exports="data:image/png;base64,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"},4360:function(t,e,s){"use strict";var a=s("2b0e"),o=s("2f62"),i=s("bfa9"),n={logonToken:!1,loading:!0,screenWidth:!1,show_survey_commissions:!1,statuses:[],suppliers:[]},r={SET_TOKEN(t,e){t.logonToken=e},SET_LOADING(t,e){t.loading=e},SET_SCREEN_WIDTH(t,e){t.screenWidth=e},SET_SHOW_SURVEY_COMMISSIONS(t,e){t.show_survey_commissions=e},SET_STATUSES(t,e){t.statuses=e},SET_SUPPLIERS(t,e){t.suppliers=e}},l=(s("14d9"),s("20a8")),c=s("83b4"),d={SET_TOKEN({commit:t},e){t("SET_TOKEN",e)},SET_LOADING({commit:t},e){t("SET_LOADING",e)},SET_SCREEN_WIDTH({commit:t},e){t("SET_SCREEN_WIDTH",e)},SET_SHOW_SURVEY_COMMISSIONS({commit:t},e){t("SET_SHOW_SURVEY_COMMISSIONS",e)},async SET_STATUSES({commit:t,state:e}){if(!e.logonToken)return;const s=new l["a"](e.logonToken);await s.getStatusList().then(({data:e})=>{const s=e.map(t=>({name:t,value:t}));t("SET_STATUSES",s)})},async SET_SUPPLIERS({commit:t,state:e}){if(!e.logonToken)return;const s=new c["a"](e.logonToken);await s.getSuppliersList().then(({data:e})=>{const s=[];let a;a=Array.isArray(e.data)?e.data:Object.values(e.data);for(const{id:t,name:o}of a)s.push({name:o,value:t});t("SET_SUPPLIERS",s)})}},u={isMobile(t){return t.screenWidth<769}},m={state:n,mutations:r,actions:d,getters:u},p={theme:{}},h={SET_THEME(t,e){t.theme=e}},v=s("5717"),f={async SET_THEME({commit:t},{theme:e}){if(e.business)await t("SET_THEME",e);else try{let{business_info:s,styles:a}=e;"string"===typeof s&&(s=JSON.parse(s),a=JSON.parse(a)),await t("SET_THEME",{business:{name:e.name,email:s.business.email},edit:{remove:{...s.edit.remove}},...a})}catch{await t("SET_THEME",{business:{name:v.name,email:v.business_info.business.email},edit:{remove:{...v.business_info.edit.remove}},...v.styles})}}},b={},_={state:p,mutations:h,actions:f,getters:b},g={userInfo:{},shouldChangePassword:!1},C={SET_USER_DATA(t,e){t.userInfo=e},SET_CHANGE_PASSWORD_REQUIREMENT(t,e){t.shouldChangePassword=e}},y={SET_USER_DATA({commit:t},e){t("SET_USER_DATA",e)},SET_CHANGE_PASSWORD_REQUIREMENT({commit:t},e){t("SET_CHANGE_PASSWORD_REQUIREMENT",e)}},w={},k={state:g,mutations:C,actions:y,getters:w},S={promoter_id:"",promoter_name:""},x={SET_PROMOTER_ID(t,e){t.promoter_id=e},SET_PROMOTER_NAME(t,e){t.promoter_name=e}},A={SET_PROMOTER_ID({commit:t},e){t("SET_PROMOTER_ID",e)},SET_PROMOTER_NAME({commit:t},e){t("SET_PROMOTER_NAME",e)}},P={},D={state:S,mutations:x,actions:A,getters:P},T={consult:{},documentsConsulted:[]},I={SET_CONSULT(t,e){t.consult=e},SET_DOCUMENTS_CONSULTED(t,e){t.documentsConsulted=e}},E={SET_CONSULT({commit:t},e){t("SET_CONSULT",e)},SET_DOCUMENTS_CONSULTED({commit:t},e){t("SET_DOCUMENTS_CONSULTED",e)}},O={},M={state:T,mutations:I,actions:E,getters:O},R={proposal:{}},B={SET_PROPOSAL_DATA(t,e){t.proposal=e}},L={SET_PROPOSAL_DATA({commit:t},e){t("SET_PROPOSAL_DATA",e)}},U={},N={state:R,mutations:B,actions:L,getters:U},q={minimized:!0,pinned:!0,mouseover:!1,automatic:null},F={SET_MINIMIZED(t,e){t.minimized=e},SET_PINNED(t,e){t.pinned=e},SET_MOUSEOVER(t,e){t.mouseover=e},SET_AUTOMATIC(t,e){t.automatic=e}},j={SET_MINIMIZED({commit:t},e){t("SET_MINIMIZED",e)},SET_PINNED({commit:t},e){t("SET_PINNED",e)},SET_MOUSEOVER({commit:t},e){t("SET_MOUSEOVER",e)},SET_AUTOMATIC({commit:t},e){t("SET_AUTOMATIC",e)}},V={},z={state:q,mutations:F,actions:j,getters:V};a["a"].use(o["a"]);const $=new i["a"]({key:"vuex",storage:window.localStorage,reducer:t=>({retract:t.retract,app:t.app,consult:t.consult})});e["a"]=new o["a"].Store({plugins:[$.plugin],modules:{app:{namespaced:!0,...m},consult:{namespaced:!0,...M},theme:{namespaced:!0,..._},user:{namespaced:!0,...k},typist:{namespaced:!0,...D},proposal:{namespaced:!0,...N},retract:{namespaced:!0,...z}}})},"436a":function(t,e,s){"use strict";s.d(e,"a",(function(){return o}));var a=s("c388");class o extends a["a"]{async getImages(t){return this.api.get(this.baseUrl+"/anti-fraud",{params:t}).then(({data:t})=>t)}async getImagesCorban(t){return this.api.get(this.baseUrl+"/anti-fraud/corban",{params:t}).then(({data:t})=>t)}async checkApproval(t){return this.api.get(this.baseUrl+"/anti-fraud/approve",{params:t}).then(({data:t})=>t)}async resolution(t){return this.api.put(this.baseUrl+"/anti-fraud/resolution",t).then(({data:t})=>t)}async checkRFB(t){return this.api.post(this.baseUrl+"/anti-fraud/rfb",t)}refusal(t){return this.api.get(this.baseUrl+"/anti-fraud/refusal",{params:{document:t}})}deleteDetails(t,e,s){return this.api.delete(`${this.baseUrl}/anti-fraud/${t}/details?account_id=${e}&proposal_id=${s}`)}async issue(t,e){return this.api.put(`${this.baseUrl}/proposals/${t}/issue-type`,e)}async createVideoCallRoom(t){return this.api.post(this.baseUrl+"/anti-fraud/video-calls",t)}async fulfillmentVideoCall(t){return this.api.put(this.baseUrl+"/anti-fraud/video-calls/fulfillment",t)}}},"448f":function(t,e,s){},"44fb":function(t,e,s){"use strict";s("fb2f")},"49db":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"simulation"},[t.isProductFGTS&&t.supplierAlert?e("TheError",{attrs:{type:"info",message:t.supplierMessage}}):t._e(),e("v-validate-observer",{scopedSlots:t._u([{key:"default",fn:function({handleSubmit:s,failed:a}){return[e("form",{on:{click:function(t){t.stopPropagation()},submit:function(e){return e.preventDefault(),s(t.submit)}}},[e("base-input",{style:t.isProductINSS?"width:600px":"width:205px;",attrs:{value:t.availableAmountValue,mask:"money",disabled:""}},[e("span",[t._v(" "+t._s(t.availableAmountLabel)+" ")])]),e("div",{staticClass:"consult__form"},[t.isProductINSS?[e("v-validate",{attrs:{rules:"required",name:"Tipo"},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("base-select-v2",{attrs:{"error-message":s[0],options:t.list.types},model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}},[e("span",[t._v(" Tipo ")])])]}}],null,!0)}),e("v-validate",{attrs:{rules:"required|alert_min",name:"Valor esperado"},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("base-input",{attrs:{"error-message":s[0],mask:"money"},on:{change:function(e){t.form.amount=e}},model:{value:t.form.amount,callback:function(e){t.$set(t.form,"amount",e)},expression:"form.amount"}},[e("span",[t._v(" Valor esperado ")])])]}}],null,!0)})]:t._e(),t.isProductFGTS?[e("v-validate",{attrs:{rules:{required:!0,...t.selectedRate.max_amount?{rate_min:{issue_amount:t.availableAmount,wished_amount:t.form.wish_amount,max_amount:t.selectedRate.max_amount}}:""},name:t.selectedRate.name},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("base-select-v2",{attrs:{"error-message":s[0],options:t.list.rates},model:{value:t.form.rate_id,callback:function(e){t.$set(t.form,"rate_id",e)},expression:"form.rate_id"}},[e("span",[t._v(" Taxa ")])])]}}],null,!0)}),t.showWishedAmount?e("span",[e("base-input",{attrs:{mask:"money"},on:{change:function(e){t.form.wish_amount=e}},model:{value:t.form.wish_amount,callback:function(e){t.$set(t.form,"wish_amount",e)},expression:"form.wish_amount"}},[e("span",[t._v(" Valor desejado ")])])],1):t._e()]:t._e(),e("span",{staticClass:"is-flex is-align-items-end mr-0 mt-auto"},[e("button",{staticClass:"button is-link is-outlined",class:{recuo:a},attrs:{type:"submit"}},[e("span",[t._v(" Simular ")])])])],2)],1)]}}])}),t.isProductFGTS&&t.insuranceAlert?e("TheError",{attrs:{type:"info",message:t.insuranceMessage}}):t._e(),e("the-error",{staticClass:"mt-2",attrs:{message:t.message.error}})],1)},o=[],i=(s("14d9"),s("2f62")),n=s("2ef0"),r=s.n(n),l=s("4c4e"),c=s("b686"),d=s("97f3"),u=s("1bbd"),m=s("83b4"),p=s("df18"),h=s("053b"),v=s("b3b3"),f=s("2a26"),b={name:"BalanceSimulate",components:{BaseInput:v["default"],BaseSelectV2:f["default"],TheError:()=>Promise.resolve().then(s.bind(null,"c6f5"))},mixins:[c["a"]],props:{product:{type:Number,required:!0},document:{type:String,default:"",required:!0},benefitNumber:{type:String,default:"",required:!1},availableAmount:{type:[String,Number,Object],default:"",required:!0},insuranceAlert:{type:Boolean,default:!1,required:!1},supplierId:{type:[String,Number],default:1,required:!0},suppliers:{type:Array,default:()=>[],required:!1}},data:()=>({form:{rate_id:"",wish_amount:0,amount:0,type:""},list:{types:[{name:"Valor total",value:"net-present-value"},{name:"Valor da parcela",value:"payment-per-period"}],typesLabel:{"net-present-value":"Margem total disponível para empréstimo","payment-per-period":"Valor máximo da parcela"},rates:[]},showWishedAmount:!1,supplierAlert:"",message:{error:"",interval:null,timeout:15e3},supplierCached:null}),computed:{...Object(i["d"])({token:t=>t.app.logonToken}),shouldShowWishedAmount(){return this.supplierId!==l["a"].CARTOS_SUPPLIER_ID},isProductFGTS(){return 3===this.product},isProductINSS(){return 12===this.product},availableAmountLabel(){const t=this.form.type||"net-present-value";return this.isProductFGTS?"Valor de emissão":this.isProductINSS?this.list.typesLabel[t]:"Valor"},availableAmountValue(){const t=this.form.type||"net-present-value";return this.isProductFGTS?this.availableAmount:this.availableAmount[t]},selectedRate(){return this.form.rate_id?r.a.find(this.list.rates,{value:this.form.rate_id}):{name:"Taxa",max_amount:null}},insuranceMessage(){return"Por se tratar de um cliente assíduo consideramos importante garantir a segurança da operação para a hipótese de um sinistro, portanto, essa operação contará com Seguro. O cliente estará isento de TC.<br><br><strong>Esteja atento: se o seu seu cliente não aceitar a operação com seguro opte pela tabela Shake de Morango (sem seguro e TC).</strong>"},supplierMessage(){const t=r.a.find(this.suppliers,{value:this.supplierCached});return t?`A sua consulta na <strong>${t.name}</strong> está salva e será aproveitada em novas tabelas.`:"A bancarizadora da sua consulta está salva e será aproveitada em novas tabelas."}},watch:{form:{handler(){this.reset()},deep:!0},"form.type":{handler(t){this.form.amount="net-present-value"===t?this.availableAmountValue:""}}},async mounted(){await this.loadInfo()},methods:{handlerError(t){var e,s,a,o,i,n,r,l,c,d,u,m;let p=(null===t||void 0===t||null===(e=t.response)||void 0===e||null===(s=e.data)||void 0===s||null===(a=s.error)||void 0===a?void 0:a.message)||(null===t||void 0===t||null===(o=t.error)||void 0===o||null===(i=o.response)||void 0===i||null===(n=i.data)||void 0===n||null===(r=n.error)||void 0===r?void 0:r.message)||(null===t||void 0===t||null===(l=t.error)||void 0===l||null===(c=l.data)||void 0===c?void 0:c.message)||(null===t||void 0===t?void 0:t.message)||t;if(null!==t&&void 0!==t&&null!==(d=t.response)&&void 0!==d&&null!==(u=d.data)&&void 0!==u&&null!==(m=u.error)&&void 0!==m&&m.errors){var h,v,f;const e=Object.values(null===t||void 0===t||null===(h=t.response)||void 0===h||null===(v=h.data)||void 0===v||null===(f=v.error)||void 0===f?void 0:f.errors);p=p.concat("<br> - "+e.map(t=>t).join("<br> - "))}this.$set(this.message,"error",p)},checkSupplierLimit(){return this.supplierId===l["a"].BMP_SUPPLIER_ID?this.availableAmountValue>2e4:this.supplierId===l["a"].QITECH_SUPPLIER_ID&&this.availableAmountValue>3e4},async loadInfo(){this.isProductINSS&&(this.form.rate_id=12),this.isProductFGTS&&(await this.getRates(),this.checkSupplierLimit()&&(this.showWishedAmount=!0))},async submit(){this.isProductINSS&&await this.getSimulationINSS(),this.isProductFGTS&&await this.getSimulationFGTS()},getSupplyID(){var t;const e=r.a.find(this.list.rates,{value:this.form.rate_id});return null!==(t=e.supplier_id)&&void 0!==t?t:null},getFormattedData(){const{document:t,benefitNumber:e}=this,{rate_id:s,type:a,amount:o,wish_amount:i}=this.form;let n;return this.isProductINSS&&(n={document:t,benefit_number:e,rate_id:s,type:a,...o?{amount:o}:""}),this.isProductFGTS&&(n={document:t,rate_id:s,...i?{wish_amount:i}:""}),n},toLocaleString(t){return parseFloat(t).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})},simulation(t){this.$emit("simulation",t)},reset(){this.$emit("reset",!0)},api(t){return"inss"===t?new d["a"](this.token):"product"===t?new u["a"](this.token):"qitech"===t?new m["a"](this.token):"bmp"===t?new p["a"](this.token):"cartos"===t?new h["a"](this.token):null},async getSimulationINSS(){const t=this.api("inss"),e=this.getFormattedData();this.loading=!0,this.$set(this.message,"error",""),await t.simulate(e).then(({data:t})=>{var s;t.data.disbursed_issue_amount&&t.data.periods&&(this.showWishedAmount=!0,this.simulation({...t.data,form:{document:e.document,amount:this.form.amount,type_name:null===(s=this.list.types.find(({value:t})=>t===this.form.type))||void 0===s?void 0:s.name}}))}).catch(t=>this.handlerError(t)).finally(()=>{this.loading=!1}),this.loading=!1},async getRates(){const t=this.api("product"),{product:e}=this,s={creditor_id:1,issue_amount:this.availableAmount,supplier_id:this.supplierId};this.loading=!0,this.list.rates=[],this.$set(this.message,"error",""),await t.getProductsRates(e,s).then(({data:t})=>{for(const e of t.data)this.list.rates.push({...e,value:e.id,name:e.name,supplier_id:e.supplier_id});if(1===this.list.rates.length){const[t]=this.list.rates;this.form.rate_id=t.value}}).catch(t=>this.handlerError(t)).finally(()=>{this.loading=!1})},async getSimulationFGTS(){const t=this.getSupplyID();let e;e=t===l["a"].QITECH_SUPPLIER_ID?this.api("qitech"):t===l["a"].BMP_SUPPLIER_ID?this.api("bmp"):this.api("cartos");const s=this.getFormattedData();if(this.loading=!0,!s.rate_id)return this.loading=!1,this.$set(this.message,"error","Erro! Tabela não selecionada"),void this.$emit("reset",!0);this.$set(this.message,"error",""),await e.consult(s).then(({data:e})=>{var a;e.data.disbursed_issue_amount&&e.data.periods&&(t!==l["a"].CARTOS_SUPPLIER_ID&&(this.showWishedAmount=!0),this.supplierCached=e.data.supplier_cached,this.simulation({...e.data,form:{document:s.document,amount:this.form.wish_amount,rate_id:this.form.rate_id,rate_name:null===(a=this.list.rates.find(({value:t})=>t===this.form.rate_id))||void 0===a?void 0:a.name}}));e.data.supplier_alert&&(this.supplierAlert=e.data.supplier_alert)}).catch(t=>this.handlerError(t)).finally(()=>{this.loading=!1}),this.loading=!1}}},_=b,g=(s("d775"),s("2877")),C=Object(g["a"])(_,a,o,!1,null,"78a5d9f0",null);e["default"]=C.exports},"4c23":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t._self._c;return e("base-modal",{staticClass:"modal-data",class:{isCorban:t.isCorban},attrs:{"show-buttons":!1,"has-escape":t.isNew},on:{close:t.close},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Dados cadastrais ")]},proxy:!0},{key:"body",fn:function(){return[t.steps.length>1?[e("base-tab",{attrs:{arr:t.steps,disabled:t.isNew,"arr-prop":"name"},model:{value:t.currentStep,callback:function(e){t.currentStep=e},expression:"currentStep"}})]:t._e(),t.steps.length&&(t.accountData.document||t.accountData.account_id)?[e(t.steps[t.currentStep].component,{tag:"component",staticClass:"step is-block px-4 py-0",attrs:{"account-data":t.accountData},on:{merge:t.handleMerge,next:function(e){t.currentStep=t.currentStep+1},close:t.close}})]:t._e()]},proxy:!0}])})},o=[],i=(s("14d9"),s("2f62")),n=s("d155"),r=s("ed08"),l=s("b686"),c=s("c1ec"),d={name:"ModalData",components:{BaseModal:c["default"],BaseTab:()=>Promise.resolve().then(s.bind(null,"e0f7"))},mixins:[l["a"]],props:{isNew:{type:Boolean,required:!1},isCorban:{type:Boolean,required:!1},stepsList:{type:Set,required:!0},prioritizeState:{type:String,default:"proposal",required:!1},productId:{type:Number,default:0,required:!1},data:{type:Object,default:()=>{},required:!1}},provide(){return{isNew:this.isNew,isCorban:this.isCorban,token:this.token,user:this.user,product_id:this.productId}},data:()=>({message:{text:"",type:""},accountData:{},currentStep:0,steps:[],stepsData:{basic:{name:"Básico",component:()=>s.e("chunk-768a7fb6").then(s.bind(null,"a4a1"))},documents:{name:"Documentos",component:()=>s.e("chunk-7ce3a8f2").then(s.bind(null,"8c65"))},address:{name:"Endereço",component:()=>s.e("chunk-7afe1536").then(s.bind(null,"a7b8"))},bank:{name:"Banco",component:()=>s.e("chunk-280a93e9").then(s.bind(null,"4800"))},"proposal-data":{name:"Proposta",component:()=>s.e("chunk-2d0bcda5").then(s.bind(null,"2a00"))},"proposal-new":{name:"Proposta",component:()=>s.e("chunk-324de8eb").then(s.bind(null,"9cfb4"))},upload:{name:"Upload",component:()=>s.e("chunk-2debfaaa").then(s.bind(null,"bc4d"))}}}),computed:{...Object(i["d"])({token:t=>t.app.logonToken,user:t=>t.user.userInfo,stateProposal:t=>t.proposal.proposal,stateConsult:t=>t.consult.consult}),isUniqueAccount(){var t;return null!==(t=this.accountData.isUniqueAccount)&&void 0!==t&&t},defaultDataState(){return this.isCorban?{...this.data,id:this.data.account_id}:"proposal"===this.prioritizeState?{...this.stateProposal,id:this.stateProposal.account_id}:this.stateConsult},document(){return this.defaultDataState.document}},watch:{stepsList:{handler(){this.configSteps()},immediate:!0},currentStep(t,e){t!==e&&(this.message.text="",this.message.type="")}},async mounted(){this.isCorban?this.accountData=this.defaultDataState:this.document&&await this.uniqueAccount()},beforeDestroy(){this.setProposal({}),this.setConsult({})},methods:{...Object(i["b"])({setProposal:"proposal/SET_PROPOSAL_DATA",setConsult:"consult/SET_CONSULT"}),handlerError(t){var e,s,a,o,i,n,r,l,c,d,u,m;let p=(null===t||void 0===t||null===(e=t.response)||void 0===e||null===(s=e.data)||void 0===s||null===(a=s.error)||void 0===a?void 0:a.message)||(null===t||void 0===t||null===(o=t.error)||void 0===o||null===(i=o.response)||void 0===i||null===(n=i.data)||void 0===n||null===(r=n.error)||void 0===r?void 0:r.message)||(null===t||void 0===t||null===(l=t.error)||void 0===l||null===(c=l.data)||void 0===c?void 0:c.message)||(null===t||void 0===t?void 0:t.message)||t;if(null!==t&&void 0!==t&&null!==(d=t.response)&&void 0!==d&&null!==(u=d.data)&&void 0!==u&&null!==(m=u.error)&&void 0!==m&&m.errors){var h,v,f;const e=Object.values(null===t||void 0===t||null===(h=t.response)||void 0===h||null===(v=h.data)||void 0===v||null===(f=v.error)||void 0===f?void 0:f.errors);p=p.concat("<br> - "+e.map(t=>t).join("<br> - "))}this.message.text=p,this.message.type="warning"},close(){this.$emit("close")},configSteps(){this.steps=[];for(const e of this.stepsList){var t;const s=null!==(t=this.stepsData[e])&&void 0!==t?t:{},a=Object(r["d"])((null===s||void 0===s?void 0:s.name)||"");this.steps.push({...s,cssClass:a})}},handleMerge(t){"proposal"===this.prioritizeState?this.setProposal({...t,...this.stateProposal}):this.setConsult({...t,...this.stateConsult});for(const e of Object.keys(this.defaultDataState))this.$set(this.accountData,e,this.defaultDataState[e])},async uniqueAccount(){const t=new n["a"](this.token);this.loading=!0,await t.checkUniqueAccount(this.document).then(({data:t})=>{this.accountData={...t.data,...this.defaultDataState,isUniqueAccount:!0}}).catch(async()=>this.fetchDataFallback()).finally(()=>{this.loading=!1})},async fetchDataFallback(){const t=new n["a"](this.token);this.loading=!0,this.defaultDataState.account_id?await t.getBasics({account_id:this.defaultDataState.account_id,params:{proposal_id:this.defaultDataState.proposal_id}}).then(({data:t})=>{this.accountData={...t.data,...this.defaultDataState,isUniqueAccount:!1}}).catch(t=>this.handlerError(t)).finally(()=>{this.loading=!1}):this.accountData={...this.defaultDataState,isUniqueAccount:!1}}}},u=d,m=(s("44fb"),s("2877")),p=Object(m["a"])(u,a,o,!1,null,"bd4db618",null);e["default"]=p.exports},"4c4e":function(t,e,s){"use strict";const a="https://api.bancoprata.com.br/v1",o="2.0.3",i="dUd4QCRb49kUoFqxd337BPorPphXllHxknY2crt1XckrxXkxkcakgj4fgnmOHSxz",n=1,r=4,l=7;e["a"]={BASE_API_URL:a,API_KEY:i,THEME_VERSION:o,QITECH_SUPPLIER_ID:n,BMP_SUPPLIER_ID:r,CARTOS_SUPPLIER_ID:l}},"4d0a":function(t,e,s){"use strict";var a=s("c0c4"),o=s.n(a);e["a"]={methods:{sanitizedContent(t){return o.a.sanitize(t)}}}},"4de6":function(t,e,s){"use strict";s("7243")},"4e55":function(t,e,s){},"4e99":function(t,e,s){"use strict";s("4e55")},"4f4a":function(t,e){t.exports="data:image/png;base64,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"},5:function(t,e){},5052:function(t,e,s){},"53c6":function(t,e,s){"use strict";s("448f")},"54c1":function(t,e,s){t.exports=s.p+"img/livelo-uber.ef6c0138.png"},"56d7":function(t,e,s){"use strict";s.r(e);var a=s("2b0e"),o=s("c27a"),i=s("1321"),n=s.n(i),r=s("716b"),l=s.n(r),c=s("58ca"),d=s("d6e6"),u=s.n(d),m=(s("15f5"),s("4b3c"),s("c6f5")),p=s("7bb1"),h=s("4c93"),v=s("3501"),f=s("38a9");Object(p["d"])("eager"),Object(p["c"])("required",{...h["j"],message:"{_field_} é obrigatório",computesRequired:!0}),Object(p["c"])("confirmed",{...h["d"],message:"O campo de {_field_} deve ser igual ao campo de Senha",computesRequired:!0}),Object(p["c"])("CPF",{validate:t=>Object(v["a"])(t),message:"O CPF informado não é válido",computesRequired:!0}),Object(p["c"])("space",{validate:t=>/\s/.test(t),message:"Informe nome e sobrenome",computesRequired:!0}),Object(p["c"])("date",{validate:t=>/(^(((0[1-9]|1[0-9]|2[0-8])[/](0[1-9]|1[012]))|((29|30|31)[/](0[13578]|1[02]))|((29|30)[/](0[4,6,9]|11)))[/](19|[2-9][0-9])\d\d$)|(^29[/]02[/](19|[2-9][0-9])(00|04|08|12|16|20|24|28|32|36|40|44|48|52|56|60|64|68|72|76|80|84|88|92|96)$)/.test(t),message:"Informe uma data válida",computesRequired:!0}),Object(p["c"])("alert_min",{validate:t=>parseFloat(t)>=.01,message:"Preencha com um valor válido",computesRequired:!0}),Object(p["c"])("rate_min",{validate:(t,{wished_amount:e,issue_amount:s,max_amount:a})=>{const o=.74*s,i=e?Math.min(e,o):o;return i<=a},message:(t,{max_amount:e})=>{const s=parseFloat(e).toLocaleString("pt-BR",{style:"currency",currency:"BRL"});return"Por gentileza, faça a simulação com inclusão do valor desejado até "+s},params:["issue_amount","wished_amount","max_amount"],computesRequired:!0});const b=[{name:"email",validator:h["e"]},{name:"length",validator:h["f"]},{name:"between",validator:h["c"]},{name:"alpha",validator:h["b"]},{name:"regex",validator:h["i"]},{name:"min",validator:h["h"]},{name:"max",validator:h["g"]},{name:"alpha_num",validator:h["a"]}];for(const Yl of b)Object(p["c"])(Yl.name,{...Yl.validator,message:f["a"][Yl.name]});var _=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("router-view"),t.loading?e("loader",{attrs:{object:t.color.light,color1:t.color.secondary,color2:t.color.primary,opacity:t.opacity,bg:t.backgroundColor,size:"5",speed:"2",name:"circular",objectbg:"#999793"}}):t._e()],1)},g=[],C=s("2f62"),y=s("5717"),w=s("b686"),k=(s("14d9"),s("2a98")),S={computed:{...Object(C["d"])({token:t=>t.app.logonToken,$_userInfo:t=>t.user.userInfo}),userInfo:{get(){return this.$_userInfo},set(t){this.setUserData(t)}}},async mounted(){const{name:t}=this.$router.history.current;"login"!==t&&this.token&&await this.getUserData()},methods:{...Object(C["b"])({setUserData:"user/SET_USER_DATA"}),async getUserData(){const t=new k["a"](this.token);await t.getInfoUser().then(({data:t})=>{this.userInfo=t}).catch(()=>{this.redirectToLogin()})},redirectToLogin(){const t="login";this.$route.name!==t&&this.$router.push({name:t})}}},x=s("cdd5");const{domain:A,loadTheme:P}=Object(x["a"])();var D={name:"App",mixins:[S,w["a"]],provide(){return{domain:this.domain}},computed:{...Object(C["d"])({$_screenWidth:t=>t.app.screenWidth,theme:t=>t.theme.theme,user:t=>t.user.userInfo}),domain(){return A()},screenWidth:{get(){return this.$_screenWidth},set(t){this.setScreenWidth(t)}},hasTheme(){return!!this.theme.business},color(){var t;return(null===(t=this.theme)||void 0===t?void 0:t.color)||y.styles.color},opacity(){return this.hasTheme?80:100},backgroundColor(){return this.hasTheme?"#343a40":"#fff"}},watch:{user(){this.getStatusList(),this.getSuppliersList()}},async created(){window.addEventListener("resize",this.resize),window.addEventListener("refreshToken",this.saveToken),this.loading=!0;try{await P()}catch{}finally{this.loading=!1,this.setFavicon()}},async mounted(){this.resize(),this.toggleBodyClass(!0)},beforeDestroy(){window.removeEventListener("resize",this.resize),window.removeEventListener("refreshToken",this.saveToken),this.toggleBodyClass(!1)},methods:{...Object(C["b"])({setScreenWidth:"app/SET_SCREEN_WIDTH",getStatusList:"app/SET_STATUSES",getSuppliersList:"app/SET_SUPPLIERS",setToken:"app/SET_TOKEN"}),toggleBodyClass(t){const[e]=this.domain.split(".");t?window.document.body.classList.add(e):window.document.body.classList.remove(e)},resize(){this.screenWidth=parseInt(window.innerWidth,10)},setFavicon(){var t,e;const s=document.createElement("link");s.setAttribute("rel","shortcut icon"),s.setAttribute("type","image/png"),s.setAttribute("href",null===(t=this.theme)||void 0===t||null===(e=t.logo)||void 0===e?void 0:e.favicon),document.head.appendChild(s)},saveToken({detail:t}){this.setToken(t)}}},T=D,I=(s("74d2"),s("2877")),E=Object(I["a"])(T,_,g,!1,null,null,null),O=E.exports,M=s("8c4f"),R=function(){var t=this,e=t._self._c;return e("div",{staticClass:"login"},[e("div",{staticClass:"login__content",attrs:{id:"content"}},[e("div",{staticClass:"login__logo"},[e("img",{attrs:{src:t.logo,alt:t.businessName}})]),e("v-validate-observer",{staticClass:"login__form",scopedSlots:t._u([{key:"default",fn:function({handleSubmit:s}){return[e("form",{on:{click:function(t){t.stopPropagation()},key:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:s(t.login)},submit:function(e){return e.preventDefault(),s(t.login)}}},[e("p",{staticClass:"text"},[t._v(" Para acessar, entre com os seus dados ")]),e("v-validate",{attrs:{rules:"required",name:"E-mail"},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("base-input",{attrs:{type:"email",tabindex:"1",placeholder:t.businessEmail,"error-message":s[0]},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}},[e("span",[t._v("E-mail")])])]}}],null,!0)}),e("v-validate",{attrs:{rules:"required",name:"Senha"},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("base-input",{attrs:{type:"password",placeholder:"************",tabindex:"2","error-message":s[0]},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}},[e("span",[t._v("Senha")])])]}}],null,!0)}),e("div",{staticClass:"field"},[e("div",{staticClass:"control is-flex"},[e("button",{staticClass:"button",attrs:{type:"submit",tabindex:"3"}},[t._v(" Fazer login ")])])]),e("the-error",{staticClass:"mt-3",attrs:{message:t.message.error}})],1)]}}])})],1),e("span",{staticClass:"login__shadow"})])},B=[],L=s("c388");class U extends L["a"]{async getToken(t){const{data:e}=await this.api.post(this.baseUrl+"/users/login",t);return e}}var N=s("4360");const q=()=>{var t,e,s,a;return{NAME:(null===(t=N["a"].state)||void 0===t||null===(e=t.theme)||void 0===e||null===(s=e.theme)||void 0===s||null===(a=s.business)||void 0===a?void 0:a.name)||"Prata Digital",IMG:"",DIVIDER:" | ",PATH:window.location.pathname,HOST:window.location.host}},F=(t={})=>{const e=q(),s={title:""+(t.title?t.title:""),titleTemplate:""+(t.title?`%s${e.DIVIDER}${e.NAME}`:e.NAME),meta:[...t.description?{name:"description",content:t.description}:"",{property:"og:title",content:""+(t.title?t.title+e.DIVIDER+e.NAME:e.NAME)},{property:"og:site_name",content:""+e.NAME},{property:"og:type",content:"website"},{property:"og:url",content:`${e.HOST}${e.PATH}`},...e.IMG?{property:"og:image",content:`${e.HOST}${e.IMG}`}:"",...t.description?{property:"og:description",content:t.description}:"",{name:"twitter:card",content:"summary"},{name:"twitter:site",content:""+e.HOST},{name:"twitter:title",content:""+(t.title?t.title+e.DIVIDER+e.NAME:e.NAME)},...t.description?{name:"twitter:description",content:t.description}:"",{itemprop:"name",content:""+(t.title?t.title+e.DIVIDER+e.NAME:e.NAME)},...t.description?{itemprop:"description",content:t.description}:"",...e.IMG?{itemprop:"image",content:`${e.HOST}${e.IMG}`}:""]};if(t.noindex){const t="robots",e="noindex, nofollow, noarchive, nosnippet, noodp";s.meta.push({name:t,content:e})}return s};var j={meta:F},V=s("b3b3"),z={name:"LoginView",components:{BaseInput:V["default"],TheError:()=>Promise.resolve().then(s.bind(null,"c6f5"))},mixins:[w["a"]],data:()=>({meta:{title:"Login"},message:{error:"",timeout:null},form:{email:"",password:""},observer:null}),computed:{...Object(C["d"])({theme:t=>t.theme.theme,$_userInfo:t=>t.user.userInfo,$_token:t=>t.app.logonToken}),token:{get(){return this.$_token},set(t){this.setToken(t)}},userInfo:{get(){return this.$_userInfo},set(t){this.setUserData(t)}},businessEmail(){var t,e,s;return null!==(t=null===(e=this.theme)||void 0===e||null===(s=e.business)||void 0===s?void 0:s.email)&&void 0!==t?t:""},businessName(){var t,e,s;return""+(null!==(t=null===(e=this.theme)||void 0===e||null===(s=e.business)||void 0===s?void 0:s.name)&&void 0!==t?t:"")},logo(){var t,e,s;return""+(null!==(t=null===(e=this.theme)||void 0===e||null===(s=e.logo)||void 0===s?void 0:s.desktop)&&void 0!==t?t:"")}},watch:{form:{handler(){this.message.error=""},deep:!0}},created(){this.loading=!1,localStorage.removeItem("params")},mounted(){this.$nextTick(()=>this.setObserveContent()),window.addEventListener("resize",this.setWindowResize)},beforeDestroy(){this.observer&&this.observer.disconnect(),window.removeEventListener("resize",this.setWindowResize)},methods:{...Object(C["b"])({setToken:"app/SET_TOKEN",setLoading:"app/SET_LOADING",setUserData:"user/SET_USER_DATA",setChangePasswordRequirement:"user/SET_CHANGE_PASSWORD_REQUIREMENT",setShowCommissionSurvey:"app/SET_SHOW_SURVEY_COMMISSIONS"}),handlerError(t){var e,s,a,o,i,n,r,l,c,d,u,m;let p=(null===t||void 0===t||null===(e=t.response)||void 0===e||null===(s=e.data)||void 0===s||null===(a=s.error)||void 0===a?void 0:a.message)||(null===t||void 0===t||null===(o=t.error)||void 0===o||null===(i=o.response)||void 0===i||null===(n=i.data)||void 0===n||null===(r=n.error)||void 0===r?void 0:r.message)||(null===t||void 0===t||null===(l=t.error)||void 0===l||null===(c=l.data)||void 0===c?void 0:c.message)||(null===t||void 0===t?void 0:t.message)||t;if(null!==t&&void 0!==t&&null!==(d=t.response)&&void 0!==d&&null!==(u=d.data)&&void 0!==u&&null!==(m=u.error)&&void 0!==m&&m.errors){var h,v,f;const e=Object.values(null===t||void 0===t||null===(h=t.response)||void 0===h||null===(v=h.data)||void 0===v||null===(f=v.error)||void 0===f?void 0:f.errors);p=p.concat("<br> - "+e.map(t=>t).join("<br> - "))}this.$set(this.message,"error",p)},setObserveContent(){const t=document.getElementById("content"),e={attributes:!0,childList:!0,subtree:!0},s=this;this.observer=new MutationObserver(e=>{for(const{type:a}of e)if("childList"===a){s.setContentHeight(t.clientHeight,"observer");break}}),this.observer.observe(t,e)},setWindowResize(){const t=document.getElementById("content");this.setContentHeight(t.clientHeight,"resize")},setContentHeight(t,e){console.log("--login-content-height",t,e),document.documentElement.style.setProperty("--login-content-height",t)},async getUserInfo(){const t=new k["a"](this.token);try{await t.getInfoUser().then(({data:t})=>{this.userInfo=t,t.filter?localStorage.setItem("reward_report_filter",t.filter):localStorage.removeItem("reward_report_filter")})}catch{}},async login(){const t=new U;this.loading=!0,await t.getToken(this.form).then(async({data:t})=>{const{token:e,default_route:s,menu:a,show_survey_commissions:o,force_update_password:i}=t;this.setShowCommissionSurvey(o),e&&(this.token=e,await this.setChangePasswordRequirement(i),await this.getUserInfo()),s&&a&&localStorage.setItem("menu",JSON.stringify({default:s,routers:[...a]})),window.location.pathname!==s&&this.$router.push({path:s}).catch({})}).catch(t=>this.handlerError(t)).finally(()=>{this.loading=!1})}},metaInfo(){return j.meta(this.meta)}},$=z,H=(s("d2c7"),s("13e4"),Object(I["a"])($,R,B,!1,null,"1f1bcca9",null)),G=H.exports,Q=function(){var t,e,s=this,a=s._self._c;return a("Layout",{staticClass:"dashboard",attrs:{title:"Dashboard","max-width":"100%","is-card":""},scopedSlots:s._u([{key:"helper",fn:function(){return[a("div",{staticClass:"card flat nav"},[a("div",{staticClass:"card-content"},[a("aside",{staticClass:"menu"},[a("p",{staticClass:"menu-label"},[s._v(" Consultas ")]),a("ul",{staticClass:"menu-list"},s._l(s.tabs,(function({title:t,key:e,onlyAdmin:o},i){return a("li",{key:i,staticClass:"mb-1"},[o?[s.isSuper?[a("a",{class:{"is-active":s.tabIndex===e},on:{click:function(t){return s.setActiveTab(e)}}},[a("span",[s._v(s._s(t))])])]:s._e()]:[a("a",{class:{"is-active":s.tabIndex===e},on:{click:function(t){return s.setActiveTab(e)}}},[a("span",[s._v(s._s(t))])])]],2)})),0)])])])]},proxy:!0}])},[null===s.tabIndex||s.isActiveTabExternal?s._e():a("h2",{staticClass:"title"},[s._v(" "+s._s(s.tabs[s.tabIndex].longTitle)+" ")]),null===s.tabIndex||s.isActiveTabExternal?s._e():a("BaseTooltip",{staticClass:"tooltip--info mb-5",attrs:{"can-be-closed":""},scopedSlots:s._u([{key:"tooltip-title",fn:function(){return[s._v(" Informação ")]},proxy:!0},{key:"tooltip-text",fn:function(){return[s._v(" Siga os seguintes passos para alterar o filtro dos gráficos: "),a("ol",[a("li",[s._v("Selecione o período")]),a("li",[s._v(" Clique no botão de recarregar: "),a("span",{staticClass:"icon"},[a("i",{staticClass:"fas fa-redo"})])])])]},proxy:!0}],null,!1,1960465341)}),null===s.tabIndex||0===s.tabIndex||s.isActiveTabExternal?s._e():a("div",{staticClass:"columns sticky"},[a("div",{staticClass:"column is-12 is-hidden-tablet"},[a("button",{staticClass:"button is-link",on:{click:function(t){s.showFilters=!s.showFilters}}},[s._v(" Filtros ")])]),a("div",{staticClass:"column is-narrow",class:{"is-hidden":!s.showFilters}},[a("base-calendar",{attrs:{value:s.form.period},on:{input:function(t){s.form.period=t}}},[a("span",[s._v("Período")])])],1),s.isCreditor||2!==s.tabIndex?s._e():a("div",{staticClass:"column is-narrow",class:{"is-hidden":!s.showFilters}},[a("base-select",{attrs:{options:s.list.promoters,searching:s.searching["dashboard"],"can-filter":"","has-api-search":""},on:{search:function(t){return s.handlePromotersSearch(t,"dashboard")}},model:{value:s.form.promoter_id,callback:function(t){s.$set(s.form,"promoter_id",t)},expression:"form.promoter_id"}},[a("span",[s._v("Promotor")])])],1)]),s.message.error&&!s.isActiveTabExternal?a("div",{staticClass:"columns"},[a("div",{staticClass:"column"},[a("div",{staticClass:"message is-danger"},[a("div",{staticClass:"message-body",domProps:{innerHTML:s._s(s.sanitizedContent(s.message.error))}})])])]):s._e(),s.isActiveTabExternal?s._e():a("hr"),null!==(t=s.tabs[s.tabIndex])&&void 0!==t&&t.graphics&&!s.isActiveTabExternal?[s._l(s.tabs[s.tabIndex].graphics,(function(t,e){var o,i,n,r,l;return[t.showingCondition?[a("div",{key:"title-"+e,staticClass:"is-flex is-align-items-end mb-2"},[a("h2",{staticClass:"label"},[a("span",[s._v(s._s(t.name))])]),t.isShown?a("button",{staticClass:"button is-link is-outlined ml-auto",on:{click:function(e){return s.requestData(t.name)}}},[a("span",[s._v("Recarregar")]),a("span",{staticClass:"icon is-small"},[a("i",{staticClass:"fas fa-redo"})])]):s._e()]),t.isShown?a("hr",{key:"divider-"+e,staticClass:"my-0 mb-2"}):s._e(),t.isShown?a("div",{key:"data-"+e,staticClass:"mb-6"},["charts"===t.showingStyle?a("div",{key:"chart-data-"+e,staticClass:"box"},[t.isShown&&s.findChartBy(t.name)?a("div",[a("v-chart",{style:""+("line"===(null===(o=s.findChartBy(t.name))||void 0===o?void 0:o.chart_type)?"width:600px;":""),attrs:{series:null===(i=s.findChartBy(t.name))||void 0===i?void 0:i.series,options:null===(n=s.findChartBy(t.name))||void 0===n?void 0:n.options,height:"300"}})],1):a("div",{staticClass:"request-button mb-6"},[a("span",[s._v("Gráfico sem dados")])])]):a("div",[a("div",{key:"table-"+e,staticClass:"table__container"},[a("table",{staticClass:"table is-narrow is-fullwidth"},[a("thead",{staticClass:"sticky"},[a("tr",s._l(null===(r=s.findTableBy(t.name))||void 0===r?void 0:r.keys,(function(t,e){return a("th",{key:e},[s._v(" "+s._s(t)+" ")])})),0)]),a("tbody",s._l(null===(l=s.findTableBy(t.name))||void 0===l?void 0:l.data,(function(t,e){return a("tr",{key:e},s._l(t,(function(t,e){return a("td",{key:e},[a("span",[s._v(s._s(t))])])})),0)})),0)])])])]):a("div",{key:"data-"+e},[a("div",{staticClass:"request-button box mb-6"},[a("button",{staticClass:"button is-link btn-consult",on:{click:function(e){return s.requestData(t.name)}}},[s._v(" Carregar dados ")])])])]:s._e()]}))]:s._e(),s.isActiveTabExternal?[a("script",{attrs:{src:"https://bi.bancoprata.com.br/app/iframeResizer.js",type:"application/javascript"}}),a("iframe",{staticStyle:{overflow:"hidden",height:"100%",width:"100%"},attrs:{frameborder:"0",onload:"iFrameResize({}, this)",src:null===(e=s.tabs[s.tabIndex])||void 0===e?void 0:e.embedUrl}})]:s._e()],2)},K=[],J=s("2ef0"),W=s.n(J),Y={data:()=>({timeoutThreshold:1e3,timeout:{promoters:null,responsible:null,typist:null},searching:{},searchingKeyName:""}),methods:{handlePromotersSearch(t,e){e&&(this.$set(this.searching,e,!1),this.searchingKeyName=e),this.callSearch({options:{search:t},target:"promoters",method:"searchPromoters"})},handleResponsibleSearch(t,e,s){s&&(this.$set(this.searching,s,!1),this.searchingKeyName=s),this.callSearch({options:{search:t,...e},target:"responsible",method:"searchResponsible",id_key:"user_id"})},handleTypistsSearch(t,e,s){s&&(this.$set(this.searching,s,!1),this.searchingKeyName=s),this.callSearch({options:{search:t,...e},target:"typists",method:"searchTypists"})},callSearch({options:t,target:e,method:s,id_key:a="id"}){const o=new k["a"](this.token);this.searchingKeyName&&(this.searching[this.searchingKeyName]=!0),clearTimeout(this.timeout[e]),this.timeout[e]=setTimeout(async()=>{try{const{data:i}=await o[s](t);t.search||(this.timeout[e]=null);for(const s of i.data.data)this.list[e].push({...s,name:s.name,value:s[a],search:t.search});this.list[e]=W.a.uniqBy(W.a.reverse(this.list[e]),"value")}catch(i){this.handlerError&&this.handlerError(i)}finally{this.searchingKeyName&&(this.searching[this.searchingKeyName]=!1)}},this.timeoutThreshold)}}},Z=s("4d0a"),X=s("c8cf");const tt="/dashboard/dashboard-admin",et="https://ymlzcthbmqcpwaiwcg3hikmbpa0rsehz.lambda-url.us-east-1.on.aws/v1";class st extends L["a"]{async getProductionPerDay(t){return this.api.get(`${this.baseUrl}${tt}/production-per-day`,{params:t}).then(({data:t})=>t)}async getProposalStatusByPromoter(t){return this.api.get(`${et}${tt}/proposal-status-by-promoter`,{params:t}).then(({data:t})=>t)}async getPromoterBalance(t){return this.api.get(`${this.baseUrl}${tt}/promoter-balance`,{params:t}).then(({data:t})=>t)}async getSelfieStatistics(t){return this.api.get(`${this.baseUrl}${tt}/selfie-statistics`,{params:t}).then(({data:t})=>t)}async getDisbursementStatus(t){return this.api.get(`${this.baseUrl}${tt}/disbursement-status`,{params:t}).then(({data:t})=>t)}async getProposalStatus(t){return this.api.get(`${this.baseUrl}${tt}/proposal-status-chart`,{params:t}).then(({data:t})=>t)}async getProposalPaymentByScore(t){return this.api.get(`${this.baseUrl}${tt}/proposal-payment-by-score`,{params:t}).then(({data:t})=>t)}async getWarranty(t){return this.api.get(`${this.baseUrl}${tt}/warranty-chart`,{params:t}).then(({data:t})=>t)}async getUserStatus(t){return this.api.get(`${this.baseUrl}${tt}/user-status`,{params:t}).then(({data:t})=>t)}async getProductionSummary(t){return this.api.get(`${this.baseUrl}${tt}/production-summary`,{params:t}).then(({data:t})=>t)}async getCorbanProduction(t){return this.api.get(`${this.baseUrl}${tt}/promoter-monthly-production`,{params:t}).then(({data:t})=>t)}async fetchPromoterProductionCashbackCommission(t,e){const s={...t,promoters:e};return this.api.get(`${this.baseUrl}${tt}/promoter-production-cashback-commission`,{params:s}).then(({data:t})=>t)}async getExternalDashboardUrls(){return this.api.get(this.baseUrl+"/dashboard/external").then(({data:t})=>t)}async getBusinessGoals(){return this.api.get(this.baseUrl+"/dashboard/business-goals").then(({data:t})=>t)}}var at=function(){var t,e,s,a,o,i,n=this,r=n._self._c;return r("section",{staticClass:"layout",class:{"is-mobile":n.isMobile,"is-card":n.isCard,"no-header":!n.hasHeader,"no-nav":!n.hasNav},style:"--nav-max-width:"+(n.pinned&&!n.isMobile?"73px":"230px")},[n.hasHeader?[r("transition",{attrs:{name:"slide"}},[!n.isMobile||n.isMobile&&n.showNavigation?r("the-logo",{staticClass:"layout__logo",class:{"mouseover-pin":n.mouseOverPinState},nativeOn:{click:function(t){return n.retract.apply(null,arguments)}}}):n._e()],1),r("the-user",{staticClass:"layout__user",on:{showNavigation:t=>n.showNavigation=t}})]:n._e(),n.hasNav?[r("transition",{attrs:{name:"slide"}},[!n.isMobile||n.isMobile&&n.showNavigation?r("the-navigation",{staticClass:"layout__nav",class:{expand:n.pinned&&!n.minimized&&!n.isMobile,"mouseover-pin":n.mouseOverPinState},on:{mouseover:n.mouseOverRetract}}):n._e()],1)]:n._e(),!n.isMobile&&n.hasNav?[r("button",{staticClass:"retract",class:{rotate:!n.minimized&&!n.mouseover,expand:n.pinned&&!n.minimized&&!n.isMobile,"mouseover-pin":n.mouseOverPinState},on:n._d({click:n.retract},[n.mouseenter,function(t){return n.mouseOverPin(!0)},n.mouseleave,function(t){return n.mouseOverPin(!1)}])},[r("i",{staticClass:"fas fa-chevron-right"})])]:n._e(),r("main",{staticClass:"layout__content",class:{darkenContent:n.showNavigation}},[n.shouldShowExpiringPointsNotify&&!n.hasRewardsDisabled?r("div",{staticClass:"message is-warning livelo-notify"},[r("div",{staticClass:"message-body"},[r("p",[n._v(" Você tem "+n._s(n.user.rewards.points_expiring)+" Pratas que irão vencer em "+n._s(n.user.rewards.points_expiring_at)+". "),r("a",{on:{click:n.goToLiveloStatement}},[n._v("Clique aqui")]),n._v(" e transfira seus pontos agora. ")])])]):n._e(),n.hasTitle?[r("h1",{staticClass:"title"},[n._v(" "+n._s(n.title)+" ")])]:n._e(),n._t("helper"),n.isCard?[r("div",{staticClass:"card",style:"--max-width:"+n.maxWidth},[r("div",{staticClass:"card-content"},[n._t("default")],2)])]:n._t("default"),n.showLiveloModal&&!n.hasRewardsDisabled?r("div",[(null===(t=n.user)||void 0===t||null===(e=t.rewards)||void 0===e?void 0:e.points_available_to_transfer)>=1e3&&null!==(s=n.user)&&void 0!==s&&null!==(a=s.rewards)&&void 0!==a&&a.points_expiring?r("LoginNotifyLiveloModal",{on:{close:function(t){n.showLiveloModal=!1}}}):!n.shouldStopShowingTransferLiveloModal&&(null===(o=n.user)||void 0===o||null===(i=o.rewards)||void 0===i?void 0:i.points_available_to_transfer)>=1e3?r("TransferNotifyLiveloModal",{on:{close:function(t){n.showLiveloModal=!1}}}):n._e()],1):n._e()],2)],2)},ot=[],it=function(){var t=this,e=t._self._c;return e("figure",[e("img",{attrs:{src:t.logo,alt:t.businessName}})])},nt=[],rt={name:"TheLogo",computed:{...Object(C["d"])({theme:t=>t.theme.theme,pinned:t=>t.retract.pinned}),...Object(C["c"])({isMobile:"app/isMobile"}),businessName(){var t,e,s;return null!==(t=null===(e=this.theme)||void 0===e||null===(s=e.business)||void 0===s?void 0:s.name)&&void 0!==t?t:""},logo(){var t,e,s,a;const{desktop:o,desktop_white:i,mobile:n,mobile_white:r}=null!==(t=null===(e=this.theme)||void 0===e?void 0:e.logo)&&void 0!==t?t:{};return this.isMobile||this.pinned&&!this.isMobile?null!==(s=null!==r&&void 0!==r?r:n)&&void 0!==s?s:"":null!==(a=null!==i&&void 0!==i?i:o)&&void 0!==a?a:""}}},lt=rt,ct=(s("c59d"),Object(I["a"])(lt,it,nt,!1,null,"45fa224a",null)),dt=ct.exports,ut=function(){var t=this,e=t._self._c;return e("header",{class:{"is-mobile":t.isMobile}},[e("div",[t.isMobile?e("button",{staticClass:"icon menuOpenBtn",on:{click:function(e){t.menuOpen=!t.menuOpen}}},[e("i",{staticClass:"fas fa-bars"})]):t._e()]),e("div",[t.hasRewardsDisabled?t._e():e("LiveloPoints",{staticClass:"notifications"}),e("span",{staticClass:"greetings"},[t._v(" Olá, "+t._s(t.userInfo.name)+" ")]),e("button",{staticClass:"icon",on:{click:function(e){t.open=!t.open}}},[e("i",{staticClass:"fas",class:t.icon})]),e("aside",{directives:[{name:"show",rawName:"v-show",value:t.open,expression:"open"}],ref:"menu",staticClass:"menu px-4 py-5"},[e("p",{staticClass:"menu-label"},[t._v(" Configurações ")]),e("ul",{staticClass:"menu-list"},[t.isInternal?t._e():[t.hasRewardsDisabled?t._e():e("li",[e("span",{on:{click:t.livelo}},[t._v("Meus benefícios")])])],e("li",[e("span",{on:{click:t.edit}},[t._v("Editar usuário")])]),e("li",[e("span",{on:{click:t.logout}},[t._v("Sair")])])],2),e("p",{staticClass:"menu-label"},[e("small",{staticClass:"version"},[t._v("Version "+t._s(t.version))])])])],1)])},mt=[],pt=function(){var t=this,e=t._self._c;return t.isInternal?t._e():e("div",{staticClass:"notification",on:{click:t.goToStatement}},[e("p",[e("i",[e("PrataCoinSVG")],1),t._v(" "+t._s(t.pointsAvailableToTransfer)+"P$ ")])])},ht=[],vt=function(){var t=this,e=t._self._c;return e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"}},[e("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M20 10C20 15.5228 15.5228 20 10 20C4.47715 20 0 15.5228 0 10C0 4.47715 4.47715 0 10\n      0C15.5228 0 20 4.47715 20 10ZM10 18.5093C14.6996 18.5093 18.5093 14.6996 18.5093 10C18.5093\n      5.30043 14.6996 1.49068 10 1.49068C5.30043 1.49068 1.49068 5.30043 1.49068 10C1.49068\n      14.6996 5.30043 18.5093 10 18.5093Z",fill:"#EAB308"}}),e("path",{attrs:{d:"M11.3336 3.19275H9.40625V14.3438H11.3336V3.19275Z",fill:"#EAB308"}}),e("path",{attrs:{d:"M14.4427 7.98776C14.0229 6.2397 12.4401 4.91353 10.5757\n      4.91353H6.59193V9.34328H8.41971V6.74229H10.5775C11.7471 6.74229 12.7353 7.7328 12.7353\n      8.90122C12.7353 10.0715 11.7471 11.0602 10.5775\n      11.0602H6.59193V14.7177H6.58398V16.5465H8.41971V12.8889H10.5775C12.4419 12.8889 14.0351\n      11.5627 14.4549 9.81469C14.5228 9.52275 14.5343 9.21852 14.5343 8.90589C14.5343 8.58993\n      14.5121 8.28254 14.4427 7.98776Z",fill:"#EAB308"}})])},ft=[],bt={name:"PrataCoin"},_t=bt,gt=Object(I["a"])(_t,vt,ft,!1,null,null,null),Ct=gt.exports,yt={name:"LiveloPoints",components:{PrataCoinSVG:Ct},computed:{...Object(C["d"])({user:t=>t.user.userInfo}),isInternal(){return this.user.internal_employee},pointsAvailableToTransfer(){var t,e;return null===(t=this.user)||void 0===t||null===(e=t.rewards)||void 0===e?void 0:e.points_available_to_transfer}},methods:{goToStatement(){this.$router.push("/livelo")}}},wt=yt,kt=(s("d08e"),Object(I["a"])(wt,pt,ht,!1,null,"15ace290",null)),St=kt.exports;const{version:xt}=s("9224");var At={name:"TheUser",components:{LiveloPoints:St},mixins:[w["a"]],data:()=>({open:!1,menuOpen:!1}),computed:{...Object(C["d"])({userInfo:t=>t.user.userInfo,$_token:t=>t.app.logonToken}),...Object(C["c"])({isMobile:"app/isMobile"}),token:{get(){return this.$_token},set(t){this.setToken(t)}},icon(){return this.open?"fa-times":"fa-user-cog"},version(){return xt},isInternal(){return this.userInfo.internal_employee},hasRewardsDisabled(){var t;return(null===(t=this.userInfo)||void 0===t?void 0:t.rewards_disabled)||!1}},watch:{open:{handler(t){t?(window.addEventListener("click",this.clickedOutside,!0),window.addEventListener("keydown",this.escape)):(window.removeEventListener("click",this.clickedOutside,!0),window.removeEventListener("keydown",this.escape))},immediate:!0},menuOpen:{handler(){this.$emit("showNavigation",this.menuOpen)}}},beforeDestroy(){window.removeEventListener("click",this.clickedOutside,!0),window.removeEventListener("keydown",this.escape)},methods:{...Object(C["b"])({setToken:"app/SET_TOKEN"}),clickedOutside(t){const e=t.target.closest(".menu");null===e&&this.close()},escape(t){"Escape"===t.key&&this.close()},close(){this.open=!1},referral(){this.close(),this.$router.push({name:"referral-links"})},livelo(){this.close(),this.$router.push({name:"livelo-statement"})},edit(){const{id:t}=this.userInfo;this.close(),this.$router.push({name:"edit-user",params:{id:t}})},async logout(){this.close();const t=new k["a"](this.token);this.loading=!0,await t.logoutUser().then(t=>{t.data.data.message&&(this.token=!1,this.$router.push({name:"login"}))}).finally(()=>{this.loading=!1})}}},Pt=At,Dt=(s("1083"),Object(I["a"])(Pt,ut,mt,!1,null,"07e57ed8",null)),Tt=Dt.exports,It=function(){var t=this,e=t._self._c;return e("div",{ref:"nav",on:t._d({},[t.mouseenter,function(e){return t.$emit("mouseover",!1)},t.mouseleave,function(e){return t.$emit("mouseover",!0)}])},[e("nav",{class:{"is-mobile":t.isMobile,minimized:t.minimized&&!t.isMobile}},[e("ul",[t.orderedRoutes.size&&t.routes.length?[t._l(t.orderedRoutes,(function([s,a],o){var i;return[t.order[s]?[e("li",{key:"title-"+o,style:"--order:"+(null!==(i=t.order[s].header)&&void 0!==i?i:99)},[e("span",{staticClass:"menu-label"},[t._v(t._s(s))]),e("ul",t._l(a,(function({href:a,icon:o,text:i,tag:n},r){var l;return e("li",{key:"item-"+r,style:"--order:"+(null!==(l=t.order[s].items[i])&&void 0!==l?l:99)},["Financeiro"===i?[e("router-link",{attrs:{to:{name:"promoters-commission",params:{id:t.promoter_id}}}},[e("i",{class:o}),e("span",[t._v(" "+t._s(i)+" ")])])]:[e("router-link",{attrs:{to:a}},[e("i",{class:o}),e("span",[t._v(" "+t._s(i)+" ")]),n||"Meus links"===i?[e("span",{staticClass:"chip"},[t._v("Novidade")])]:t._e()],2)]],2)})),0)])]:[e("li",{key:"title-"+o,staticStyle:{"--order":"99"}},[e("span",{staticClass:"menu-label"},[t._v(t._s(s))]),e("ul",t._l(a,(function({href:s,icon:a,text:o},i){return e("li",{key:"item-"+i,staticStyle:{"--order":"99"}},["Financeiro"===o?[e("router-link",{attrs:{to:{name:"promoters-commission",params:{id:t.promoter_id}}}},[e("i",{class:a}),e("span",[t._v(" "+t._s(o)+" ")])])]:[e("router-link",{attrs:{to:s}},[e("i",{class:a}),e("span",[t._v(" "+t._s(o)+" ")])])]],2)})),0)])]]}))]:t._l(t.routes,(function({href:s,icon:a,text:o},i){return e("li",{key:i},["Financeiro"===o?[e("router-link",{attrs:{to:{name:"promoters-commission",params:{id:t.promoter_id}}}},[e("i",{class:a}),e("span",[t._v(" "+t._s(o)+" ")])])]:[e("router-link",{attrs:{to:s}},[e("i",{class:a}),e("span",[t._v(" "+t._s(o)+" ")])])]],2)}))],2)])])},Et=[];s("13d5");function Ot(t){const e=t.childNodes[0],{clientHeight:s}=t,{clientHeight:a}=e,o=5*Math.ceil(Math.abs(s-a)/5);let i=0;const n=({deltaY:t})=>{t<0?i+=10:i-=10,Math.abs(i)>o&&(i=o*Math.sign(i)),i>0&&(i=0),e.style.top=i+"px"},r=()=>{t.addEventListener("wheel",n)},l=()=>{e.style.top="0px"};return r(),e.style.position="relative",{target:t,elementChild:e,targetHeight:s,childHeight:a,threshold:o,reset:l}}var Mt={name:"TheNavigation",data:()=>({invisibleScroll:null,routes:[],order:{"Gestão":{header:0,items:{Dashboard:0,Promotoras:1,"Usuários":2,"Pré-cadastro Corban":3}},FGTS:{header:1,items:{"Consultar Saldo FGTS":0,"Tabelas de Juros":1,"Propostas FGTS":2}},"Cartão":{header:2,items:{}}}}),computed:{...Object(C["d"])({user:t=>t.user.userInfo,minimized:t=>t.retract.minimized,pinned:t=>t.retract.pinned}),...Object(C["c"])({isMobile:"app/isMobile"}),orderedRoutes(){return this.routes.reduce((t,e)=>{const s=e["menu-item"];return s?(t.has(s)?t.get(s).push(e):t.set(s,[e]),t):t},new Map)},promoter_id(){var t,e;return null!==(t=null!==(e=this.id)&&void 0!==e?e:this.user.promoter_id)&&void 0!==t?t:null},mouseenter(){return this.pinned&&!this.isMobile?"mouseenter":null},mouseleave(){return this.pinned&&!this.isMobile?"mouseleave":null}},watch:{$route(){this.invisibleScroll.reset()},minimized(){this.invisibleScroll.reset()},pinned(){this.invisibleScroll.reset()}},created(){this.loadMenu()},mounted(){this.loadMenu(),this.invisibleScroll=Ot(this.$refs.nav)},methods:{loadMenu(){this.routes=[];try{const{routers:t}=JSON.parse(localStorage.getItem("menu"));for(const e of t)this.routes.push(e)}catch{}}}},Rt=Mt,Bt=(s("a370"),Object(I["a"])(Rt,It,Et,!1,null,"a0278dda",null)),Lt=Bt.exports,Ut=function(){var t=this,e=t._self._c;return e("BaseSimpleModal",{attrs:{width:t.isMobile?"360px":"512px","is-closable":!0},on:{close:t.closeModal},scopedSlots:t._u([{key:"body",fn:function(){return[e("img",{staticClass:"colaboration",attrs:{src:s("016f"),alt:"Imagem mostrando colaboração entre o Prata Digital e a Livelo"}}),e("img",{staticClass:"colaboration-mobile",attrs:{src:s("5928"),alt:"Imagem mostrando colaboração entre o Prata Digital e a Livelo"}})]},proxy:!0},{key:"actions",fn:function(){return[e("label",{staticClass:"checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.shouldStopShowing,expression:"shouldStopShowing"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.shouldStopShowing)?t._i(t.shouldStopShowing,null)>-1:t.shouldStopShowing},on:{change:function(e){var s=t.shouldStopShowing,a=e.target,o=!!a.checked;if(Array.isArray(s)){var i=null,n=t._i(s,i);a.checked?n<0&&(t.shouldStopShowing=s.concat([i])):n>-1&&(t.shouldStopShowing=s.slice(0,n).concat(s.slice(n+1)))}else t.shouldStopShowing=o}}}),t._v(" Não desejo ver esse aviso novamente. ")]),e("button",{staticClass:"button is-success",on:{click:t.goToTransferPage}},[t._v(" Transferir minhas Pratas ")]),e("button",{staticClass:"button",on:{click:t.closeModal}},[t._v(" Fechar ")])]},proxy:!0}])})},Nt=[],qt=s("13bf"),Ft={name:"LoginNotifyLiveloModal",components:{BaseSimpleModal:qt["default"]},data(){return{shouldStopShowing:!1}},computed:{...Object(C["c"])({isMobile:"app/isMobile"})},methods:{goToTransferPage(){const{href:t}=this.$router.resolve({name:"livelo-statement"});window.open(t,"_blank")},closeModal(){this.shouldStopShowing&&localStorage.setItem("shouldStopShowingLoginLiveloModal",this.shouldStopShowing),this.$emit("close")}}},jt=Ft,Vt=(s("3b0c"),Object(I["a"])(jt,Ut,Nt,!1,null,null,null)),zt=Vt.exports,$t=function(){var t=this,e=t._self._c;return e("BaseSimpleModal",{attrs:{width:t.isMobile?"100%":"512px"},on:{close:t.closeModal},scopedSlots:t._u([{key:"body",fn:function(){return[e("div",{staticClass:"transfer-notify"},[e("h1",[t._v("Você tem Pratas disponíveis para transferir para a Livelo!")]),e("p",[t._v(" Você tem mais de "),e("em",[t._v("1.000 Pratas")]),t._v(", e já pode transferir seu saldo livremente para a "),e("em",[t._v("Livelo")]),t._v(" e aproveitar recompensas incríveis. ")]),e("p",[e("em",[t._v("Transfira agora e não deixe seus pontos expirarem.")])])])]},proxy:!0},{key:"actions",fn:function(){return[e("label",{staticClass:"checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.shouldStopShowing,expression:"shouldStopShowing"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.shouldStopShowing)?t._i(t.shouldStopShowing,null)>-1:t.shouldStopShowing},on:{change:function(e){var s=t.shouldStopShowing,a=e.target,o=!!a.checked;if(Array.isArray(s)){var i=null,n=t._i(s,i);a.checked?n<0&&(t.shouldStopShowing=s.concat([i])):n>-1&&(t.shouldStopShowing=s.slice(0,n).concat(s.slice(n+1)))}else t.shouldStopShowing=o}}}),t._v(" Não desejo ver esse aviso novamente. ")]),e("button",{staticClass:"button is-success",on:{click:t.goToLandingPage}},[t._v(" Ver minhas pratas ")]),e("button",{staticClass:"button",on:{click:t.closeModal}},[t._v(" Fechar ")])]},proxy:!0}])})},Ht=[],Gt={name:"TransferNotifyLiveloModal",components:{BaseSimpleModal:qt["default"]},data(){return{shouldStopShowing:!1}},computed:{...Object(C["c"])({isMobile:"app/isMobile"})},methods:{goToLandingPage(){const{href:t}=this.$router.resolve({name:"livelo-statement"});window.open(t,"_blank")},closeModal(){this.shouldStopShowing&&localStorage.setItem("shouldStopShowingTransferLiveloModal",this.shouldStopShowing),this.$emit("close")}}},Qt=Gt,Kt=(s("e6a5"),Object(I["a"])(Qt,$t,Ht,!1,null,"3901768e",null)),Jt=Kt.exports,Wt={name:"Layout",components:{TheLogo:dt,TheUser:Tt,TheNavigation:Lt,LoginNotifyLiveloModal:zt,TransferNotifyLiveloModal:Jt},props:{isCard:{type:Boolean,required:!1,default:!1},maxWidth:{type:String,required:!1,default:"800px"},hasHeader:{type:Boolean,required:!1,default:!0},hasNav:{type:Boolean,required:!1,default:!0},title:{type:String,required:!1,default:""}},data:()=>({screenWidth:null,showNavigation:!1,mouseOverPinState:!1,mouseOverPinTimeout:null,showLiveloModal:!0,mouseOverTimeout:350}),computed:{...Object(C["d"])({$_retract:t=>t.retract,user:t=>t.user.userInfo}),...Object(C["c"])({isMobile:"app/isMobile"}),shouldStopShowingLoginLiveloModal(){const t=window.localStorage.getItem("shouldStopShowingLoginLiveloModal"),e=this.$route.name;return/true/.test(t)||"livelo-landing-page"===e},shouldStopShowingTransferLiveloModal(){const t=window.localStorage.getItem("shouldStopShowingTransferLiveloModal"),e=this.$route.name;return/true/.test(t)||"livelo-statement"===e},shouldShowExpiringPointsNotify(){var t;return(null===(t=this.user.rewards)||void 0===t?void 0:t.points_expiring)&&"livelo-statement"!==this.$route.name},hasRewardsDisabled(){var t;return(null===(t=this.userInfo)||void 0===t?void 0:t.rewards_disabled)||!1},minimized:{set(t){this.SET_MINIMIZED(t)},get(){return this.$_retract.minimized}},pinned:{set(t){this.SET_PINNED(t)},get(){return this.$_retract.pinned}},mouseover:{set(t){this.SET_MOUSEOVER(t)},get(){return this.$_retract.mouseover}},automatic:{set(t){this.SET_AUTOMATIC(t)},get(){return this.$_retract.automatic}},mouseenter(){return this.isMobile?null:"mouseenter"},mouseleave(){return this.isMobile?null:"mouseleave"},hasTitle(){return!!this.title}},beforeDestroy(){!this.mouseover||this.minimized||this.isMobile||this.retract()},methods:{...Object(C["b"])("retract",["SET_MINIMIZED","SET_PINNED","SET_MOUSEOVER","SET_AUTOMATIC"]),retract(){if(this.isMobile)return;let t=!this.minimized;this.mouseover&&(t=!0),this.mouseover=!1,this.minimized=t,this.pinned=t},mouseOverRetract(t){clearTimeout(this.automatic),this.automatic=setTimeout(()=>{this.minimized=t,this.mouseover=!this.minimized},this.mouseOverTimeout)},mouseOverPin(t){clearTimeout(this.mouseOverPinTimeout),this.mouseOverPinTimeout=setTimeout(()=>{this.mouseOverPinState=t},this.mouseOverTimeout)},goToLiveloStatement(){this.$router.push("/livelo")}}},Yt=Wt,Zt=(s("f646"),Object(I["a"])(Yt,at,ot,!1,null,"35a07a5a",null)),Xt=Zt.exports,te=s("ce3f"),ee=s("7282"),se=s("2a26"),ae={name:"DashboardView",components:{Layout:Xt,BaseCalendar:te["a"],BaseTooltip:ee["default"],BaseSelect:se["default"]},mixins:[Z["a"],X["a"],w["a"],Y],data:()=>({meta:{title:"Dashboard"},tabIndex:null,isActiveTabExternal:!1,showFilters:!0,form:{promoter_id:null,period:[],lastParams:null},list:{promoters:[]},filters:{start_date:"",end_date:""},chartData:{charts:[],tables:[]},tabs:[{title:"Saúde",longTitle:"Saúde do sistema",key:0,onlyAdmin:!0,graphics:[{name:"Consultas por dia",showingCondition:!0,isShown:!1,apiRequest:"getWarranty"},{name:"Selfies por dia",showingCondition:!0,isShown:!1,apiRequest:"getSelfieStatistics"},{name:"Produção do Promotor",showingCondition:()=>!(void 0).isCreditor,isShown:!1,apiRequest:"getProductionPerDay"},{name:"Status dos Desembolsos",showingCondition:()=>!(void 0).isCommercial&&!(void 0).isCreditor,isShown:!1,apiRequest:"getDisbursementStatus"}]},{title:"Antifraude",longTitle:"Antifraude",key:1,onlyAdmin:!0,graphics:[{name:"Propostas pagas por Score",showingCondition:!0,isShown:!1,apiRequest:"getProposalPaymentByScore"}]},{title:"Acompanhamento",longTitle:"Acompanhamento de Produção",key:2,onlyAdmin:!1,graphics:[{name:"Status das Propostas",showingCondition:()=>!(void 0).isCommercial||!(void 0).isCreditor,isShown:!1,apiRequest:"getProposalStatus"},{name:"Produção por dia",showingCondition:()=>(void 0).isCommercial||(void 0).isCreditor,isShown:!1,apiRequest:"getProductionPerDay"},{name:"Produção por promotora",showingCondition:()=>!(void 0).isCommercial&&!(void 0).isCreditor,isShown:!1,apiRequest:"getProposalStatusByPromoter"},{name:"Produção usuários (TOP 5)",showingCondition:()=>(void 0).Super||(void 0).isCommercial,isShown:!1,apiRequest:"getUserStatus"}]}],externalDashboardTabIndex:99,message:{error:""}}),computed:{...Object(C["d"])({user:t=>t.user.userInfo,token:t=>t.app.logonToken}),...Object(C["c"])({isMobile:"app/isMobile"}),charts(){const t=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"});if(this.chartData.charts.length){const e=[];for(let s=0;s<this.chartData.charts.length;s+=1){const a=this.chartData.charts[s],{title:o,chart_type:i,chart_value_type:n,values:r,labels:l}=a,c="money"===n;if(r&&r.length)if("pie"===i){const s={labels:l.filter(t=>null!==t),chart:{type:"pie",width:600},yaxis:{labels:{formatter:e=>c?t.format(e):e}},dataLabels:{background:{enabled:!0,foreColor:"#000",padding:4,borderRadius:2,borderWidth:1,borderColor:"#fff",opacity:.9,dropShadow:{enabled:!1,top:0,left:0,blur:0,color:"#000",opacity:0}},dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},plotOptions:{pie:{dataLabels:{minAngleToShowLabel:0}}}};e.push({title:o,chart_type:i,options:s,series:this.graphFilter(r,c)})}else if("line"===i){const t={labels:l.filter(t=>null!==t),chart:{type:"line",width:500,zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{curve:"straight"},markers:{size:[4,7]},xaxis:{labels:{formatter:t=>`${t<10?"0":""}${t}h`}},grid:{row:{colors:["#f3f3f3","transparent"],opacity:.5}}};e.push({title:o,chart_type:i,options:t,series:[{name:"Selfies",data:this.graphFilter(r,c)}]})}}return e}return[]},tables(){return this.chartData.tables.length?this.chartData.tables:[]},filterDisplay(){return this.showFilters?"block":"none"}},watch:{tabIndex(){this.isMobile&&(this.showFilters=!1)},"form.period":{handler([t,e]){const s=t=>t.split("/").reverse().join("-");this.filters.start_date=s(t),this.filters.end_date=s(e)}}},async mounted(){await this.reset(),this.isMasterOrFinancial&&this.tabs.splice(0,this.tabs.length),this.tabs.length&&this.$nextTick(()=>this.setFirstTap()),this.isMobile&&(this.showFilters=!1),await this.getExternalDashboardUrls()},methods:{graphFilter(t,e){return t.filter(t=>t).map(t=>{if(t)return e?parseFloat(String(t).replace("R$ ","")):parseInt(String(t).replace("R$ ",""),10)})},setFirstTap(){const t=this.isSuper?this.tabs[0]:W.a.find(this.tabs,{onlyAdmin:!1});this.tabIndex=t.key},setActiveTab(t){this.tabIndex=t,this.isActiveTabExternal=this.tabs[this.tabIndex].isExternal||!1},reset(){const t=new Date,e=t.toLocaleDateString("pt-BR");t.setDate(t.getDate()-parseInt("30",10));const s=t.toLocaleDateString("pt-BR");this.chartData.charts=[],this.chartData.tables=[],this.form.period=[s,e],this.message.error=""},getFormattedData(){const{start_date:t,end_date:e}=this.filters,{promoter_id:s}=this.form,a=(new Date).toISOString().split("T")[0];return 0===this.tabIndex?{"start-date":a,"end-date":a}:{"start-date":t,"end-date":e,...s?{promoter_id:s}:""}},async requestData(t){const e=new st(this.token),s=this.getFormattedData(),{graphics:a}=W.a.find(this.tabs,{key:this.tabIndex}),o=W.a.find(a,{name:t});this.form.lastParams=s,this.loading=!0,this.message.error="",await e[o.apiRequest](s).then(async({data:e})=>this.handleResponse({chartName:t,data:e,graphic:o})).catch(t=>this.handlerError(t)).finally(()=>{o.isShown=!0,this.loading=!1})},async getExternalDashboardUrls(){const t=new st(this.token);await t.getExternalDashboardUrls().then(({data:t})=>{if(t.length){let e=0;this.tabs.length&&(e=this.tabs[this.tabs.length-1].key+1),t.forEach(t=>{this.tabs.push(Object.assign(t,{isExternal:!0,key:e})),e+=1})}}).catch(()=>null)},findChartBy(t,e="title"){return W.a.find(this.charts,{[e]:t})},findTableBy(t,e="title"){return W.a.find(this.tables,{[e]:t})},handlerError(t){var e,s,a,o,i,n,r,l,c,d;let u=(null===t||void 0===t||null===(e=t.response)||void 0===e||null===(s=e.data)||void 0===s||null===(a=s.error)||void 0===a?void 0:a.message)||(null===t||void 0===t||null===(o=t.error)||void 0===o||null===(i=o.response)||void 0===i||null===(n=i.data)||void 0===n||null===(r=n.error)||void 0===r?void 0:r.message)||(null===t||void 0===t?void 0:t.message)||t;if(null!==t&&void 0!==t&&null!==(l=t.response)&&void 0!==l&&null!==(c=l.data)&&void 0!==c&&null!==(d=c.error)&&void 0!==d&&d.errors){var m,p,h;const e=Object.values(null===t||void 0===t||null===(m=t.response)||void 0===m||null===(p=m.data)||void 0===p||null===(h=p.error)||void 0===h?void 0:h.errors);u=u.concat("<br> - "+e.map(t=>t).join("<br> - "))}this.$set(this.message,"error",u)},async handleResponse({chartName:t,data:e,graphic:s}){const a=async a=>{await Object.entries(e[a]).forEach(async([e,o])=>{const i=W.a.find(this.chartData[a],{title:e});if(i)for(const t of Object.keys(o))this.$set(i,t,o[t]);else await this.chartData[a].push({title:e,...o});e!==t&&this.$set(s,"name",e),this.$set(s,"showingStyle",a)})};0!==e.charts.length&&await a("charts"),0!==e.tables.length&&await a("tables")}},metaInfo(){return j.meta(this.meta)}},oe=ae,ie=(s("d0b9"),Object(I["a"])(oe,Q,K,!1,null,"7beb90ab",null)),ne=ie.exports,re=function(){var t=this,e=t._self._c;return e("Layout",{attrs:{title:t.meta.title,"max-width":"100%","is-card":""}},[e("p",[t._v(" Relação de relatórios por período e segmento. ")]),e("hr"),e("div",{staticClass:"card mb-5"},[e("div",{staticClass:"card-content"},[e("div",{staticClass:"content"},[e("div",{staticClass:"columns"},[e("div",{staticClass:"column"},[e("base-select",{attrs:{options:t.list.options,"has-default-blank":!1},model:{value:t.filters.option,callback:function(e){t.$set(t.filters,"option",e)},expression:"filters.option"}},[e("span",[t._v("Tipo "),e("small",{staticClass:"has-text-danger"},[t._v("(obrigatório)")])])])],1),e("div",{staticClass:"column"},[e("base-calendar",{attrs:{value:t.form.period,"limit-date":!1},on:{input:function(e){t.form.period=e}}},[e("span",[t._v("Período "),e("small",{staticClass:"has-text-danger"},[t._v("(obrigatório)")])])])],1)]),e("div",{staticClass:"columns"},[e("div",{staticClass:"column"},[e("button",{staticClass:"button is-ghost has-text-danger ml-auto",on:{click:t.reset}},[e("span",{staticClass:"icon is-small"},[e("i",{staticClass:"fas fa-times"})]),e("span",[t._v(" Limpar ")])])]),e("div",{staticClass:"column is-narrow"},[e("button",{staticClass:"button is-link",attrs:{disabled:!t.hasOptionSelected},on:{click:t.download}},[e("span",{staticClass:"icon is-small"},[e("i",{staticClass:"fas fa-file-download"})]),e("span",[t._v(" Download CSV ")])])])])])])]),t.message.text?e("div",{staticClass:"columns"},[e("div",{staticClass:"column"},[e("div",{staticClass:"message",class:t.message.type},[e("div",{staticClass:"message-body",domProps:{innerHTML:t._s(t.sanitizedContent(t.message.text))}})])])]):t._e()])},le=[];s("5494");class ce extends L["a"]{async getRewardReport(t){return this.api.get(this.baseUrl+"/antecipate-fgts/reward-report",{params:t}).then(({data:t})=>t)}async getResponsibleReport(t){return this.api.get(this.baseUrl+"/users/responsibles-report",{params:t}).then(({data:t})=>t)}async getPaymentFlow(t){return this.api.get(this.baseUrl+"/antecipate-fgts/payment-flow",{params:t}).then(({data:t})=>t)}async getCommission(t){return this.api.get(this.baseUrl+"/antecipate-fgts/comissions",{params:t}).then(({data:t})=>t)}}var de=s("20a8"),ue={name:"ReportsView",components:{Layout:Xt,BaseCalendar:te["a"],BaseSelect:se["default"]},mixins:[Z["a"],w["a"]],data:()=>({meta:{title:"Relatórios"},form:{period:[]},filters:{option:null,begin_date:"",end_date:""},message:{text:"",type:""},list:{options:[{value:"importation",name:"Importação"},{value:"commissions",name:"Comissão"},{value:"users-report",name:"Usuários"},{value:"payment-flow",name:"Fluxo de pagamentos"}]}}),computed:{...Object(C["d"])({token:t=>t.app.logonToken}),hasOptionSelected(){return this.filters.begin_date&&this.filters.option}},watch:{"form.period":{handler([t,e]){this.filters.begin_date=t,this.filters.end_date=e}},"message.text":{handler(t){const e=this;t&&setTimeout(()=>{e.setMessage("reset")},8500)}}},methods:{reset(){this.form.period=["",""],this.filters.option=null,this.setMessage("reset")},setMessage(t,e="is-danger"){"reset"===t?(this.message.text="",this.message.type=""):(this.message.text=t,this.message.type=e)},handlerError(t){var e,s,a,o,i,n,r,l,c,d;let u=(null===t||void 0===t||null===(e=t.response)||void 0===e||null===(s=e.data)||void 0===s||null===(a=s.error)||void 0===a?void 0:a.message)||(null===t||void 0===t||null===(o=t.error)||void 0===o||null===(i=o.response)||void 0===i||null===(n=i.data)||void 0===n||null===(r=n.error)||void 0===r?void 0:r.message)||(null===t||void 0===t?void 0:t.message)||t;if(null!==t&&void 0!==t&&null!==(l=t.response)&&void 0!==l&&null!==(c=l.data)&&void 0!==c&&null!==(d=c.error)&&void 0!==d&&d.errors){var m,p,h;const e=Object.values(null===t||void 0===t||null===(m=t.response)||void 0===m||null===(p=m.data)||void 0===p||null===(h=p.error)||void 0===h?void 0:h.errors);u=u.concat("<br> - "+e.map(t=>t).join("<br> - "))}this.setMessage(u)},async download(){const t=new ce(this.token),e=new de["a"](this.token),{option:s,...a}=this.filters,o={commissions:"getCommission","users-report":"getResponsibleReport","payment-flow":"getPaymentFlow"};this.loading=!0,this.setMessage("reset");try{const i={...a,output:"csv"};let n;n=o[s]?await t[o[s]](i):await e.downloadCSV(i);const r=new Blob(["\ufeff"+n],{type:"text/csv;charset=utf-8"}),l=window.URL.createObjectURL(r),c=document.createElement("a");this.setMessage("Download realizado com sucesso","is-success"),c.href=l,c.setAttribute("download",s+".csv"),document.body.appendChild(c),c.click(),document.body.removeChild(c)}catch(i){this.handlerError(i)}finally{this.loading=!1}}},metaInfo(){return j.meta(this.meta)}},me=ue,pe=(s("856d"),Object(I["a"])(me,re,le,!1,null,"6455b1af",null)),he=pe.exports,ve=function(){var t=this,e=t._self._c;return e("Layout",{attrs:{title:t.meta.title,"max-width":"100%","is-card":""}},[e("div",{staticClass:"columns"},[e("div",{staticClass:"column"},[e("h3",{staticClass:"is-size-4"},[t._v(" Editar ")])])]),t.message.text?e("div",{staticClass:"columns"},[e("div",{staticClass:"column"},[e("div",{staticClass:"message",class:t.message.type},[e("div",{staticClass:"message-body"},[t._v(" "+t._s(t.message.text)+" ")])])])]):t._e(),e("v-validate-observer",{scopedSlots:t._u([{key:"default",fn:function({handleSubmit:s}){return[e("form",{staticClass:"documents",on:{submit:function(e){return e.preventDefault(),s(t.submit)}}},[e("fieldset",[e("legend",[t._v("Dados básicos")]),e("v-validate",{staticClass:"password",attrs:{rules:"min:6",name:"Senha"},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("div",{staticClass:"columns"},[e("base-input",{staticClass:"column",attrs:{type:t.password_review[0]?"text":"password",autocomplete:"new-password"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}},[t._v(" Senha ")]),e("button",{staticClass:"button column is-1 is-link",on:{click:function(e){e.preventDefault(),t.password_review[0]=!t.password_review[0]}}},[e("span",{staticClass:"icon"},[e("i",{staticClass:"fas",class:[t.password_review[0]?"fa-eye-slash":"fa-eye"]})])])],1),s[0]?e("div",{staticClass:"error-message"},[e("small",{staticClass:"has-text-danger"},[t._v(t._s(s[0]))])]):t._e()]}}],null,!0)}),e("v-validate",{staticClass:"password",attrs:{rules:"min:6|confirmed:Senha",name:"Confirmação"},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("div",{staticClass:"columns"},[e("base-input",{staticClass:"column",attrs:{type:t.password_review[1]?"text":"password",autocomplete:"new-password"},model:{value:t.form.password_confirmation,callback:function(e){t.$set(t.form,"password_confirmation",e)},expression:"form.password_confirmation"}},[t._v(" Confirmar senha ")]),e("button",{staticClass:"button column is-1 is-link",on:{click:function(e){e.preventDefault(),t.password_review[1]=!t.password_review[1]}}},[e("span",{staticClass:"icon"},[e("i",{staticClass:"fas",class:[t.password_review[1]?"fa-eye-slash":"fa-eye"]})])])],1),s[0]?e("div",{staticClass:"error-message"},[e("small",{staticClass:"has-text-danger"},[t._v(t._s(s[0]))])]):t._e()]}}],null,!0)})],1),e("hr"),e("div",{staticClass:"columns"},[e("div",{staticClass:"column"},[e("router-link",{staticClass:"button is-danger",attrs:{to:{name:"fgts-proposal"}}},[e("span",[t._v("Cancelar")]),e("span",{staticClass:"icon"},[e("i",{staticClass:"fas fa-undo-alt"})])])],1),e("div",{staticClass:"column is-narrow"},[e("button",{staticClass:"button is-link",attrs:{type:"submit"}},[e("span",[t._v("Salvar")]),e("span",{staticClass:"icon"},[e("i",{staticClass:"fas fa-save"})])])])])])]}}])})],1)},fe=[],be={name:"EditUserView",components:{Layout:Xt,BaseInput:()=>Promise.resolve().then(s.bind(null,"b3b3"))},mixins:[w["a"]],data:()=>({meta:{title:"Configuração"},password_review:{0:!1,1:!1},form:{promoter_id:"",role_id:"",password:"",password_confirmation:""},message:{text:"",type:""}}),computed:{...Object(C["d"])({token:t=>t.app.logonToken})},async mounted(){await this.getUser()},methods:{setMessage(t,e="is-danger"){"reset"===t?(this.message.text="",this.message.type=""):(this.message.text=t,this.message.type=e)},async setData(t){var e,s,a,o,i;this.form.promoter_id=null!==(e=t.promoter_id)&&void 0!==e?e:"",this.form.role_id=null!==(s=null!==(a=t.role_id)&&void 0!==a?a:null===t||void 0===t?void 0:t.roles_ids[0])&&void 0!==s?s:"",this.form.password=null!==(o=t.password)&&void 0!==o?o:"",this.form.password_confirmation=null!==(i=t.password_confirmation)&&void 0!==i?i:""},handlerError(t){var e,s,a,o,i,n,r,l,c,d;let u=(null===t||void 0===t||null===(e=t.response)||void 0===e||null===(s=e.data)||void 0===s||null===(a=s.error)||void 0===a?void 0:a.message)||(null===t||void 0===t||null===(o=t.error)||void 0===o||null===(i=o.response)||void 0===i||null===(n=i.data)||void 0===n||null===(r=n.error)||void 0===r?void 0:r.message)||(null===t||void 0===t?void 0:t.message)||t;if(null!==t&&void 0!==t&&null!==(l=t.response)&&void 0!==l&&null!==(c=l.data)&&void 0!==c&&null!==(d=c.error)&&void 0!==d&&d.errors){var m,p,h;const e=Object.values(null===t||void 0===t||null===(m=t.response)||void 0===m||null===(p=m.data)||void 0===p||null===(h=p.error)||void 0===h?void 0:h.errors);u=u.concat("<br> - "+e.map(t=>t).join("<br> - "))}this.setMessage(u)},async getUser(){const t=new k["a"](this.token);this.loading=!0,await t.getInfoUser().then(({data:t})=>this.setData(t)).catch(t=>this.handlerError(t)).finally(()=>{this.loading=!1})},async submit(){const t=new k["a"](this.token);this.loading=!0,this.setMessage("reset"),await t.changePassword(this.form).then(()=>{this.setMessage("Senha atualizada com sucesso","is-success"),this.setData({...this.form,password:"",password_confirmation:""})}).catch(t=>this.handlerError(t)).finally(()=>{this.loading=!1})}},metaInfo(){return j.meta(this.meta)}},_e=be,ge=(s("173f"),Object(I["a"])(_e,ve,fe,!1,null,"4ab8ef03",null)),Ce=ge.exports,ye=function(){var t=this,e=t._self._c;return e("div",{staticClass:"login"},[e("div",{staticClass:"login__content",attrs:{id:"content"}},[e("div",{staticClass:"login__form"},[e("p",{staticClass:"text"},[t._v(" Alterar Senha ")]),t._m(0),e("BaseTooltip",{staticClass:"tooltip--info",attrs:{"can-be-closed":!1},scopedSlots:t._u([{key:"tooltip-text",fn:function(){return[e("ul",[e("li",[t._v("Mínimo de 6 caracteres")]),e("li",[t._v("Ao menos uma letra maiúscula")]),e("li",[t._v("Ao menos uma letra minúscula")]),e("li",[t._v("Ao menos um número")]),e("li",[t._v("Ao menos um caractere especial")])])]},proxy:!0}])}),e("v-validate-observer",{scopedSlots:t._u([{key:"default",fn:function({handleSubmit:s}){return[e("form",{on:{click:function(t){t.stopPropagation()},key:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:s(t.submit)},submit:function(e){return e.preventDefault(),s(t.submit)}}},[e("v-validate",{staticClass:"is-block",attrs:{rules:t.inputRules,name:"Senha"},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("div",{staticClass:"password-control is-flex"},[e("base-input",{attrs:{type:t.password_review[0]?"text":"password",autocomplete:"new-password"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}},[e("span",[t._v("Senha")])]),e("button",{staticClass:"button is-1 is-link",on:{click:function(e){e.preventDefault(),t.password_review[0]=!t.password_review[0]}}},[e("span",{staticClass:"icon"},[e("i",{staticClass:"fas",class:[t.password_review[0]?"fa-eye-slash":"fa-eye"]})])])],1),s[0]?e("div",{staticClass:"error-message"},[e("small",{staticClass:"has-text-danger"},[t._v(t._s(s[0]))])]):t._e()]}}],null,!0)}),e("v-validate",{staticClass:"is-block",attrs:{rules:t.inputRules,name:"Confirmação"},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("div",{staticClass:"password-control is-flex"},[e("base-input",{attrs:{type:t.password_review[1]?"text":"password",autocomplete:"new-password"},model:{value:t.form.password_confirmation,callback:function(e){t.$set(t.form,"password_confirmation",e)},expression:"form.password_confirmation"}},[e("span",[t._v("Confirmar senha")])]),e("button",{staticClass:"button is-1 is-link",on:{click:function(e){e.preventDefault(),t.password_review[1]=!t.password_review[1]}}},[e("span",{staticClass:"icon"},[e("i",{staticClass:"fas",class:[t.password_review[1]?"fa-eye-slash":"fa-eye"]})])])],1),s[0]?e("div",{staticClass:"error-message"},[e("small",{staticClass:"has-text-danger"},[t._v(t._s(s[0]))])]):t._e()]}}],null,!0)}),e("div",{staticClass:"control is-flex"},[e("button",{staticClass:"button",attrs:{type:"submit",tabindex:"3"}},[t._v(" Alterar senha ")])])],1)]}}])})],1)]),e("span",{staticClass:"login__shadow"})])},we=[function(){var t=this,e=t._self._c;return e("p",[t._v(" Senha potencialmente fraca e suscetível à problemas de segurança. "),e("br"),t._v("Por favor atualize-a, considerando os itens abaixo: ")])}],ke=s("4b44"),Se={name:"AlterPassword",components:{BaseInput:V["default"],BaseTooltip:ee["default"]},mixins:[w["a"]],data:()=>({meta:{title:"Alterar senha"},form:{password:"",password_confirmation:""},password_review:{0:!1,1:!1},observer:null}),computed:{...Object(C["d"])({token:t=>t.app.logonToken,user:t=>t.user.userInfo}),inputRules(){return{required:!0,min:6,regex:/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[a-zA-Z])(?=.*?[^((0-9)|(a-z)|(A-Z)|\s)])[A-Za-z\d^((0-9)|(a-z)|(A-Z)|\s)].{6,}$/}}},mounted(){this.$nextTick(()=>this.setObserveContent()),window.addEventListener("resize",this.setWindowResize)},beforeDestroy(){this.observer&&this.observer.disconnect(),window.removeEventListener("resize",this.setWindowResize)},methods:{...Object(C["b"])({setUserData:"user/SET_USER_DATA",setChangePasswordRequirement:"user/SET_CHANGE_PASSWORD_REQUIREMENT"}),setObserveContent(){const t=document.getElementById("content"),e={attributes:!0,childList:!0,subtree:!0},s=this;this.observer=new MutationObserver(e=>{for(const{type:a}of e)if("childList"===a){s.setContentHeight(t.clientHeight,"observer");break}}),this.observer.observe(t,e);try{s.setContentHeight(t.clientHeight,"observer")}catch{}},setWindowResize(){const t=document.getElementById("content");this.setContentHeight(t.clientHeight,"resize")},setContentHeight(t,e){console.log("--login-content-height",t,e),document.documentElement.style.setProperty("--login-content-height",t)},async submit(){const t=new k["a"](this.token);this.loading=!0,await t.changePassword(this.form).then(()=>{this.setChangePasswordRequirement(!1),this.$router.push({name:"fgts-proposal"})}).catch(({response:t})=>{Object(ke["toast"])({message:t.data.error.message,type:"is-danger",dismissible:!0,pauseOnHover:!0,animate:{in:"fadeIn",out:"fadeOut"},position:"top-center",closeOnClick:!0})}).finally(()=>{this.loading=!1})}},metaInfo(){return j.meta(this.meta)}},xe=Se,Ae=(s("8366"),Object(I["a"])(xe,ye,we,!1,null,"396635ef",null)),Pe=Ae.exports,De=function(){var t=this,e=t._self._c;return e("Layout",{staticClass:"consult",attrs:{title:t.meta.title,"max-width":"100%","is-card":""},scopedSlots:t._u([{key:"helper",fn:function(){return[e("div",{staticClass:"card"},[e("div",{staticClass:"card-content"},[e("v-validate-observer",{ref:"form",scopedSlots:t._u([{key:"default",fn:function({handleSubmit:s,failed:a}){return[e("form",{staticClass:"consult__form",on:{submit:function(e){return e.preventDefault(),s(t.fetchList)}}},[e("v-validate",{attrs:{rules:"required|min:3",name:"Chave"},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("base-input",{staticStyle:{width:"350px"},attrs:{"error-message":s[0]},model:{value:t.form.text,callback:function(e){t.$set(t.form,"text",e)},expression:"form.text"}},[e("span",[t._v(" Chave * ")])])]}}],null,!0)}),e("span",{staticClass:"is-flex is-align-items-end"},[e("base-input",{class:[a?"mb-5":"mt-auto"],model:{value:t.form.condition,callback:function(e){t.$set(t.form,"condition",e)},expression:"form.condition"}},[e("span",[t._v(" Condição (opcional) ")])])],1),e("span",{staticClass:"is-flex is-align-items-end mr-0"},[e("button",{staticClass:"button is-link",class:[a?"mt-1":"mt-auto"],attrs:{type:"submit"}},[e("span",[t._v(" Consultar ")])])])],1)]}}])})],1)])]},proxy:!0}])},[t.message.modal?t._e():[e("the-error",{attrs:{message:t.message.error}})],e("div",{staticClass:"table__container"},[e("div",{staticClass:"buttons"},[e("button",{staticClass:"button is-link ml-auto mb-5",on:{click:t.openToCreate}},[e("span",[t._v("Adicionar")])])]),e("table",{staticClass:"table table__main is-narrow is-fullwidth"},[e("thead",{staticClass:"sticky"},[e("tr",[e("th",[t._v("Cache")]),e("th",[t._v("Ação")])])]),e("tbody",[t.list.keys.length?[t._l(t.list.keys,(function(s,a){return[e("tr",{key:a},[e("td",[t._v(" "+t._s(s)+" ")]),e("td",{staticClass:"is-narrow"},[e("button",{staticClass:"button is-ghost",attrs:{title:"Visualizar"},on:{click:function(e){return t.openToView(s)}}},[e("i",{staticClass:"fas fa-eye"})]),e("button",{staticClass:"button is-ghost has-text-danger",attrs:{title:"Deletar"},on:{click:function(e){return t.confirmDeleteCache(s)}}},[e("i",{staticClass:"fas fa-trash"})])])])]}))]:[e("tr",[e("td",{attrs:{colspan:"2"}},[t._v(" Efetue uma pesquisa ")])])]],2)])]),t.modal.edit?e("base-modal",{attrs:{"show-buttons":t.showButtons,"button-two-text":t.buttonTwoText,"button-one-text":"Salvar"},on:{close:function(e){return t.close("edit")},"button-2":function(e){return t.close("edit")},"button-1":t.handleEdit},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" "+t._s(t.modalEditTitle)+" ")]},proxy:!0},{key:"body",fn:function(){return[t.message.modal?[e("the-error",{attrs:{message:t.message.error}})]:t._e(),e("v-validate-observer",[e("form",[e("v-validate",{attrs:{rules:"required|min:3",name:"Chave"},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("base-input",{ref:"key",staticClass:"mb-3",attrs:{"error-message":s[0],disabled:t.isView},model:{value:t.form.key,callback:function(e){t.$set(t.form,"key",e)},expression:"form.key"}},[e("span",[t._v(" Chave "+t._s(t.isView?"":"*")+" ")])])]}}],null,!1,1782289361)}),t.isView?t._e():[e("v-validate",{attrs:{rules:"required|min:3",name:"TTL"},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("base-input",{ref:"ttl",staticClass:"mb-3",attrs:{"error-message":s[0],type:"number"},model:{value:t.form.ttl,callback:function(e){t.$set(t.form,"ttl",e)},expression:"form.ttl"}},[e("span",[t._v(" TTL * ")])])]}}],null,!1,3440325831)}),e("v-validate",{attrs:{rules:"required|min:3",name:"Tipo"},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("base-select",{ref:"type",staticClass:"mb-3",attrs:{"error-message":s[0],options:t.list.types},model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}},[e("span",[t._v(" Tipo * ")])])]}}],null,!1,1678544923)})],e("v-validate",{attrs:{rules:"required|min:3",name:"Descrição"},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("div",{ref:"value",staticClass:"control"},[e("label",{staticClass:"label"},[t._v("Descrição "+t._s(t.isView?"":"*"))]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.value,expression:"form.value"}],staticClass:"textarea",class:{expanded:t.isView},attrs:{disabled:t.isView},domProps:{value:t.form.value},on:{input:function(e){e.target.composing||t.$set(t.form,"value",e.target.value)}}}),t._v(" "),s[0]?e("small",{staticClass:"has-text-danger"},[t._v(t._s(s[0]))]):t._e()])]}}],null,!1,3279348263)}),t.form.type&&!t.isView?[e("the-error",{staticClass:"mt-3",attrs:{message:t.list.instructions[t.form.type],type:"info"}})]:t._e()],2)])]},proxy:!0}],null,!1,226517699)}):t._e(),t.modal.delete?e("base-modal",{attrs:{"show-buttons":!0,"button-two-text":"Cancelar","button-one-text":"Deletar cache"},on:{close:function(e){return t.close("delete")},"button-2":function(e){return t.close("delete")},"button-1":t.deleteCache},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Deletando item ")]},proxy:!0},{key:"body",fn:function(){return[t.message.modal?[e("the-error",{attrs:{message:t.message.error}})]:t._e(),e("p",[t._v(" Você está deletando o cache de chave "),e("b",[t._v(t._s(t.form.key))]),t._v(". "),e("br"),t._v("Deseja prosseguir com essa ação? ")])]},proxy:!0}],null,!1,930148546)}):t._e(),!1===t.user?e("loader",{attrs:{object:t.color.light,color1:t.color.secondary,color2:t.color.primary,opacity:100,bg:"#fff",size:"5",speed:"2",name:"circular",objectbg:"#999793"}}):t._e()],2)},Te=[];class Ie extends L["a"]{create({key:t,...e}){return this.api.post(`${this.baseUrl}/dashboard/cache/${t}`,e)}findBy(t){return this.api.get(this.baseUrl+"/dashboard/cache",{params:t})}findOne(t){return this.api.get(`${this.baseUrl}/dashboard/cache/${t}`)}delete(t){return this.api.delete(`${this.baseUrl}/dashboard/cache/${t}`)}}var Ee={name:"CacheView",components:{Layout:Xt,BaseInput:V["default"],BaseSelect:()=>Promise.resolve().then(s.bind(null,"2a26")),BaseModal:()=>Promise.resolve().then(s.bind(null,"c1ec"))},mixins:[w["a"]],data:()=>({meta:{title:"Gestão de Cache"},form:{text:"",key:"",value:"",ttl:"",type:"",condition:""},list:{keys:[],types:[{name:"String",value:"string"},{name:"Integer",value:"int"},{name:"Object",value:"object"},{name:"Boolean",value:"boolean"}],instructions:{string:"Escreva a informação em texto corrido, sem encapsular o conteúdo em aspas simples ou compostas",int:"Escreva a informação em texto corrido, sem encapsular o conteúdo em aspas simples ou compostas",boolean:"Escreva a informação em texto corrido, sem encapsular o conteúdo em aspas simples ou compostas",object:"Escreva a informação em formato de JSON"}},message:{error:"",modal:!1},modal:{delete:!1,edit:!1},isView:!1}),computed:{...Object(C["d"])({token:t=>t.app.logonToken,user:t=>t.user.userInfo,theme:t=>t.theme.theme}),color(){var t;return null===(t=this.theme)||void 0===t?void 0:t.color},showButtons(){return!this.isView||[!0,!1]},buttonTwoText(){return this.isView?"Fechar":"Cancelar"},modalEditTitle(){return this.isView?"Visualizar item":"Criando item"}},beforeRouteEnter(t,e,s){s(t=>{t.user&&!t.isRoleSuper(t.user)&&t.redirectAccess(t)})},watch:{user:{handler(t){const e=this;this.isRoleSuper(t)||this.redirectAccess(e)}},loading(t){t&&(this.message.error="",this.message.modal=!1)},"modal.delete":{handler(t){t||(this.form.key="")}},"modal.edit":{handler(t){t?this.isView&&this.fetchItem():(this.form.key="",this.form.value="",this.form.ttl="",this.form.type="",this.isView=!1)}}},methods:{handlerError(t){var e,s,a,o,i,n,r,l,c,d,u,m;let p=(null===t||void 0===t||null===(e=t.response)||void 0===e||null===(s=e.data)||void 0===s||null===(a=s.error)||void 0===a?void 0:a.message)||(null===t||void 0===t||null===(o=t.error)||void 0===o||null===(i=o.response)||void 0===i||null===(n=i.data)||void 0===n||null===(r=n.error)||void 0===r?void 0:r.message)||(null===t||void 0===t||null===(l=t.error)||void 0===l||null===(c=l.data)||void 0===c?void 0:c.message)||(null===t||void 0===t?void 0:t.message)||t;if(null!==t&&void 0!==t&&null!==(d=t.response)&&void 0!==d&&null!==(u=d.data)&&void 0!==u&&null!==(m=u.error)&&void 0!==m&&m.errors){var h,v,f;const e=Object.values(null===t||void 0===t||null===(h=t.response)||void 0===h||null===(v=h.data)||void 0===v||null===(f=v.error)||void 0===f?void 0:f.errors);p=p.concat("<br> - "+e.map(t=>t).join("<br> - "))}this.$set(this.message,"error",p)},handleEdit(){this.isView||(this.form.key&&this.form.value&&this.form.ttl?this.createItem():this.focus())},openToCreate(){this.isView=!1,this.modal.edit=!0},openToView(t){this.form.key=t,this.isView=!0,this.modal.edit=!0},confirmDeleteCache(t){this.form.key=t,this.modal.delete=!0},close(t){this.modal[t]=!1},focus(){var t;const e=["key","ttl"];let s;this.form.key?this.form.ttl?this.form.value||(s="value"):s="ttl":s="key";const a=null!==(t=this.$refs[s].$el)&&void 0!==t?t:this.$refs[s],o=e.includes(s)?"input":"textarea";a.querySelector(o).focus()},isRoleSuper({roles_ids:t}){return 6===t[0]},redirectAccess(t,e="fgts-proposal"){t.$router.push({name:e})},formattedParams(){let{value:t}=this.form;switch(this.form.type){case"object":t=JSON.parse(t);break;case"boolean":t=Boolean(t);break;case"int":t=Number(t);break;default:break}return console.log(t),{key:this.form.key,ttl:this.form.ttl,value:t}},async fetchList(){const t=new Ie(this.token),e=`*${this.form.text}*`,s=this.form.condition?{condition:this.form.condition}:"";this.loading=!0,this.list.keys=[],await t.findBy({text:e,...s}).then(({data:t})=>{for(const e of t.data)this.list.keys.push(e)}).catch(t=>this.handlerError(t)).finally(()=>{this.loading=!1})},async fetchItem(){const t=new Ie(this.token);this.loading=!0,await t.findOne(this.form.key).then(({data:t})=>{this.form.value=JSON.stringify(t,void 0,4)}).catch(t=>{this.handlerError(t),this.message.modal=!0}).finally(()=>{this.loading=!1})},async createItem(){const t=new Ie(this.token),e=this.formattedParams();this.loading=!0,await t.create(e).then(()=>{Object(ke["toast"])({message:"Cache criado com sucesso",type:"is-success",dismissible:!0,pauseOnHover:!0,animate:{in:"fadeIn",out:"fadeOut"},position:"top-center",closeOnClick:!0})}).catch(t=>{this.handlerError(t),this.message.modal=!0}).finally(()=>{this.loading=!1,this.message.modal||this.close("edit")})},async deleteCache(){const t=new Ie(this.token);this.loading=!0,await t.delete(this.form.key).then(()=>{Object(ke["toast"])({message:"Cache excluído com sucesso",type:"is-success",dismissible:!0,pauseOnHover:!0,animate:{in:"fadeIn",out:"fadeOut"},position:"top-center",closeOnClick:!0})}).catch(t=>{this.handlerError(t),this.message.modal=!0}).finally(()=>{this.loading=!1,this.message.modal||this.close("delete")})}},metaInfo(){return j.meta(this.meta)}},Oe=Ee,Me=(s("c9be"),Object(I["a"])(Oe,De,Te,!1,null,"5cdeef59",null)),Re=Me.exports,Be=function(){var t=this,e=t._self._c;return e("Layout",{attrs:{title:t.meta.title,"max-width":"100%"}},[e("the-error",{attrs:{message:t.message.text,type:t.message.type}}),e("div",{staticClass:"card"},[e("div",{staticClass:"card-content"},[t.showPendingFormalization?[e("base-tab",{attrs:{arr:t.tabs,version:"v2","has-pre-counter":!1},model:{value:t.currentStep,callback:function(e){t.currentStep=e},expression:"currentStep"}})]:t._e(),0===t.currentStep?[e("div",{staticClass:"columns"},[e("div",{staticClass:"column"},[e("dl",{staticClass:"mb-6"},[e("dt",{staticClass:"subtitle"},[e("span",[t._v(" Entenda o link de Auto Contratação ")]),e("button",{staticClass:"button is-ghost ml-auto",on:{click:function(e){t.expanded=!t.expanded}}},[e("span",{staticClass:"icon"},[e("i",{staticClass:"fas fa-chevron-left",class:{rotate:!t.expanded}})])])]),e("dd",{class:{collapsed:!t.expanded}},[e("p",[t._v(" Este recurso permite otimizar o processo de vendas, onde seu cliente poderá concluir a operação de forma independente através do link vinculado ao seu cadastro. Selecione a tabela que melhor atenda às necessidades do cliente e copie o link de formalização gerado pelo sistema. Compartilhe esse link diretamente ao cliente ou como preferir, lembre-se que os links abaixo não possuem validade. ")])])]),t.list.creditors.length>1?[e("v-validate",{staticStyle:{display:"flex",width:"100%"},attrs:{rules:"required",name:"Credores"},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("base-select",{staticClass:"mb-6",staticStyle:{width:"100%"},attrs:{"error-message":s[0],options:t.list.creditors},model:{value:t.form.creditor,callback:function(e){t.$set(t.form,"creditor",e)},expression:"form.creditor"}},[t._v(" Credores ")])]}}],null,!1,3090785950)})]:t._e(),e("div",{staticClass:"content"},[t._l(t.ratesFilteredBySupplier,(function(s,a,o){return[e("h3",{key:"title-"+o},[t._v(" "+t._s(t.list.suppliers[a])+" ")]),t.isMobile?[e("div",{key:"table-"+o,staticClass:"table--mobile"},[t.userIDIsValid?[t._l(s,(function(s,a){return[s.slug?[e("div",{key:a},[e("div",[e("span",{staticClass:"th"},[t._v("Tabela")]),e("span",{staticClass:"td"},[e("strong",[t._v(t._s(s.name))])])]),e("div",[e("span",{staticClass:"th"},[t._v("Taxa")]),e("span",{staticClass:"td"},[e("span",{staticClass:"chip"},[t._v(t._s(t.toFixed(s.monthly_rate))+"%")])])]),e("div",{staticClass:"buttons is-justify-content-center"},[e("button",{staticClass:"button is-grey is-outlined is-fullwidth",on:{click:function(e){t.copyLink(t.getLink(s.slug))}}},[e("span",[t._v("Copiar link")])])])])]:t._e()]}))]:[e("div",[e("span",{staticClass:"th"},[t._v("Não foi possível gerar os links para auto-contratação. Por favor, contate o suporte.")])])]],2)]:[e("table",{key:"table-"+o,staticClass:"table"},[e("thead",{staticClass:"sticky"},[e("tr",[e("th",{staticClass:"is-narrow"},[t._v(" Tabela ")]),e("th",{staticClass:"is-narrow"},[t._v(" Taxa Mensal ")]),e("th",[t._v(" Link ")]),e("th",{staticClass:"is-narrow"},[t._v(" Ações ")])])]),t.userIDIsValid?[e("tbody",[t._l(s,(function(s,a){return[s.slug?[e("tr",{key:a,staticClass:"no-hover-effect"},[e("td",[e("span",[t._v(t._s(s.name))])]),e("td",[e("span",{staticClass:"chip"},[t._v(t._s(t.toFixed(s.monthly_rate))+"%")])]),e("td",{staticClass:"ellipsis"},[e("a",{staticClass:"has-text-link",attrs:{href:t.getLink(s.slug)}},[t._v(t._s(t.getLink(s.slug)))])]),e("td",[e("div",{staticClass:"buttons"},[e("button",{staticClass:"button is-grey is-outlined",on:{click:function(e){t.copyLink(t.getLink(s.slug))}}},[e("span",[t._v("Copiar link")])])])])])]:t._e()]}))],2)]:[e("tbody",[e("tr",[e("td",{attrs:{colspan:"4"}},[e("span",[t._v("Não foi possível gerar os links para auto-contratação. Por favor, contate o suporte.")])])])])]],2)]]}))],2)],2)])]:[e("dl",{staticClass:"mb-6"},[e("dt",{staticClass:"subtitle"},[e("span",[t._v(" Acompanhe e reenvie os links de formalização para seus clientes. ")]),e("button",{staticClass:"button is-ghost ml-auto",on:{click:function(e){t.expanded=!t.expanded}}},[e("span",{staticClass:"icon"},[e("i",{staticClass:"fas fa-chevron-left",class:{rotate:!t.expanded}})])])]),e("dd",{class:{collapsed:!t.expanded}},[e("p",[t._v(" A listagem abaixo contempla os clientes que iniciaram o processo de contratação, mas ainda não concluíram o processo de formalização, que consiste em realizar a validação de identidade. Reenvie o link da formalização para o número de telefone informado durante o cadastro e garanta a conclusão desse contrato. ")])])]),e("div",{staticClass:"content"},[t.isMobile?[e("div",{staticClass:"table--mobile"},[t.hasPaginationData?[t._l(t.pagination.data.data,(function(s,a){return[e("div",{key:a},[e("div",[e("span",{staticClass:"th"},[t._v("CPF")]),e("span",{staticClass:"td"},[e("p",[e("CopyToClipboard",{staticClass:"document"},[e("strong",[t._v(t._s(s.document))])])],1)])]),e("div",[e("span",{staticClass:"th"},[t._v("Nome")]),e("span",{staticClass:"td"},[e("strong",[t._v(t._s(s.name))])])]),e("div",[e("span",{staticClass:"th"},[t._v("Telefone")]),e("span",{staticClass:"td"},[e("strong",[t._v(t._s(s.phone))])])]),e("div",{staticClass:"is-justify-content-center"},[e("span",{staticClass:"th"},[e("span",[t._v(t._s(t.dateFormat(s.created_at)))])])]),e("div",{staticClass:"buttons is-justify-content-center"},[e("button",{staticClass:"button is-grey is-outlined",on:{click:function(e){return t.openModal(s)}}},[e("span",[t._v("Copiar link de formalização")])])])])]}))]:[e("div",[e("span",{staticClass:"th"},[t._v("Sem pendências de formalização")])])]],2)]:[e("div",{staticClass:"content-view"},[e("table",{staticClass:"table"},[e("thead",{staticClass:"sticky"},[e("tr",[e("th",[t._v(" Cliente ")]),e("th",[t._v(" Telefone ")]),e("th",[e("div",{staticClass:"is-flex is-align-items-center"},[e("span",[t._v("Criado em")]),e("button",{staticClass:"button is-small is-ghost ml-2",on:{click:function(e){return t.paginate(t.orderBy)}}},[e("span",{staticClass:"icon"},[e("i",{staticClass:"fas",class:{"fa-arrow-up":"ASC"===t.orderBy,"fa-arrow-down":"DESC"===t.orderBy}})])])])]),e("th",[t._v(" Ações ")])])]),t.hasPaginationData?[e("tbody",[t._l(t.pagination.data.data,(function(s,a){return[e("tr",{key:a},[e("td",{staticClass:"detail"},[e("p",{staticClass:"mb-0"},[e("CopyToClipboard",{staticClass:"document"},[t._v(" "+t._s(s.document)+" ")])],1),e("p",{staticClass:"mb-0"},[t._v(" "+t._s(s.name)+" ")])]),e("td",[e("span",[t._v(t._s(s.phone))])]),e("td",[e("span",[t._v(t._s(t.dateFormat(s.created_at)))])]),e("td",[e("div",{staticClass:"buttons"},[e("button",{staticClass:"button is-grey is-outlined",on:{click:function(e){return t.openModal(s)}}},[e("span",[t._v("Copiar link de formalização")])])])])])]}))],2)]:[e("tbody",[e("tr",[e("td",{attrs:{colspan:"4"}},[e("span",[t._v("Sem pendências de formalização")])])])])]],2)])]],2),e("Pagination",{ref:"pagination",attrs:{"storage-key":t.pagination.filterKey,data:t.pagination.data},on:{paginate:t.paginate}}),t.modal.link?e("base-simple-modal",{staticClass:"modal",attrs:{width:t.isMobile?"100%":"610px"},on:{close:function(e){return t.openModal(null)}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Link de formalização ")]},proxy:!0},{key:"body",fn:function(){return[e("p",{staticClass:"mb-2"},[t._v(" Reenvie o link de formalização para o número de celular cadastrado do seu cliente. ")]),e("p",[t._v(" Acompanhe os status dessa proposta no menu "),e("strong",[t._v("Propostas FGTS")]),t._v(". ")]),e("pre",{staticClass:"my-3"},[t._v("              "+t._s(t.validationLink(t.modal.data.token))+"\n            ")]),e("div",{staticClass:"is-flex is-justify-content-center mb-5"},[e("button",{staticClass:"button is-grey is-outlined mr-3",on:{click:function(e){t.copyLink(t.validationLink(t.modal.data.token))}}},[e("span",{staticClass:"icon"},[e("i",{staticClass:"fas fa-link"})]),e("span",[t._v("Copiar link")])]),e("button",{staticClass:"button is-grey is-outlined",on:{click:function(e){t.shareLink(t.validationLink(t.modal.data.phone))}}},[e("span",{staticClass:"icon"},[e("i",{staticClass:"fab fa-whatsapp"})]),e("span",[t._v("Compartilhar")])])]),e("button",{staticClass:"button is-primary is-fullwidth",on:{click:function(e){return t.openModal(null)}}},[e("span",[t._v("Voltar")])])]},proxy:!0}],null,!1,1550454426)}):t._e()]],2)])],1)},Le=[],Ue=s("ed08"),Ne=s("3081"),qe=s("1bbd");class Fe extends L["a"]{async getPendingFormalization(t){return this.api.get(this.baseUrl+"/self-contracting/lead-pending-antifraud",{params:t})}}var je=s("e0f7"),Ve={name:"ReferralLinks",components:{Layout:Xt,BaseTab:je["default"],BaseSelect:()=>Promise.resolve().then(s.bind(null,"2a26")),Pagination:()=>Promise.resolve().then(s.bind(null,"1799")),BaseSimpleModal:()=>Promise.resolve().then(s.bind(null,"13bf")),CopyToClipboard:()=>Promise.resolve().then(s.bind(null,"811c"))},mixins:[w["a"]],inject:["domain"],data:()=>({meta:{title:"Auto Contratação"},form:{product_id:3,creditor:"",creditor_id:""},list:{rates:[],creditors:[],suppliers:{1:"QI Tech",2:"Unico",3:"UY3",4:"BMP",5:"Zoop",6:"Cielo",7:"Cartos"}},pagination:{data:{},filterKey:"referral"},message:{text:"",type:""},modal:{link:!1,data:null},expanded:!0,currentStep:0,proposalWithFormalizationPending:null,showPendingFormalization:!1,orderBy:"ASC"}),computed:{...Object(C["d"])({user:t=>t.user.userInfo,token:t=>t.app.logonToken}),...Object(C["c"])({isMobile:"app/isMobile"}),userID(){return this.user.id},userIDIsValid(){return Number.isInteger(this.userID)},ratesFilteredBySupplier(){return this.list.rates.reduce((t,e)=>(t[e.supplier_id]?t[e.supplier_id].push(e):t[e.supplier_id]=[e],t),{})},tabs(){return[{title:"Meus links",tag:""},{title:"Pendência de formalização",tag:"Novidade",info:this.proposalWithFormalizationPending}]},hasPaginationData(){return Object(Ue["e"])(this.pagination.data,"data")}},watch:{"form.creditor":{async handler(t,e){if(e===t)return;const s=this.getCreditorFromList(t);this.form.creditor_id=(null===s||void 0===s?void 0:s.creditor_id)||null,this.setMessage("reset"),this.list.rates=[],this.fetchRates()}},async currentStep(t){this.expanded=!this.isMobile,t&&await this.paginate()}},async mounted(){this.expanded=!this.isMobile,await this.fetchCreditors(),this.pendingFormalizationsQtty()},methods:{setMessage(t,e="danger"){"reset"===t?(this.message.text="",this.message.type=""):(this.message.text=t,this.message.type=e)},handlerError(t){var e,s,a,o,i,n,r,l,c,d;let u=(null===t||void 0===t||null===(e=t.response)||void 0===e||null===(s=e.data)||void 0===s||null===(a=s.error)||void 0===a?void 0:a.message)||(null===t||void 0===t||null===(o=t.error)||void 0===o||null===(i=o.response)||void 0===i||null===(n=i.data)||void 0===n||null===(r=n.error)||void 0===r?void 0:r.message)||(null===t||void 0===t?void 0:t.message)||t;if(null!==t&&void 0!==t&&null!==(l=t.response)&&void 0!==l&&null!==(c=l.data)&&void 0!==c&&null!==(d=c.error)&&void 0!==d&&d.errors){var m,p,h;const e=Object.values(null===t||void 0===t||null===(m=t.response)||void 0===m||null===(p=m.data)||void 0===p||null===(h=p.error)||void 0===h?void 0:h.errors);u=u.concat("<br> - "+e.map(t=>t).join("<br> - "))}this.setMessage(u)},getCreditorFromList(t,e="name"){const s=t=>String(t).toLowerCase(),{creditors:a}=this.list,o=a.find(a=>s(a[e])===s(t));return o||{}},getLink(t){const{defaultDomain:e}=Object(x["a"])();return`https://fgts.${e}/referral/${this.userID}?slug=${t}`},copyLink(t){Object(Ue["a"])(t)},toFixed(t,e=2){return Number(t).toFixed(e)},dateFormat(t){let[e,s]=t.split("T");return e=e.split("-").reverse().join("/"),[s]=s.split("."),e.concat(" "+s)},openModal(t){this.modal.data=t,this.modal.link=!!t},validationLink:Ue["g"],shareLink(t){if(this.isMobile&&navigator&&navigator.share)navigator.share({title:"Link de formalização",text:"Acesse o link e conclua a formalização para finalizar a contratação da proposta.",url:Object(Ue["g"])(this.modal.data.token)});else{const e="55"+t.replace(/[^0-9]/g,""),s="Acesse o link e conclua a formalização para finalizar a contratação da proposta.";window.open(`https://wa.me/${e}?text=${encodeURIComponent(s)}`,"_blank")}},async fetchCreditors(){const t=new Ne["a"](this.token),{product_id:e}=this.form;this.loading=!0,this.setMessage("reset"),await t.getCreditors({product_id:e}).then(({data:t})=>{this.list.creditors=[];for(const e of t.data)this.list.creditors.push({value:e.name.toUpperCase(),...e})}).catch(t=>this.handlerError(t)).finally(()=>{const[t]=this.list.creditors;1===this.list.creditors.length&&(this.form.creditor=t.value),this.loading=!1})},async fetchRates(){const t=new qe["a"](this.token),{creditor_id:e}=this.form;this.loading=!0,await t.getProductsRates(this.form.product_id,{creditor_id:e}).then(({data:t})=>{this.list.rates=[];for(const e of t.data)this.list.rates.push({...e,value:e.id,name:e.name.split(" - ")[0]})}).catch(t=>this.handlerError(t)).finally(()=>{this.loading=!1})},async paginate(t){const e=new Fe(this.token);0!==this.proposalWithFormalizationPending&&(this.loading=!0,t&&(this.orderBy="ASC"===this.orderBy?"DESC":"ASC"),await e.getPendingFormalization({order_by:t}).then(({data:t})=>{this.pagination.data=t.data}).catch(this.handlerError).finally(()=>{this.loading=!1}))},pendingFormalizationsQtty(){const t=new Fe(this.token);t.getPendingFormalization({only_total:!0}).then(({data:t})=>{this.proposalWithFormalizationPending=t.data.total,this.showPendingFormalization=!0})}},metaInfo(){return j.meta(this.meta)}},ze=Ve,$e=(s("8160"),Object(I["a"])(ze,Be,Le,!1,null,"722d2622",null)),He=$e.exports,Ge=function(){var t=this,e=t._self._c;return e("Layout",{attrs:{title:t.title,"max-width":"100%"},scopedSlots:t._u([!t.isDetail&&t.hasBoundPromoters?{key:"helper",fn:function(){return[e("div",{staticClass:"card"},[e("div",{staticClass:"card-content"},[e("div",{staticClass:"level"},[t._l(t.normalizedPerformance,(function(s,a){return[e("div",{key:a,staticClass:"bond level-item"},[e("div",{staticClass:"bond__title"},[t._v(" "+t._s(s.title)+" ")]),e("div",{staticClass:"bond__value"},[s.money?[t._v(" "+t._s(t._f("money")(s.value))+" ")]:[t._v(" "+t._s(s.value)+" ")]],2)])]}))],2),e("div",{staticClass:"bond__created-at"},[e("span",{staticClass:"icon"},[e("img",{attrs:{src:t.timeClock,alt:"clock"}})]),e("span",[t._v("Última atualização às "+t._s(t.processedAt))])])])])]},proxy:!0}:null],null,!0)},[t.isDetail?[e("div",{staticClass:"card"},[e("div",{staticClass:"card-content"},[e("div",{staticClass:"columns mb-6"},[e("div",{staticClass:"column"},[e("h3",{staticClass:"detail__title"},[t._v(" "+t._s(t.detail.name)+" ")])]),e("div",{staticClass:"column is-narrow"},[e("div",{staticClass:"buttons mt-auto"},[e("button",{staticClass:"button is-link",on:{click:function(e){e.preventDefault(),t.detail={}}}},[e("span",[t._v("Voltar")]),e("span",{staticClass:"icon"},[e("i",{staticClass:"fas fa-reply"})])])])])]),t.isEmptyStateError&&t.promoterId?t._e():[e("the-error",{attrs:{message:t.message.error}})],t.hasBoundPromotersData?[e("p",{staticClass:"bond__subtitle mb-3"},[t._v(" Desempenho geral ")]),e("div",{staticClass:"bond__details mb-6"},[e("div",{staticClass:"level"},[t._l(t.normalizedPerformanceDetail,(function(s,a){return[e("div",{key:a,staticClass:"bond level-item"},[e("div",{staticClass:"bond__title"},[t._v(" "+t._s(s.title)+" ")]),e("div",{staticClass:"bond__value"},[s.money?[t._v(" "+t._s(t._f("money")(s.value))+" ")]:[t._v(" "+t._s(s.value)+" ")]],2)])]}))],2),e("div",{staticClass:"bond__created-at"},[e("span",{staticClass:"icon"},[e("img",{attrs:{src:t.timeClock,alt:"clock"}})]),e("span",[t._v("Última atualização às "+t._s(t.processedAt))])])]),e("p",{staticClass:"bond__subtitle mb-3"},[t._v(" Desempenho por período ")]),e("table",{staticClass:"table is-fullwidth"},[e("thead",[e("tr",[e("th",[t._v("Período")]),e("th",[t._v("Propostas digitadas")]),e("th",[t._v("Propostas desembolsadas")]),e("th",[t._v("Total desembolsado")]),e("th",[t._v("Ganhos (1%)")])])]),e("tbody",t._l(t.boundPromotersData,(function(s,a){return e("tr",{key:a},[e("td",[e("span",[t._v(t._s(s.period))])]),e("td",[e("span",[t._v(t._s(s.typed_qty))])]),e("td",[e("span",[t._v(t._s(s.disbursed_qty))])]),e("td",[e("span",[t._v(t._s(t._f("money")(s.disbursed_amount)))])]),e("td",[e("span",[t._v(t._s(t._f("money")(s.estimate_amount)))])])])})),0)])]:[e("div",{staticClass:"empty-state"},[e("img",{attrs:{src:t.notFound,alt:"not-found"}}),e("p",{staticClass:"bond__subtitle"},[t._v(" Não há dados nesta promotora ")]),e("p",[t._v(" Ainda não há dados detalhados para esta promotora ")])])]],2)])]:[e("div",{staticClass:"card",class:{"empty-body":t.isEmptyStateError||!t.promoterId}},[e("div",{staticClass:"card-content"},[e("p",{staticClass:"bond__subtitle mb-3"},[t._v(" Promotoras vinculadas ")]),t.isEmptyStateError&&t.promoterId?t._e():[e("the-error",{attrs:{message:t.message.error}})],t.hasBoundPromoters?[e("table",{staticClass:"table is-fullwidth"},[e("thead",[e("tr",[e("th",[t._v("Promotora")]),e("th",[t._v("CNPJ")]),e("th",{staticClass:"is-narrow"},[t._v(" Ações ")])])]),e("tbody",t._l(t.boundPromoters,(function(s,a){return e("tr",{key:a},[e("td",[e("span",[t._v(t._s(s.name))])]),e("td",[e("span",[t._v(t._s(s.document))])]),e("td",[e("button",{staticClass:"button is-small",on:{click:function(e){return t.seeDetails(s)}}},[t._v(" Ver desempenho ")])])])})),0)])]:[e("div",{staticClass:"empty-state"},[e("img",{attrs:{src:t.notFound,alt:"not-found"}}),e("p",{staticClass:"bond__subtitle"},[t._v(" Não há promotoras indicadas ")]),e("p",[t._v(" Nenhuma indicada foi vinculada a está promotora até o momento ")])])]],2)])]],2)},Qe=[],Ke=s("0863"),Je=s.n(Ke),We=s("ccea"),Ye=s.n(We),Ze={name:"BondsDetails",components:{Layout:Xt},mixins:[w["a"]],data:()=>({meta:{title:"Minhas indicadas"},message:{error:""},boundPromoters:[],boundPromotersData:[],performance:{},performanceDetail:{},detail:{},notFound:Je.a,timeClock:Ye.a}),computed:{...Object(C["d"])({token:t=>t.app.logonToken,user:t=>t.user.userInfo}),hasBoundPromoters(){return Boolean(this.boundPromoters.length)},hasBoundPromotersData(){return Boolean(this.boundPromotersData.length)},isEmptyStateError(){return this.message.error&&this.message.error.includes("Infelizmente não foi possível encontrar este registro")},promoterId(){return this.user.promoter_id},normalizedPerformance(){return[{title:"Propostas digitadas",value:this.performance.typed_qty,money:!1},{title:"Propostas desembolsadas",value:this.performance.disbursed_qty,money:!1},{title:"Total desembolsado em reais",value:this.performance.disbursed_amount,money:!0},{title:"Estimativa de ganho (1%)",value:this.performance.estimate_amount,money:!0}]},normalizedPerformanceDetail(){return[{title:"Propostas digitadas",value:this.performanceDetail.typed_qty,money:!1},{title:"Propostas averbadas",value:this.performanceDetail.disbursed_qty,money:!1},{title:"Total desembolsado em reais",value:this.performanceDetail.disbursed_amount,money:!0},{title:"Total desembolsado em reais",value:this.performanceDetail.estimate_amount,money:!0}]},isDetail(){return Object(Ue["e"])(this.detail,"name")},processedAt(){const[t,e]=this.performance.processed_at.split(" ");return`${e} ${t.split("-").reverse().join("/")}`},title(){return this.isDetail?"Desempenho da indicada":"Minhas indicadas"}},watch:{isDetail(t){t||(this.boundPromotersData=[],this.performanceDetail={})},async promoterId(t){t&&await this.fetchBondsDetails()}},async mounted(){this.promoterId&&await this.fetchBondsDetails()},methods:{handlerError(t){var e,s,a,o,i,n,r,l,c,d,u,m;let p=(null===t||void 0===t||null===(e=t.response)||void 0===e||null===(s=e.data)||void 0===s||null===(a=s.error)||void 0===a?void 0:a.message)||(null===t||void 0===t||null===(o=t.error)||void 0===o||null===(i=o.response)||void 0===i||null===(n=i.data)||void 0===n||null===(r=n.error)||void 0===r?void 0:r.message)||(null===t||void 0===t||null===(l=t.error)||void 0===l||null===(c=l.data)||void 0===c?void 0:c.message)||(null===t||void 0===t?void 0:t.message)||t;if(null!==t&&void 0!==t&&null!==(d=t.response)&&void 0!==d&&null!==(u=d.data)&&void 0!==u&&null!==(m=u.error)&&void 0!==m&&m.errors){var h,v,f;const e=Object.values(null===t||void 0===t||null===(h=t.response)||void 0===h||null===(v=h.data)||void 0===v||null===(f=v.error)||void 0===f?void 0:f.errors);p=p.concat("<br> - "+e.map(t=>t).join("<br> - "))}this.$set(this.message,"error",p)},async seeDetails(t){this.detail=t,await this.fetchPromoterBondDetail()},async fetchBondsDetails(){const t=new k["a"](this.token);this.loading=!0,this.message.error="",await t.getIndicated({id:this.promoterId,params:{with_performance:1}}).then(({data:t})=>{this.boundPromoters=[];for(const e of t.data.indicated)this.boundPromoters.push(e);this.performance=t.data.performance_summary}).catch(this.handlerError).finally(()=>{this.loading=!1})},async fetchPromoterBondDetail(){const t=new k["a"](this.token);this.loading=!0,this.message.error="",await t.getIndicatedByPromoterID({id:this.promoterId,promoter_id:this.detail.id,params:{with_performance:1}}).then(({data:t})=>{this.boundPromotersData=[];for(const e of t.data.performance_periods)this.boundPromotersData.push(e);this.performanceDetail=t.data.performance_summary}).catch(this.handlerError).finally(()=>{this.loading=!1})}},metaInfo(){return j.meta(this.meta)}},Xe=Ze,ts=(s("7800"),Object(I["a"])(Xe,Ge,Qe,!1,null,"4041b44d",null)),es=ts.exports,ss=[{name:"change-password",path:"/alterar-senha",component:Pe},{name:"login",path:"/",component:G},{name:"recover-password",path:"/recuperar-senha",component:G},{name:"dashboard",path:"/dashboard",component:ne},{name:"reports",path:"/relatorios",component:he},{name:"edit-user",path:"/configuracao",component:Ce},{name:"cache-config",path:"/cache",component:Re},{name:"referral-links",path:"/referral-links",component:He},{name:"bonds-details",path:"/indicadas",component:es},{path:"/usuarios/editar",redirect:"/configuracao"}],as=function(){var t=this,e=t._self._c;return e("Layout",{attrs:{title:t.meta.title,"max-width":"100%","is-card":""}},[e("div",{staticClass:"columns"},[e("div",{staticClass:"column"},[e("h3",{staticClass:"is-size-4"},[t._v(" Gerenciando Tabelas ")])]),t.form.creditor?[e("div",{staticClass:"column is-narrow"},[e("router-link",{staticClass:"button is-link",attrs:{to:{name:"rates-edit",params:{id:"null"}}}},[e("span",[t._v("Adicionar")]),e("span",{staticClass:"icon"},[e("i",{staticClass:"fas fa-user-plus"})])])],1)]:t._e()],2),e("the-error",{attrs:{message:t.message.text,type:t.message.type}}),e("base-select",{staticClass:"mb-0",attrs:{value:t.form.product_id,options:t.list.products},on:{input:t.handleProductSelect}},[e("span",[t._v("Produto")])]),t.list.creditors.length>1?[e("v-validate",{attrs:{rules:"required",name:"Credores"},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("base-select",{attrs:{"error-message":s[0],options:t.list.creditors},model:{value:t.form.creditor,callback:function(e){t.$set(t.form,"creditor",e)},expression:"form.creditor"}},[t._v(" Credores ")])]}}],null,!1,1715931741)})]:t._e(),t.filteredData.length?[e("base-input",{staticClass:"mb-0 mt-6",attrs:{type:"text",maxlength:"225",placeholder:"Nome ou Valor da taxa mensal"},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}},[t._v(" Filtrar ")])]:t._e(),e("table",{staticClass:"table is-narrow is-striped is-fullwidth",class:[t.filteredData.length?"mt-1":"mt-6"]},[e("thead",{staticClass:"sticky"},[e("tr",[e("th",[t._v("Ações")]),e("th",[t._v("Nome")]),e("th",[t._v("Valor taxa mensal")]),e("th",[t._v("Tabela ativa")])])]),e("tbody",[t.filteredData.length?t._l(t.filteredData,(function(s,a){return e("tr",{key:a,class:{disabled:!s.active}},[e("td",{staticClass:"is-narrow"},[e("router-link",{staticClass:"button is-ghost",attrs:{to:{name:"rates-edit",params:{id:s.id,product_id:t.form.product_id,creditor:t.form.creditor}}}},[e("i",{staticClass:"fas fa-pen"})])],1),e("td",[e("span",[t._v(t._s(s.name))])]),e("td",[e("span",[t._v(t._s(s.monthly_rate))])]),e("td",[t._v(" "+t._s(s.active?"Sim":"Não")+" ")])])})):[e("tr",[e("td",{staticClass:"pt-3",attrs:{colspan:"4"}},[t._v(" Selecione o tipo de produto e banco ")])])]],2)])],2)},os=[],is={name:"RatesListView",components:{Layout:Xt,BaseInput:()=>Promise.resolve().then(s.bind(null,"b3b3")),BaseSelect:()=>Promise.resolve().then(s.bind(null,"2a26")),TheError:()=>Promise.resolve().then(s.bind(null,"c6f5"))},mixins:[w["a"]],data:()=>({meta:{title:"Listagem Tabelas de Juros"},form:{product_id:null,creditor:"",creditor_id:""},message:{text:"",type:""},list:{products:[],creditors:[],rates:[]},filter:""}),computed:{...Object(C["d"])({token:t=>t.app.logonToken}),filteredData(){return this.list.rates.filter(t=>{const e=this.filter.toLowerCase(),s=t.name.toLowerCase(),a=t.monthly_rate.toLowerCase();return s.includes(e)||a.includes(e)})}},watch:{"form.creditor":{async handler(t,e){if(e===t)return;const s=this.getCreditorFromList(t);this.form.creditor_id=(null===s||void 0===s?void 0:s.creditor_id)||null,this.setMessage("reset"),this.list.rates=[],this.fetchProductsRates()}}},async mounted(){await this.fetchProducts(),this.$route.params.product_id&&(this.form.product_id=this.$route.params.product_id,await this.handleProductSelect(this.form.product_id,!1),this.form.creditor=this.$route.params.creditor)},methods:{setMessage(t,e="danger"){"reset"===t?(this.message.text="",this.message.type=""):(this.message.text=t,this.message.type=e)},handlerError(t){var e,s,a,o,i,n,r,l,c,d;let u=(null===t||void 0===t||null===(e=t.response)||void 0===e||null===(s=e.data)||void 0===s||null===(a=s.error)||void 0===a?void 0:a.message)||(null===t||void 0===t||null===(o=t.error)||void 0===o||null===(i=o.response)||void 0===i||null===(n=i.data)||void 0===n||null===(r=n.error)||void 0===r?void 0:r.message)||(null===t||void 0===t?void 0:t.message)||t;if(null!==t&&void 0!==t&&null!==(l=t.response)&&void 0!==l&&null!==(c=l.data)&&void 0!==c&&null!==(d=c.error)&&void 0!==d&&d.errors){var m,p,h;const e=Object.values(null===t||void 0===t||null===(m=t.response)||void 0===m||null===(p=m.data)||void 0===p||null===(h=p.error)||void 0===h?void 0:h.errors);u=u.concat("<br> - "+e.map(t=>t).join("<br> - "))}this.setMessage(u),window.document.querySelector("main").scrollTo({top:0,left:0,behavior:"smooth"})},async setData(t){var e,s,a,o,i;const n=this.getCreditorFromList(null!==(e=t.creditor_id)&&void 0!==e?e:"","id");this.form.product_id=null!==(s=t.product_id)&&void 0!==s?s:3,this.form.creditor_id=null!==(a=t.creditor_id)&&void 0!==a?a:"",this.form.creditor=null!==(o=null===n||void 0===n||null===(i=n.name)||void 0===i?void 0:i.toUpperCase())&&void 0!==o?o:""},getCreditorFromList(t,e="name"){const s=t=>String(t).toLowerCase(),{creditors:a}=this.list,o=a.find(a=>s(a[e])===s(t));return o||{}},async handleProductSelect(t,e=!0){this.setData({product_id:t,...e?{creditor:""}:"",...e?{creditor_id:""}:""}),this.list.creditors=[],this.list.rates=[],await this.fetchCreditors()},async fetchProducts(){const t=new qe["a"](this.token);this.loading=!0,await t.getProducts().then(({data:t})=>{for(const{id:e,name:s}of t.data)this.list.products.push({name:s,value:e})}).catch(t=>this.handlerError(t)).finally(()=>{this.loading=!1})},async fetchCreditors(){const t=new Ne["a"](this.token),{product_id:e}=this.form;this.loading=!0,this.setMessage("reset"),await t.getCreditors({product_id:e}).then(({data:t})=>{this.list.creditors=[];for(const e of t.data)this.list.creditors.push({value:e.name.toUpperCase(),...e})}).catch(t=>this.handlerError(t)).finally(()=>{const[t]=this.list.creditors;1===this.list.creditors.length&&(this.form.creditor=t.value),this.loading=!1})},async fetchProductsRates(){const t=new qe["a"](this.token),{product_id:e,creditor_id:s}=this.form;s&&(this.loading=!0,this.setMessage("reset"),await t.getProductsRates(e,{creditor_id:s},!0).then(({data:t})=>{this.list.rates=[];for(const e of t.data)this.list.rates.push({value:e.id,...e})}).catch(t=>this.handlerError(t)).finally(()=>{this.loading=!1}))}},metaInfo(){return j.meta(this.meta)}},ns=is,rs=(s("2a55"),Object(I["a"])(ns,as,os,!1,null,"01ef8bf8",null)),ls=rs.exports,cs=function(){var t=this,e=t._self._c;return e("Layout",{attrs:{title:t.meta.title,"max-width":"100%","is-card":""}},[e("div",{staticClass:"columns"},[e("div",{staticClass:"column"},[e("h3",{staticClass:"is-size-4"},[t._v(" "+t._s(t.title)+" Tabela ")])]),e("div",{staticClass:"column is-narrow"},[e("router-link",{key:"cancel",staticClass:"button is-link",attrs:{to:{name:"rates",params:{product_id:t.form.product_id,creditor:t.form.creditor}}}},[e("span",[t._v("Voltar")]),e("span",{staticClass:"icon"},[e("i",{staticClass:"fas fa-reply"})])])],1)]),e("the-error",{attrs:{message:t.message.text}}),e("v-validate-observer",{scopedSlots:t._u([{key:"default",fn:function({handleSubmit:s}){var a;return[e("form",{staticClass:"documents",on:{submit:function(e){return e.preventDefault(),s(t.submit)}}},[e("fieldset",[e("legend",[t._v("Dados básicos")]),e("v-validate",{attrs:{rules:"required",name:"Nome"},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("base-input",{attrs:{"error-message":s[0],type:"text",maxlength:"225"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}},[t._v(" Nome ")])]}}],null,!0)}),e("v-validate",{attrs:{rules:"required",name:"Taxa"},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("base-input",{attrs:{"error-message":s[0],maxlength:"225"},model:{value:t.form.monthly_rate,callback:function(e){t.$set(t.form,"monthly_rate",e)},expression:"form.monthly_rate"}},[t._v(" Taxa "),e("small",[t._v("(%)")])])]}}],null,!0)}),e("v-validate",{attrs:{name:"Código externo"},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("base-input",{attrs:{"error-message":s[0],type:"text",maxlength:"225"},model:{value:t.form.external_id,callback:function(e){t.$set(t.form,"external_id",e)},expression:"form.external_id"}},[t._v(" Código externo ")])]}}],null,!0)})],1),e("fieldset",[e("legend",[t._v("Regra de comissão")]),e("div",{staticClass:"info is-flex"},[e("button",{staticClass:"button is-rounded is-link is-small",on:{click:function(e){return e.preventDefault(),t.addItem.apply(null,arguments)}}},[e("span",{staticClass:"icon"},[e("i",{staticClass:"fas fa-plus"})])])]),e("transition",{attrs:{name:"component-fade"}},[(null===(a=t.form.commissions.rules)||void 0===a?void 0:a.length)>0?[e("transition-group",{staticClass:"mt-3",attrs:{tag:"dl",name:"component-fade"}},[t._l(t.form.commissions.rules,(function(s,a){return[e("dt",{key:"title-"+a},[e("span",[t._v(" "+t._s(s.condition||"---")+" ")]),e("button",{staticClass:"button is-ghost ml-auto mr-3",on:{click:function(e){return e.preventDefault(),t.removeItem(a)}}},[e("span",[t._v("remover")]),e("span",{staticClass:"icon is-small"},[e("i",{staticClass:"fas fa-trash"})])]),e("button",{staticClass:"button is-ghost",on:{click:function(e){return e.preventDefault(),(()=>{t.collapsed.commissions[a]=!t.collapsed.commissions[a]}).apply(null,arguments)}}},[e("span",[t._v(t._s(t.collapsed.commissions[a]?"expandir":"recolher"))]),e("i",{staticClass:"fas fa-chevron-left",class:{"is--collapsed":!t.collapsed.commissions[a]}})])]),e("dd",{key:"content-"+a,class:{collapsed:t.collapsed.commissions[a]}},[e("commission-rules",{attrs:{"input-value":s.condition_component_screen,"possible-groups":t.conditionAccordanceData},on:{input:({formula:t,inputValue:e})=>{s.condition=t,s.condition_component_screen=e}}},[t._v(" Condição ")]),e("hr"),e("commission-rules",{attrs:{"input-value":s.calculation_basis_component_screen,"possible-groups":t.calculationBasisAccordanceData},on:{input:({formula:t,inputValue:e})=>{s.calculation_basis=t,s.calculation_basis_component_screen=e}}},[t._v(" Base de Cálculo ")])],1)]}))],2)]:[e("span",{key:"not-commission"},[e("i",[t._v("Adicionar comissão")])])]],2)],1),e("hr"),e("div",{staticClass:"columns"},[e("div",{staticClass:"column"},[e("router-link",{staticClass:"button is-danger",attrs:{to:{name:"rates",params:{product_id:t.form.product_id,creditor:t.form.creditor}}}},[e("span",[t._v("Cancelar")]),e("span",{staticClass:"icon"},[e("i",{staticClass:"fas fa-undo-alt"})])])],1),e("div",{staticClass:"column is-narrow"},[e("button",{staticClass:"button is-link",attrs:{type:"submit"}},[e("span",[t._v("Salvar")]),e("span",{staticClass:"icon"},[e("i",{staticClass:"fas fa-save"})])])])])])]}}])})],1)},ds=[],us=s("3657"),ms=s("4251");const ps={calculation_basis:"",condition:"",calculation_basis_component_screen:[],condition_component_screen:[]};var hs={name:"RatesEditView",components:{Layout:Xt,BaseInput:()=>Promise.resolve().then(s.bind(null,"b3b3")),CommissionRules:()=>s.e("chunk-0ac2d55a").then(s.bind(null,"8c97")),TheError:()=>Promise.resolve().then(s.bind(null,"c6f5"))},mixins:[w["a"]],data:()=>({conditionAccordanceData:us,calculationBasisAccordanceData:ms,collapsed:{commissions:{}},meta:{title:"Edição Tabelas de Juros"},form:{product_id:null,tenant_id:1,creditor:"",creditor_id:"",name:"",monthly_rate:"",external_id:"",commissions:{rules:[]}},message:{text:"",type:""},list:{creditors:[]}}),computed:{...Object(C["d"])({user:t=>t.user.userInfo,token:t=>t.app.logonToken}),id(){return this.$route.params.id},hasID(){return!!(0|this.id)},title(){return this.hasID?"Editar":"Nova"}},watch:{"form.commissions.rules.length":{handler(t){this.handleCollapsed(t,"commissions")}}},async mounted(){this.hasID&&await this.getUniqueProductRate()},methods:{handlerError(t){var e,s,a,o,i,n,r,l,c,d;let u=(null===t||void 0===t||null===(e=t.response)||void 0===e||null===(s=e.data)||void 0===s||null===(a=s.error)||void 0===a?void 0:a.message)||(null===t||void 0===t||null===(o=t.error)||void 0===o||null===(i=o.response)||void 0===i||null===(n=i.data)||void 0===n||null===(r=n.error)||void 0===r?void 0:r.message)||(null===t||void 0===t?void 0:t.message)||t;if(null!==t&&void 0!==t&&null!==(l=t.response)&&void 0!==l&&null!==(c=l.data)&&void 0!==c&&null!==(d=c.error)&&void 0!==d&&d.errors){var m,p,h;const e=Object.values(null===t||void 0===t||null===(m=t.response)||void 0===m||null===(p=m.data)||void 0===p||null===(h=p.error)||void 0===h?void 0:h.errors);u=u.concat("<br> - "+e.map(t=>t).join("<br> - "))}this.setMessage(u),window.document.querySelector("main").scrollTo({top:0,left:0,behavior:"smooth"})},setMessage(t,e="danger"){"reset"===t?(this.message.text="",this.message.type=""):(this.message.text=t,this.message.type=e)},async setData(t){var e,s,a,o,i,n,r,l,c;const d=this.getCreditorFromList(null!==(e=t.creditor_id)&&void 0!==e?e:"","id");if(this.form.product_id=null!==(s=t.product_id)&&void 0!==s?s:3,this.form.tenant_id=null!==(a=t.tenant_id)&&void 0!==a?a:1,this.form.creditor_id=null!==(o=t.creditor_id)&&void 0!==o?o:"",this.form.creditor=null!==(i=null===d||void 0===d||null===(n=d.name)||void 0===n?void 0:n.toUpperCase())&&void 0!==i?i:"",this.form.name=null!==(r=t.name)&&void 0!==r?r:"",this.form.monthly_rate=null!==(l=t.monthly_rate)&&void 0!==l?l:"",this.form.external_id=null!==(c=t.external_id)&&void 0!==c?c:"",t.commissions){let{rules:e}=t.commissions;e=e.map(t=>{const e=W.a.cloneDeep(t),s=e.condition_component_screen,a=e.calculation_basis_component_screen;return"string"===typeof s&&(e.condition_component_screen=JSON.parse(s),e.calculation_basis_component_screen=JSON.parse(a)),e}),this.$set(this.form.commissions,"rules",e)}},getCreditorFromList(t,e="name"){const s=t=>String(t).toLowerCase(),{creditors:a}=this.list,o=a.find(a=>s(a[e])===s(t));return o||{}},addItem(){this.form.commissions.rules.push(W.a.cloneDeep(ps))},removeItem(t){const e=confirm("Você tem certeza que deseja remover este item?");e&&this.form.commissions.rules.splice(t,1)},handleCollapsed(t,e){const s=this.collapsed[e],{length:a}=Object.keys(s);if(t!==a)for(let o=0;o<t;o+=1)this.$set(s,o,!0)},async getUniqueProductRate(){const t=new qe["a"](this.token),{id:e}=this;this.loading=!0,this.setMessage("reset"),await t.getUniqueProductRate(this.$route.params.product_id,e).then(({data:t})=>{this.setData({...t.data,commissions:JSON.parse(t.data.comissions)})}).catch(t=>this.handlerError(t)).finally(()=>{this.loading=!1,this.form.product_id=this.$route.params.product_id,this.form.creditor=this.$route.params.creditor})},async submit(){const t=new qe["a"](this.token),{product_id:e,creditor_id:s}=this.form,a={creditor_id:s,comissions:this.form.commissions,...this.form,...this.hasID?{id:this.id}:""},o=this.hasID?"updateProductRate":"createProductRate";this.loading=!0,this.setMessage("reset"),await t[o](e,a).then(()=>{this.setMessage("Registro salvo com sucesso","is-success"),this.$router.push({name:"rates"})}).catch(t=>this.handlerError(t)).finally(()=>{this.loading=!1})}},metaInfo(){return j.meta(this.meta)}},vs=hs,fs=(s("b594"),Object(I["a"])(vs,cs,ds,!1,null,"e7b2bec2",null)),bs=fs.exports,_s=[{name:"rates",path:"/tabelas",component:ls,props:!0},{name:"rates-edit",path:"/tabelas/:id",component:bs,props:!0}],gs=function(){var t=this,e=t._self._c;return e("Layout",{attrs:{title:t.meta.title,"max-width":"100%","is-card":""}},[e("div",{staticClass:"columns"},[e("div",{staticClass:"column"},[e("h3",{staticClass:"is-size-4"},[t._v(" Gerenciando Acordos ")])]),e("div",{staticClass:"column is-narrow"},[e("router-link",{staticClass:"button is-link",attrs:{to:{name:"promoters",params:{filter:this.$route.params.filter}}}},[e("span",[t._v("Voltar")]),e("span",{staticClass:"icon"},[e("i",{staticClass:"fas fa-reply"})])])],1)]),e("the-error",{attrs:{message:t.message.text,type:t.message.type}}),e("base-select",{staticClass:"mb-0",attrs:{value:t.form.product_id,options:t.list.products},on:{input:t.handleProductSelect}},[e("span",[t._v("Produto")])]),t.list.creditors.length>1?[e("v-validate",{attrs:{rules:"required",name:"Credores"},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("base-select",{attrs:{"error-message":s[0],options:t.list.creditors},model:{value:t.form.creditor,callback:function(e){t.$set(t.form,"creditor",e)},expression:"form.creditor"}},[t._v(" Credores ")])]}}],null,!1,1715931741)})]:t._e(),t.filteredData.length?[e("base-input",{staticClass:"mb-0 mt-6",attrs:{type:"text",maxlength:"225",placeholder:"Nome ou Valor da taxa mensal"},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}},[t._v(" Filtrar ")])]:t._e(),e("table",{staticClass:"table is-narrow is-striped is-fullwidth",class:[t.filteredData.length?"mt-1":"mt-6"]},[e("thead",{staticClass:"sticky"},[e("tr",[e("th",[t._v("Ações")]),e("th",[t._v("Nome")]),e("th",[t._v("Valor taxa mensal")]),e("th",[t._v("Acordo de comissão")]),e("th",[t._v("Visibilidade exclusiva")]),e("th",[t._v("Tabela ativa")])])]),e("tbody",[t.filteredData.length?t._l(t.filteredData,(function(s,a){return e("tr",{key:a,class:{disabled:!s.active}},[e("td",{staticClass:"is-narrow"},[e("router-link",{staticClass:"button is-ghost",attrs:{to:{name:"accordance-edit",params:{id:s.id,filter:t.$route.params.filter,product_id:t.form.product_id,creditor:t.form.creditor},query:{product_id:t.form.product_id,promoter_id:t.promoter_id,ratePromoterCommissionId:s.rate_promoter_commission_id}}}},[e("i",{staticClass:"fas fa-edit"})])],1),e("td",[e("span",[t._v(t._s(s.name))])]),e("td",[e("span",[t._v(t._s(s.monthly_rate))])]),e("td",[t._v(" "+t._s(s.rate_promoter_commission_id?"Sim":"Não")+" ")]),e("td",[e("div",{staticClass:"field has-addons"},t._l(t.buttonsType,(function(a,o){return e("p",{key:o,staticClass:"control m-0"},[e("button",{staticClass:"button",class:[null===a.value&&null===s.rate_promote_active&&"is-info",1===a.value&&1===s.rate_promote_active&&"is-success",0===a.value&&0===s.rate_promote_active&&"is-warning"],attrs:{disabled:s.rate_promote_active===a.value},on:{click:function(e){e.preventDefault(),t.confirmAction({message:a.message[a.value],action:t.handlerActivationRate.bind(this,{rate_id:s.id,rate_promote_id:s.rate_promote_id,currentState:s.rate_promote_active,value:a.value})})}}},[e("span",[t._v(t._s(a.label[s.rate_promote_active===a.value]))])])])})),0)]),e("td",[t._v(" "+t._s(s.active?"Sim":"Não")+" ")])])})):[e("tr",[e("td",{staticClass:"pt-3",attrs:{colspan:"6"}},[t._v(" Selecione o tipo de produto e banco ")])])]],2)]),e("div",{staticClass:"modal is-info",class:{"is-active":t.modal.status}},[e("div",{staticClass:"modal-background",on:{click:function(e){return e.preventDefault(),t.closeModal.apply(null,arguments)}}}),e("div",{staticClass:"modal-card"},[e("header",{staticClass:"modal-card-head"},[e("p",{staticClass:"modal-card-title"},[t._v(" Confirmar ação ")]),e("button",{staticClass:"delete",attrs:{"aria-label":"close"},on:{click:function(e){return e.preventDefault(),t.closeModal.apply(null,arguments)}}})]),e("section",{staticClass:"modal-card-body",domProps:{innerHTML:t._s(t.sanitizedContent(t.modal.message))}}),e("footer",{staticClass:"modal-card-foot"},[e("button",{staticClass:"button",on:{click:function(e){return e.preventDefault(),t.closeModal.apply(null,arguments)}}},[t._v(" Cancelar ")]),e("button",{staticClass:"button is-info ml-auto",on:{click:function(e){return e.preventDefault(),t.modal.action()}}},[t._v(" Sim ")])])])])],2)},Cs=[],ys={name:"AccordanceListView",components:{Layout:Xt,BaseInput:()=>Promise.resolve().then(s.bind(null,"b3b3")),BaseSelect:()=>Promise.resolve().then(s.bind(null,"2a26")),TheError:()=>Promise.resolve().then(s.bind(null,"c6f5"))},mixins:[w["a"],Z["a"]],props:{promoter_id:{type:[String,Number],default:"",required:!1}},data:()=>({meta:{title:"Listagem Acordos"},form:{product_id:null,creditor:"",creditor_id:""},message:{text:"",type:""},list:{products:[],creditors:[],rates_promoters:[]},filter:"",modal:{status:!1,message:null,action:null}}),computed:{...Object(C["d"])({token:t=>t.app.logonToken}),filteredData(){return this.list.rates_promoters.filter(t=>{const e=this.filter.toLowerCase(),s=t.name.toLowerCase(),a=t.monthly_rate.toLowerCase();return s.includes(e)||a.includes(e)})},buttonsType(){const t={0:'Com esta ação, você estará <b class="has-text-danger">ocultando exclusiva</b> este acordo para este promotor.<br/><br/>Deseja prosseguir?',1:'Com esta ação, você estará <b class="has-text-success">exibindo exclusiva</b> este acordo para este promotor.<br/><br/>Deseja prosseguir?',null:"Você está habilitando a visibilidade padrão deste acordo.<br/><br/>Deseja prosseguir?"};return[{label:{true:"Exibindo",false:"Exibir"},message:t,value:1},{label:{true:"Padrão",false:"Padrão"},message:t,value:null},{label:{true:"Ocultado",false:"Ocultar"},message:t,value:0}]}},watch:{"form.creditor":{async handler(t,e){if(e===t)return;const s=this.getCreditorFromList(t);this.form.creditor_id=(null===s||void 0===s?void 0:s.creditor_id)||null,this.setMessage("reset"),this.list.rates_promoters=[],await this.fetchProductsRatesPromoters()}}},async mounted(){await this.fetchProducts(),this.$route.params.product_id&&(this.form.product_id=this.$route.params.product_id,await this.handleProductSelect(this.form.product_id,!1),this.form.creditor=this.$route.params.creditor)},methods:{handlerError(t){var e,s,a,o,i,n,r,l,c,d;let u=(null===t||void 0===t||null===(e=t.response)||void 0===e||null===(s=e.data)||void 0===s||null===(a=s.error)||void 0===a?void 0:a.message)||(null===t||void 0===t||null===(o=t.error)||void 0===o||null===(i=o.response)||void 0===i||null===(n=i.data)||void 0===n||null===(r=n.error)||void 0===r?void 0:r.message)||(null===t||void 0===t?void 0:t.message)||t;if(null!==t&&void 0!==t&&null!==(l=t.response)&&void 0!==l&&null!==(c=l.data)&&void 0!==c&&null!==(d=c.error)&&void 0!==d&&d.errors){var m,p,h;const e=Object.values(null===t||void 0===t||null===(m=t.response)||void 0===m||null===(p=m.data)||void 0===p||null===(h=p.error)||void 0===h?void 0:h.errors);u=u.concat("<br> - "+e.map(t=>t).join("<br> - "))}this.setMessage(u),window.document.querySelector("main").scrollTo({top:0,left:0,behavior:"smooth"})},setMessage(t,e="danger"){"reset"===t?(this.message.text="",this.message.type=""):(this.message.text=t,this.message.type=e)},confirmAction({message:t,action:e}){this.modal.status=!0,this.modal.message=t,this.modal.action=e},closeModal(){this.modal.status=!1,this.modal.message=null,this.modal.action=null},async setData(t){var e,s,a,o,i;const n=this.getCreditorFromList(null!==(e=t.creditor_id)&&void 0!==e?e:"","id");this.form.product_id=null!==(s=t.product_id)&&void 0!==s?s:3,this.form.creditor_id=null!==(a=t.creditor_id)&&void 0!==a?a:"",this.form.creditor=null!==(o=null===n||void 0===n||null===(i=n.name)||void 0===i?void 0:i.toUpperCase())&&void 0!==o?o:""},getCreditorFromList(t,e="name"){const s=t=>String(t).toLowerCase(),{creditors:a}=this.list,o=a.find(a=>s(a[e])===s(t));return o||{}},async handleProductSelect(t,e=!0){this.setData({product_id:t,...e?{creditor:""}:"",...e?{creditor_id:""}:""}),this.list.creditors=[],this.list.rates_promoters=[],await this.fetchCreditors()},async fetchProducts(){const t=new qe["a"](this.token);this.loading=!0,await t.getProducts().then(({data:t})=>{for(const{id:e,name:s}of t.data)this.list.products.push({name:s,value:e})}).catch(t=>this.handlerError(t)).finally(()=>{this.loading=!1})},async fetchCreditors(){const t=new Ne["a"](this.token),{product_id:e}=this.form;this.loading=!0,this.setMessage("reset"),await t.getCreditors({product_id:e}).then(({data:t})=>{this.list.creditors=[];for(const e of t.data)this.list.creditors.push({value:e.name.toUpperCase(),...e})}).catch(t=>this.handlerError(t)).finally(()=>{const[t]=this.list.creditors;1===this.list.creditors.length&&(this.form.creditor=t.value),this.loading=!1})},async fetchProductsRatesPromoters(){const t=new qe["a"](this.token),{product_id:e}=this.form,{promoter_id:s}=this;this.loading=!0,this.setMessage("reset"),await t.getProductRatesPromoter({product_id:e,promoter_id:s}).then(({data:t})=>{this.list.rates_promoters=[];for(const e of t.data)this.list.rates_promoters.push({...e})}).catch(t=>this.handlerError(t)).finally(()=>{this.loading=!1})},async handlerActivationRate(t){const e=new qe["a"](this.token),{product_id:s}=this.form,{promoter_id:a}=this;let o="deleteActivationRate",i={product_id:s,rate_promote_id:t.rate_promote_id};[t.currentState,t.value].every(t=>null!==t)?(o="updateActivationRate",i={product_id:s,rate_promote_id:t.rate_promote_id,data:{rate_id:t.rate_id,promoter_id:a,active:t.value}}):null===t.currentState&&(o="createActivationRate",i={product_id:s,data:{rate_id:t.rate_id,promoter_id:a,active:t.value}}),this.loading=!0,this.closeModal(),this.setMessage("reset"),await e[o](i).then(async()=>{await this.fetchProductsRatesPromoters(),this.setMessage("Acordo atualizado com sucesso.","success")}).catch(t=>this.handlerError(t)).finally(()=>{this.loading=!1})}},metaInfo(){return j.meta(this.meta)}},ws=ys,ks=(s("f69c"),Object(I["a"])(ws,gs,Cs,!1,null,"5706d561",null)),Ss=ks.exports,xs=function(){var t=this,e=t._self._c;return e("Layout",{attrs:{title:t.meta.title,"max-width":"100%","is-card":""}},[e("div",{staticClass:"columns"},[e("div",{staticClass:"column"},[e("h3",{staticClass:"is-size-4"},[t._v(" "+t._s(t.title)+" Acordo ")])]),e("div",{staticClass:"column is-narrow"},[e("button",{staticClass:"button is-danger mr-3",on:{click:function(e){return e.preventDefault(),t.confirmAction({message:"Ao confirmar esta ação, você estará\n          removendo o acordo de comissão configurado,\n          retornando os valores originais.<br/><br/>Deseja prosseguir?",action:t.deleteTablePromoter})}}},[e("span",[t._v("Excluir acordo")])]),e("router-link",{staticClass:"button is-link",attrs:{to:{name:"accordance",params:{promoter_id:t.$route.query.promoter_id,filter:t.$route.params.filter,product_id:t.form.product_id,creditor:t.form.creditor}}}},[e("span",[t._v("Voltar")]),e("span",{staticClass:"icon"},[e("i",{staticClass:"fas fa-reply"})])])],1),t.message.text?e("div",{staticClass:"columns"},[e("div",{staticClass:"column"},[e("div",{staticClass:"message",class:t.message.type},[e("div",{staticClass:"message-body",domProps:{innerHTML:t._s(t.sanitizedContent(t.message.text))}})])])]):t._e()]),e("v-validate-observer",{scopedSlots:t._u([{key:"default",fn:function({handleSubmit:s}){var a;return[e("form",{staticClass:"documents",on:{submit:function(e){return e.preventDefault(),s(t.submit)}}},[e("fieldset",[e("legend",[t._v("Dados básicos")]),e("v-validate",{attrs:{rules:"required",name:"Nome"},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("base-input",{attrs:{"error-message":s[0],disabled:"",type:"text",maxlength:"225"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}},[t._v(" Nome ")])]}}],null,!0)}),e("v-validate",{attrs:{rules:"required",name:"Taxa"},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("base-input",{attrs:{"error-message":s[0],disabled:"",maxlength:"225"},model:{value:t.form.monthly_rate,callback:function(e){t.$set(t.form,"monthly_rate",e)},expression:"form.monthly_rate"}},[t._v(" Taxa "),e("small",[t._v("(%)")])])]}}],null,!0)}),e("v-validate",{attrs:{name:"Código externo"},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("base-input",{attrs:{"error-message":s[0],disabled:"",type:"text",maxlength:"225"},model:{value:t.form.external_id,callback:function(e){t.$set(t.form,"external_id",e)},expression:"form.external_id"}},[t._v(" Código externo ")])]}}],null,!0)})],1),e("fieldset",[e("legend",[t._v("Regra de comissão")]),e("div",{staticClass:"info is-flex"},[e("button",{staticClass:"button is-rounded is-link is-small",on:{click:function(e){return e.preventDefault(),t.addItem.apply(null,arguments)}}},[e("span",{staticClass:"icon"},[e("i",{staticClass:"fas fa-plus"})])])]),e("transition",{attrs:{name:"component-fade"}},[(null===(a=t.form.commissions.rules)||void 0===a?void 0:a.length)>0?[e("transition-group",{staticClass:"mt-3",attrs:{tag:"dl",name:"component-fade"}},[t._l(t.form.commissions.rules,(function(s,a){return[e("dt",{key:"title-"+a},[e("span",[t._v(" "+t._s(s.condition||"---")+" ")]),e("button",{staticClass:"button is-ghost ml-auto mr-3",on:{click:function(e){return e.preventDefault(),t.removeItem(a)}}},[e("span",[t._v("remover")]),e("span",{staticClass:"icon is-small"},[e("i",{staticClass:"fas fa-trash"})])]),e("button",{staticClass:"button is-ghost",on:{click:function(e){return e.preventDefault(),(()=>{t.collapsed.commissions[a]=!t.collapsed.commissions[a]}).apply(null,arguments)}}},[e("span",[t._v(" "+t._s(t.collapsed.commissions[a]?"expandir":"recolher")+" ")]),e("i",{staticClass:"fas fa-chevron-left",class:{"is--collapsed":!t.collapsed.commissions[a]}})])]),e("dd",{key:"content-"+a,class:{collapsed:t.collapsed.commissions[a]}},[e("commission-rules",{attrs:{"input-value":s.condition_component_screen,"possible-groups":t.conditionAccordanceData},on:{input:({formula:t,inputValue:e})=>{s.condition=t,s.condition_component_screen=e}}},[t._v(" Condição ")]),e("hr"),e("commission-rules",{attrs:{"input-value":s.calculation_basis_component_screen,"possible-groups":t.calculationBasisAccordanceData},on:{input:({formula:t,inputValue:e})=>{s.calculation_basis=t,s.calculation_basis_component_screen=e}}},[t._v(" Base de Cálculo ")])],1)]}))],2)]:[e("span",{key:"not-commission"},[e("i",[t._v("Adicionar comissão")])])]],2)],1),e("hr"),e("div",{staticClass:"columns"},[e("div",{staticClass:"column"},[e("router-link",{staticClass:"button is-danger",attrs:{to:{name:"accordance",params:{promoter_id:t.$route.query.promoter_id,filter:t.$route.params.filter,product_id:t.form.product_id,creditor:t.form.creditor}}}},[e("span",[t._v("Cancelar")]),e("span",{staticClass:"icon"},[e("i",{staticClass:"fas fa-undo-alt"})])])],1),e("div",{staticClass:"column is-narrow"},[e("button",{staticClass:"button is-link",attrs:{type:"submit"}},[e("span",[t._v("Salvar")]),e("span",{staticClass:"icon"},[e("i",{staticClass:"fas fa-save"})])])])])])]}}])}),e("div",{staticClass:"modal is-info",class:{"is-active":t.modal.status}},[e("div",{staticClass:"modal-background",on:{click:function(e){return e.preventDefault(),t.closeModal.apply(null,arguments)}}}),e("div",{staticClass:"modal-card"},[e("header",{staticClass:"modal-card-head"},[e("p",{staticClass:"modal-card-title"},[t._v(" Confirmar ação ")]),e("button",{staticClass:"delete",attrs:{"aria-label":"close"},on:{click:function(e){return e.preventDefault(),t.closeModal.apply(null,arguments)}}})]),e("section",{staticClass:"modal-card-body",domProps:{innerHTML:t._s(t.sanitizedContent(t.modal.message))}}),e("footer",{staticClass:"modal-card-foot"},[e("button",{staticClass:"button",on:{click:function(e){return e.preventDefault(),t.closeModal.apply(null,arguments)}}},[t._v(" Cancelar ")]),e("button",{staticClass:"button is-info ml-auto",on:{click:function(e){return e.preventDefault(),t.modal.action()}}},[t._v(" Sim ")])])])])],1)},As=[];const Ps={calculation_basis:"",condition:"",calculation_basis_component_screen:[],condition_component_screen:[]};var Ds={name:"AccordanceEditView",components:{Layout:Xt,BaseInput:()=>Promise.resolve().then(s.bind(null,"b3b3")),CommissionRules:()=>s.e("chunk-0ac2d55a").then(s.bind(null,"8c97"))},mixins:[w["a"],Z["a"]],data:()=>({conditionAccordanceData:[...us],calculationBasisAccordanceData:[...ms],query:{promoter_id:null,ratePromoterCommissionId:null},collapsed:{commissions:{}},meta:{title:"Edição Acordos"},form:{product_id:null,tenant_id:1,creditor:"",creditor_id:"",name:"",monthly_rate:"",external_id:"",commissions:{rules:[]}},list:{products:[],creditors:[],rates:[],rates_promoters:[]},message:{text:"",type:""},modal:{status:!1,message:null,action:null}}),computed:{...Object(C["d"])({token:t=>t.app.logonToken}),id(){return this.$route.params.id},hasID(){return!!(0|this.id)},title(){return this.hasID?"Editar":"Novo"},isPromoterRateEdit(){return!!this.query.ratePromoterCommissionId}},watch:{"form.product_id":{handler(t){this.fetchProductsRatesPromoters(t)}},"form.commissions.rules.length":{handler(t){this.handleCollapsed(t,"commissions")}}},async mounted(){this.getQueryParams(),await this.fetchProducts(),this.query.ratePromoterCommissionId?await this.fetchSingleRatePromoter():await this.fetchUniqueProductRate(),this.form.creditor=this.$route.params.creditor},methods:{setMessage(t,e="danger"){"reset"===t?(this.message.text="",this.message.type=""):(this.message.text=t,this.message.type=e)},handlerError(t){var e,s,a,o,i,n,r,l,c,d;let u=(null===t||void 0===t||null===(e=t.response)||void 0===e||null===(s=e.data)||void 0===s||null===(a=s.error)||void 0===a?void 0:a.message)||(null===t||void 0===t||null===(o=t.error)||void 0===o||null===(i=o.response)||void 0===i||null===(n=i.data)||void 0===n||null===(r=n.error)||void 0===r?void 0:r.message)||(null===t||void 0===t?void 0:t.message)||t;if(null!==t&&void 0!==t&&null!==(l=t.response)&&void 0!==l&&null!==(c=l.data)&&void 0!==c&&null!==(d=c.error)&&void 0!==d&&d.errors){var m,p,h;const e=Object.values(null===t||void 0===t||null===(m=t.response)||void 0===m||null===(p=m.data)||void 0===p||null===(h=p.error)||void 0===h?void 0:h.errors);u=u.concat("<br> - "+e.map(t=>t).join("<br> - "))}this.setMessage(u),window.document.querySelector("main").scrollTo({top:0,left:0,behavior:"smooth"})},handleCollapsed(t,e){const s=this.collapsed[e],{length:a}=Object.keys(s);if(t!==a)for(let o=0;o<t;o+=1)this.$set(s,o,!0)},addItem(){this.form.commissions.rules.push(W.a.cloneDeep(Ps))},removeItem(t){const e=confirm("Você tem certeza que deseja remover este item?");e&&this.form.commissions.rules.splice(t,1)},confirmAction({message:t,action:e}){this.modal.status=!0,this.modal.message=t,this.modal.action=e},closeModal(){this.modal.status=!1,this.modal.message=null,this.modal.action=null},getQueryParams(){this.query.promoter_id=this.$route.query.promoter_id,this.query.ratePromoterCommissionId=this.$route.query.ratePromoterCommissionId,this.form.product_id=this.$route.query.product_id},setRatePromoterData(t){if(this.form.name=t.name,this.form.monthly_rate=t.monthly_rate,t.commissions){let{rules:e}=t.commissions;e=e.map(t=>{const e=W.a.cloneDeep(t);return"string"===typeof e.condition_component_screen&&(e.condition_component_screen=JSON.parse(e.condition_component_screen),e.calculation_basis_component_screen=JSON.parse(e.calculation_basis_component_screen)),e}),this.$set(this.form.commissions,"rules",e)}},handleProductSelect(t){this.clearGeneralForm(),this.form.product_id=t,this.fetchCreditors()},clearGeneralForm(){this.form.creditor="",this.form.creditor_id=null,this.form.product_id=null,this.list.creditors=[],this.list.rates_promoters=[],this.list.rates=[]},async submit(){const t=new qe["a"](this.token),e={promoter_id:this.query.promoter_id,rate_id:this.id,commissions:this.form.commissions};let s="createProductRatePromoter";const a={product_id:this.form.product_id,data:e};this.isPromoterRateEdit&&(s="updateProductRatePromoter",a.rate_commission_id=this.query.ratePromoterCommissionId),this.loading=!0,this.setMessage("reset"),await t[s](a).then(async()=>{await this.fetchProductsRatesPromoters(),this.setMessage("Registro salvo com sucesso","success"),this.$router.push({name:"accordance",params:{promoter_id:this.query.promoter_id,ratePromoterCommissionId:!1}})}).catch(t=>this.handlerError(t)).finally(()=>{this.loading=!1})},async deleteTablePromoter(){const t=new qe["a"](this.token),e={product_id:this.form.product_id,rate_commission_id:this.query.ratePromoterCommissionId};this.loading=!0,this.closeModal(),this.setMessage("reset"),await t.deleteProductRatePromoter(e).then(async()=>{await this.fetchProductsRatesPromoters(),this.setMessage("Acordo removido com sucesso. Acordos de comissão originais ficaram vigentes agora.","success"),this.$router.push({name:"accordance",params:{promoter_id:this.query.promoter_id,ratePromoterCommissionId:!1}})}).catch(t=>this.handlerError(t)).finally(()=>{this.loading=!1})},async fetchSingleRatePromoter(){const t=new qe["a"](this.token),e={rate_id:this.id,promoter_id:this.query.promoter_id};this.loading=!0,this.setMessage("reset"),await t.getProductRatePromoter({product_id:this.form.product_id,params:e}).then(t=>{const[e]=t.data.data;this.setRatePromoterData(e)}).catch(t=>this.handlerError(t)).finally(()=>{this.loading=!1})},async fetchProductsRatesPromoters(){const t=new qe["a"](this.token),e={product_id:this.form.product_id,promoter_id:this.query.promoter_id};this.loading=!0,this.setMessage("reset"),await t.getProductRatesPromoter(e).then(({data:t})=>{this.list.rates_promoters=[];const{data:e}=t;this.list.rates_promoters=e.map(t=>({...t}))}).catch(t=>this.handlerError(t)).finally(()=>{this.loading=!1})},async fetchUniqueProductRate(){const t=new qe["a"](this.token),{id:e}=this,{product_id:s}=this.form;this.loading=!0,this.setMessage("reset"),await t.getUniqueProductRate(s,e).then(({data:t})=>{const{data:e}=t;e.commissions=JSON.parse(e.comissions),this.setRatePromoterData(e)}).catch(t=>this.handlerError(t)).finally(()=>{this.loading=!1})},async fetchProducts(){const t=new qe["a"](this.token);this.loading=!0,await t.getProducts().then(({data:t})=>{const{data:e}=t;this.list.products=e.map(({id:t,name:e})=>({value:t,name:e}))}).catch(t=>this.handlerError(t)).finally(()=>{this.loading=!1})},async fetchCreditors(){const t=new Ne["a"](this.token),e={product_id:this.form.product_id};this.loading=!0,this.setMessage("reset"),await t.getCreditors(e).then(({data:t})=>{const{data:e}=t;this.list.creditors=e.map(t=>({value:t.name.toUpperCase(),...t}))}).catch(t=>this.handlerError(t)).finally(()=>{const[t]=this.list.creditors;1===this.list.creditors.length&&(this.form.creditor=t.value),this.loading=!1})}}},Ts=Ds,Is=(s("b76e"),Object(I["a"])(Ts,xs,As,!1,null,"22080233",null)),Es=Is.exports;const Os=(t,e,s)=>{const a=N["a"].state.user.userInfo.roles_ids||[],o=[1,6,11,15],i=!!a.find(t=>o.includes(t));i?s():s({name:e.name})};var Ms=[{name:"accordance",path:"/acordos",component:Ss,beforeEnter:Os,props:!0},{name:"accordance-edit",path:"/acordos/:id",component:Es,beforeEnter:Os,props:!0}],Rs=function(){var t=this,e=t._self._c;return e("Layout",{attrs:{title:t.meta.title,"max-width":"100%","is-card":""}},[e("div",{staticClass:"columns"},[e("div",{staticClass:"column"},[e("h3",{staticClass:"is-size-4"},[t._v(" Listagem ")])]),e("div",{staticClass:"column is-narrow"},[t.isValidUser?e("router-link",{key:"add",staticClass:"button is-link",attrs:{to:{name:"promoters-edit",params:{id:"null"}}}},[e("span",[t._v("Adicionar")]),e("span",{staticClass:"icon"},[e("i",{staticClass:"fas fa-user-plus"})])]):t._e()],1)]),t.message.text?e("div",{staticClass:"columns"},[e("div",{staticClass:"column"},[e("div",{staticClass:"message",class:t.message.type},[e("div",{staticClass:"message-body",domProps:{innerHTML:t._s(t.sanitizedContent(t.message.text))}})])])]):t._e(),e("div",{staticClass:"columns",staticStyle:{"align-items":"flex-end"}},[e("div",{staticClass:"column"},[e("base-input",{staticClass:"mb-0",attrs:{type:"text",maxlength:"225",placeholder:"Promotora ou Documento"},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}},[t._v(" Filtrar ")])],1),e("div",{staticClass:"column is-narrow"},[e("button",{staticClass:"button is-link",on:{click:function(e){return t.paginate({ignoreStorageFilters:!0})}}},[e("span",[t._v(" Buscar ")]),e("span",{staticClass:"icon is-small"},[e("i",{staticClass:"fas fa-search"})])])])]),e("table",{staticClass:"table is-narrow is-fullwidth"},[e("thead",{staticClass:"sticky"},[e("tr",[e("th",[t._v("Ações")]),e("th",[t._v("Promotora")]),e("th",[t._v("Documento")])])]),e("tbody",t._l(t.list.promoters,(function(s,a){return e("tr",{key:a},[e("td",{staticClass:"is-narrow"},[t.canAccessFinancialData?e("router-link",{staticClass:"button is-ghost",attrs:{title:"Visualizar",to:{name:"promoters-edit",params:{id:s.id}}}},[e("i",{staticClass:"fas fa-eye"})]):t._e(),t.canAccessFinancialData?e("router-link",{staticClass:"button is-ghost",attrs:{title:"Financeiro",to:{name:"promoters-commission-details",params:{id:s.id}}}},[e("i",{staticClass:"fas fa-dollar-sign"})]):t._e(),e("router-link",{staticClass:"button is-ghost",attrs:{title:"Usuários",to:{name:"typist",params:{promoter_id:s.id,promoter_name:s.name}}},on:{click:function(e){return t.setFilterData({filter:"responsible",data:{promoter_id:s.id}})}}},[e("i",{staticClass:"fas fa-users"})]),t.canAccessDeals?e("router-link",{staticClass:"button is-ghost",attrs:{title:"Acordos",to:{name:"accordance",params:{promoter_id:s.id,filter:t.filter}}}},[e("i",{staticClass:"fas fa-scroll"})]):t._e()],1),e("td",[e("span",[t._v(t._s(s.name))])]),e("td",[e("span",[t._v(t._s(s.document))])])])})),0)]),e("Pagination",{ref:"pagination",attrs:{"storage-key":t.pagination.filterKey,data:t.pagination.data},on:{paginate:t.paginate}})],1)},Bs=[],Ls=s("1799"),Us={name:"PromotersListView",components:{Layout:Xt,Pagination:Ls["default"],BaseInput:()=>Promise.resolve().then(s.bind(null,"b3b3"))},mixins:[w["a"],Y,Z["a"],X["a"]],data:()=>({meta:{title:"Promotores"},message:{text:"",type:""},list:{promoters:[]},filter:"",pagination:{data:{},filterKey:"promoters"}}),computed:{...Object(C["d"])({token:t=>t.app.logonToken,user:t=>t.user.userInfo}),filteredData(){return this.list.promoters.filter(t=>{const e=this.filter.toLowerCase(),s=t.name.toLowerCase(),a=t.document.toLowerCase(),o=t.contact_email.toLowerCase();return s.includes(e)||a.includes(e)||o.includes(e)})},canAccessDeals(){return[this.isSuper,this.isAntifraud].some(t=>t)},isValidUser(){return[this.isAdmin,this.isSuper,this.isCommercial,this.isTenant].some(t=>t)},canAccessFinancialData(){return[this.isAdmin,this.isSuper,this.isMasterOrFinancial,this.isCommercial,this.isSuperIntendent].some(t=>t)}},watch:{filter(t,e){""===t&&""!==e&&this.paginate({ignoreStorageFilters:!0})}},async mounted(){this.paginate({ignoreStorageFilters:!0})},beforeDestroy(){sessionStorage.removeItem(this.pagination.filterKey)},methods:{setFilterData({filter:t,data:e}){sessionStorage.setItem(t,JSON.stringify(e))},setMessage(t,e="is-danger"){"reset"===t?(this.message.text="",this.message.type=""):(this.message.text=t,this.message.type=e)},handlerError(t){var e,s,a,o,i,n,r,l,c,d;let u=(null===t||void 0===t||null===(e=t.response)||void 0===e||null===(s=e.data)||void 0===s||null===(a=s.error)||void 0===a?void 0:a.message)||(null===t||void 0===t||null===(o=t.error)||void 0===o||null===(i=o.response)||void 0===i||null===(n=i.data)||void 0===n||null===(r=n.error)||void 0===r?void 0:r.message)||(null===t||void 0===t?void 0:t.message)||t;if(null!==t&&void 0!==t&&null!==(l=t.response)&&void 0!==l&&null!==(c=l.data)&&void 0!==c&&null!==(d=c.error)&&void 0!==d&&d.errors){var m,p,h;const e=Object.values(null===t||void 0===t||null===(m=t.response)||void 0===m||null===(p=m.data)||void 0===p||null===(h=p.error)||void 0===h?void 0:h.errors);u=u.concat("<br> - "+e.map(t=>t).join("<br> - "))}this.setMessage(u)},getFiltersFromStorage(){const t=sessionStorage.getItem(this.pagination.filterKey);return t?JSON.parse(t):null},async paginate({ignoreStorageFilters:t=!1}={}){const e=new k["a"](this.token),s=this.filter,a=t?{}:this.getFiltersFromStorage();this.loading=!0,this.setMessage("reset"),await e.searchPromoters({...a,search:s}).then(({data:t})=>{this.pagination.data=t.data,this.list.promoters=[];for(const e of t.data.data)this.list.promoters.push(e)}).catch(t=>this.handlerError(t)).finally(()=>{this.loading=!1})}},metaInfo(){return j.meta(this.meta)}},Ns=Us,qs=(s("b6b8"),Object(I["a"])(Ns,Rs,Bs,!1,null,"2baeb346",null)),Fs=qs.exports,js=function(){var t=this,e=t._self._c;return e("Layout",{attrs:{title:t.title,"max-width":"100%","is-card":""}},[e("div",{staticClass:"columns"},[e("div",{staticClass:"column"},[e("h3",{staticClass:"is-size-4"},[t._v(" "+t._s(t.pageTitle)+" ")])]),e("div",{staticClass:"column is-narrow"},[e("div",{staticClass:"is-flex is-align-items-center"},[e("span",{staticClass:"mr-2"},[t._v("Outras ações")]),e("div",{staticClass:"buttons horizontal"},[t.hasID?[t.canAccessFinancialData?e("router-link",{staticClass:"button",attrs:{to:{name:"promoters-commission-details",params:{id:t.promoter_id}}}},[e("span",[t._v("Financeiro")])]):t._e(),t.canAccessFinancialData?e("router-link",{staticClass:"button",attrs:{title:"Metas",to:{name:"promoters-goals",params:{promoter_id:t.promoter_id,promoter_name:t.form.name}}}},[e("span",[t._v("Metas")])]):t._e(),t.isAdminGroup?[e("router-link",{staticClass:"button",attrs:{title:"Indicadas",to:{name:"promoters-bonds",params:{promoterId:t.promoter_id,promoterName:t.form.name}}}},[e("span",[t._v("Indicadas")])])]:t._e()]:t._e(),e("router-link",{staticClass:"button is-link",attrs:{to:{name:"promoters"}}},[e("span",[t._v("Voltar")]),e("span",{staticClass:"icon"},[e("i",{staticClass:"fas fa-reply"})])])],2)])])]),e("the-error",{attrs:{message:t.message.text,type:t.message.type}}),e("v-validate-observer",{scopedSlots:t._u([{key:"default",fn:function({handleSubmit:s}){var a,o,i;return[e("form",{staticClass:"documents",on:{click:function(t){t.stopPropagation()},submit:function(e){return e.preventDefault(),s(t.submit)}}},[t.isAdminGroup?[e("fieldset",[e("legend",[t._v("Indicadora")]),e("div",{staticClass:"columns"},[e("div",{staticClass:"column"},[e("base-input",{staticClass:"mb-0",attrs:{placeholder:"Não há uma indicadora vinculada à esta promotora",disabled:""},model:{value:t.boundPromoterName,callback:function(e){t.boundPromoterName=e},expression:"boundPromoterName"}},[t._v(" Indicadora Vinculada ")])],1),e("div",{staticClass:"column is-narrow is-flex"},[e("button",{staticClass:"button mt-auto",class:t.bondButtonClass,on:{click:function(e){e.preventDefault(),t.modal.bond=!0}}},[t._v(" "+t._s(t.bondButtonLabel)+" ")])])])])]:t._e(),e("fieldset",[e("legend",[t._v("Dados básicos")]),e("v-validate",{attrs:{rules:"required|min:3|max:255",name:"Razão Social"},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("base-input",{attrs:{"error-message":s[0],disabled:!t.canEdit,type:"text",maxlength:"225"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}},[t._v(" Nome ou Razão Social ")])]}}],null,!0)}),e("v-validate",{attrs:{rules:"required|length:14|CPF",name:"CPF"},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("base-input",{attrs:{"error-message":s[0],disabled:!t.canEdit,type:"tel",maxlength:"15",mask:"cpf"},model:{value:t.form.owner_document,callback:function(e){t.$set(t.form,"owner_document",e)},expression:"form.owner_document"}},[t._v(" CPF ")])]}}],null,!0)})],1),e("fieldset",[e("legend",[t._v("Dados para contato")]),e("v-validate",{attrs:{rules:"required|alpha",name:"Nome"},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("base-input",{attrs:{"error-message":s[0],disabled:!t.canEdit,type:"text",maxlength:"225"},model:{value:t.form.contact_name,callback:function(e){t.$set(t.form,"contact_name",e)},expression:"form.contact_name"}},[t._v(" Nome completo "),e("small",[t._v("(responsável da empresa)")])])]}}],null,!0)}),e("v-validate",{attrs:{rules:"required|email",name:"E-mail"},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("base-input",{attrs:{"error-message":s[0],disabled:!t.canEdit,type:"email",maxlength:"225"},model:{value:t.form.contact_email,callback:function(e){t.$set(t.form,"contact_email",e)},expression:"form.contact_email"}},[t._v(" E-mail "),e("small",[t._v("(contato)")])])]}}],null,!0)}),e("v-validate",{attrs:{rules:"required|min:14|max:15",name:"Celular"},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("base-input",{attrs:{"error-message":s[0],disabled:!t.canEdit,type:"tel",maxlength:"15",mask:"tel"},model:{value:t.form.contact_phone,callback:function(e){t.$set(t.form,"contact_phone",e)},expression:"form.contact_phone"}},[t._v(" Celular "),e("small",[t._v("(contato)")])])]}}],null,!0)})],1),t.hasToShowCommercialForm?[e("fieldset",[e("legend",[t._v("Comercial")]),e("div",{staticClass:"columns"},[e("div",{staticClass:"column"},[e("span",[t.canSetCommercialData?[e("base-select",{attrs:{disabled:!t.canEdit,options:t.list.commercialUsers,"has-disabled-option":!1},model:{value:t.form.commercial_id,callback:function(e){t.$set(t.form,"commercial_id",e)},expression:"form.commercial_id"}},[t._v(" Gerente Comercial ")])]:[e("label",{staticClass:"label"},[t._v("Gerente Comercial:")]),e("span",{class:{"tag is-success is-light is-medium":t.form.commercial_name}},[t._v(" "+t._s(null!==(a=t.form.commercial_name)&&void 0!==a?a:"-")+" ")])]],2)]),e("div",{staticClass:"column"},[e("span",[t.canSetCommercialData?[e("base-select",{attrs:{disabled:!t.canSetCommercialData||!t.canEdit,options:t.list.superintendentUsers,"has-disabled-option":!1},model:{value:t.form.superintendent_id,callback:function(e){t.$set(t.form,"superintendent_id",e)},expression:"form.superintendent_id"}},[t._v(" Superintendente Comercial ")])]:[e("label",{staticClass:"label"},[t._v("Superintendente Comercial:")]),e("span",{class:{"tag is-success is-light is-medium":t.form.superintendent_name}},[t._v(" "+t._s(null!==(o=t.form.superintendent_name)&&void 0!==o?o:"-")+" ")])]],2)]),e("div",{staticClass:"column"},[e("span",[t.canSetIndicatorData?[e("base-select",{attrs:{disabled:!t.canSetIndicatorData||!t.canEdit,options:t.list.indicatorUsers,"has-disabled-option":!1},model:{value:t.form.indicator_id,callback:function(e){t.$set(t.form,"indicator_id",e)},expression:"form.indicator_id"}},[t._v(" Indicado por ")])]:[e("label",{staticClass:"label"},[t._v("Indicado por:")]),e("span",{class:{"tag is-success is-light is-medium":t.form.indicator_name}},[t._v(" "+t._s(null!==(i=t.form.indicator_name)&&void 0!==i?i:"-")+" ")])]],2)])])])]:t._e(),e("fieldset",[e("legend",[t._v("Endereço")]),e("span",{staticClass:"address"},[e("div",{staticClass:"columns"},[e("base-input",{staticClass:"column",attrs:{disabled:!t.canEdit,type:"tel",maxlength:"9",mask:"cep"},model:{value:t.form.zipcode,callback:function(e){t.$set(t.form,"zipcode",e)},expression:"form.zipcode"}},[t._v(" CEP ")]),e("button",{staticClass:"button column is-2",attrs:{disabled:!t.canEdit},on:{click:function(e){return e.preventDefault(),t.searchCep.apply(null,arguments)}}},[e("span",[t._v("Buscar")]),e("span",{staticClass:"icon is-small",class:{loading:t.cepLoading}},[e("i",{staticClass:"fas",class:t.icon})])])],1)]),e("v-validate",{attrs:{name:"Logradouro"},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("base-input",{attrs:{"error-message":s[0],disabled:!t.canEdit,type:"text",maxlength:"225"},model:{value:t.form.street,callback:function(e){t.$set(t.form,"street",e)},expression:"form.street"}},[t._v(" Logradouro "),e("small",[t._v("(rua, avenida, etc.)")])])]}}],null,!0)}),e("v-validate",{attrs:{name:"Número"},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("base-input",{ref:"number",attrs:{"error-message":s[0],disabled:!t.canEdit,type:"text",maxlength:"225"},model:{value:t.form.number,callback:function(e){t.$set(t.form,"number",e)},expression:"form.number"}},[t._v(" Número ")])]}}],null,!0)}),e("span",[e("base-input",{attrs:{disabled:!t.canEdit,type:"text",maxlength:"225"},model:{value:t.form.unit,callback:function(e){t.$set(t.form,"unit",e)},expression:"form.unit"}},[t._v(" Complemento ")])],1),e("v-validate",{attrs:{name:"Bairro"},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("base-input",{attrs:{"error-message":s[0],disabled:!t.canEdit,type:"text",maxlength:"225"},model:{value:t.form.neighborhood,callback:function(e){t.$set(t.form,"neighborhood",e)},expression:"form.neighborhood"}},[t._v(" Bairro ")])]}}],null,!0)}),e("v-validate",{attrs:{name:"Estado"},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("base-select",{attrs:{"error-message":s[0],options:t.states,disabled:!t.canEdit},on:{focus:function(e){t.stateFocused=!0},blur:function(e){t.stateFocused=!1}},model:{value:t.form.state,callback:function(e){t.$set(t.form,"state",e)},expression:"form.state"}},[t._v(" Estado ")])]}}],null,!0)}),e("v-validate",{attrs:{name:"Cidade"},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("base-select",{attrs:{"error-message":s[0],options:t.cities,disabled:!t.canEdit},model:{value:t.form.city,callback:function(e){t.$set(t.form,"city",e)},expression:"form.city"}},[t._v(" Cidade ")])]}}],null,!0)})],1),t.canAccessFinancialData||null==JSON.parse(t.id)?e("fieldset",[e("legend",[t._v("Dados bancários")]),e("span",{staticClass:"address"},[e("div",{staticClass:"columns"},[e("base-input",{staticClass:"column",attrs:{disabled:!t.canEdit},model:{value:t.form.pix_key,callback:function(e){t.$set(t.form,"pix_key",e)},expression:"form.pix_key"}},[t._v(" Chave Pix ")]),e("button",{staticClass:"button column is-3",attrs:{disabled:!t.canEdit},on:{click:function(e){return e.preventDefault(),t.searchPix.apply(null,arguments)}}},[e("span",[t._v("Buscar")]),e("span",{staticClass:"icon is-small",class:{loading:t.cepLoading}},[e("i",{staticClass:"fas",class:t.icon})])])],1)]),e("v-validate",{staticClass:"adjust-zindex",attrs:{name:"Banco"},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("base-select",{attrs:{"error-message":s[0],options:t.banks,disabled:!t.canEdit,"can-filter":""},model:{value:t.form.bank_id,callback:function(e){t.$set(t.form,"bank_id",e)},expression:"form.bank_id"}},[t._v(" Banco ")])]}}],null,!0)}),e("v-validate",{attrs:{name:"Tipo de conta"},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("base-select",{attrs:{"error-message":s[0],options:t.types,disabled:!t.canEdit},model:{value:t.form.account_type,callback:function(e){t.$set(t.form,"account_type",e)},expression:"form.account_type"}},[t._v(" Tipo de conta ")])]}}],null,!0)}),e("v-validate",{attrs:{rules:"max:7",name:"Agência"},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("base-input",{attrs:{"error-message":s[0],disabled:!t.canEdit,type:"text",maxlength:"225"},model:{value:t.form.branch_number,callback:function(e){t.$set(t.form,"branch_number",e)},expression:"form.branch_number"}},[t._v(" Agência ")])]}}],null,!0)}),e("v-validate",{attrs:{name:"Número da conta"},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("base-input",{attrs:{"error-message":s[0],disabled:!t.canEdit,type:"text",maxlength:"225"},model:{value:t.form.account_number,callback:function(e){t.$set(t.form,"account_number",e)},expression:"form.account_number"}},[t._v(" Número da conta "),e("small",[t._v("(com dígito)")])])]}}],null,!0)}),e("v-validate",{attrs:{name:"Nome do proprietário"},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("base-input",{attrs:{"error-message":s[0],disabled:!t.canEdit,type:"text",maxlength:"225"},model:{value:t.form.owner_name,callback:function(e){t.$set(t.form,"owner_name",e)},expression:"form.owner_name"}},[t._v(" Nome titular ")])]}}],null,!0)}),e("v-validate",{attrs:{rules:"required|length:18",name:"CNPJ"},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("base-input",{attrs:{"error-message":s[0],disabled:!t.canEdit,type:"tel",maxlength:"18",mask:"cnpj"},model:{value:t.form.document,callback:function(e){t.$set(t.form,"document",e)},expression:"form.document"}},[e("span",[t._v("CNPJ")])])]}}],null,!0)}),e("span",[e("label",{staticClass:"label",attrs:{for:"textarea"}},[t._v("Observações")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.obs,expression:"form.obs"}],staticClass:"textarea",attrs:{id:"textarea",disabled:!t.canEdit,maxlength:"255"},domProps:{value:t.form.obs},on:{input:function(e){e.target.composing||t.$set(t.form,"obs",e.target.value)}}})])],1):t._e(),t.form.password?e("BaseTooltip",{class:"tooltip--success",scopedSlots:t._u([{key:"tooltip-title",fn:function(){return[t._v(" Promotora adicionada com sucesso! ")]},proxy:!0},{key:"tooltip-text",fn:function(){return[e("p",[t._v("Dados para acesso: ")]),e("p",[e("span",[t._v("E-mail: ")]),t._v(" "+t._s(t.form.contact_email))]),e("p",[e("span",[t._v("Senha: ")]),t._v(" "+t._s(t.form.password))])]},proxy:!0}],null,!0)}):t._e(),e("hr"),e("div",{staticClass:"columns"},[e("div",{staticClass:"column"},[e("router-link",{staticClass:"button is-danger",attrs:{to:{name:"promoters"}}},[e("span",[t._v("Cancelar")]),e("span",{staticClass:"icon"},[e("i",{staticClass:"fas fa-undo-alt"})])])],1),t.canEdit?e("div",{staticClass:"column is-narrow"},[e("button",{staticClass:"button is-link",attrs:{type:"submit"}},[e("span",[t._v("Salvar")]),e("span",{staticClass:"icon"},[e("i",{staticClass:"fas fa-save"})])])]):t._e()])],2)]}}])}),e("div",{staticClass:"modal is-info",class:{"is-active":t.modal.status}},[e("div",{staticClass:"modal-background",on:{click:t.closeModal}}),e("div",{staticClass:"modal-card"},[e("header",{staticClass:"modal-card-head"},[e("p",{staticClass:"modal-card-title"},[t._v(" Confirmar ação ")]),e("button",{staticClass:"delete",attrs:{"aria-label":"close"},on:{click:t.closeModal}})]),e("section",{staticClass:"modal-card-body",domProps:{innerHTML:t._s(t.sanitizedContent(t.modal.message))}}),e("footer",{staticClass:"modal-card-foot"},[e("button",{staticClass:"button",on:{click:t.closeModal}},[t._v(" Cancelar ")]),e("button",{staticClass:"button is-info ml-auto",on:{click:t.getCommissionsFromTheDay}},[t._v(" Sim ")])])])]),t.modal.bond?e("modal-bond-promoters",{attrs:{ignore:t.promoterToIgnore,bonds:t.bonds,editing:Boolean(t.bonds.length)},on:{close:t.handleBond}}):t._e()],1)},Vs=[],zs=s("cee4"),$s=s("0332");class Hs extends L["a"]{getCommission({params:t}){return this.api.get(this.baseUrl+"/payments/payment-commission-promoter",{params:t})}getCommissionByProposal({id:t,params:e}){return this.api.get(`${this.baseUrl}/payments/payment-commission-promoter/proposals/${t}`,{params:e})}getCommissionsFromTheDay({params:t}){return this.api.post(this.baseUrl+"/payments/pix",{params:t})}getCommissionReceipt({id:t}){return this.api.get(`${this.baseUrl}/payments/pix/receipt/${t}`)}getCommissionPaymentReport({params:t}){return this.api.get(this.baseUrl+"/payments/commission-summary",{params:t})}getCommissionPaymentMasterReport({params:t}){return this.api.get(this.baseUrl+"/payments/payment-commission-without-promoter",{params:t})}getDetailedCommissionPaymentMasterReport({params:t}){return this.api.get(this.baseUrl+"/payments/payment-commission-without-promoter-detail",{params:t})}}var Gs=function(){var t=this,e=t._self._c;return e("base-modal",{staticClass:"bond",attrs:{"show-buttons":!1,"colorless-head":""},on:{close:t.close},scopedSlots:t._u([{key:"title",fn:function(){return[e("div",{staticClass:"bond__title"},[t._v(" Gestão de indicadas ")])]},proxy:!0},{key:"body",fn:function(){return[e("the-error",{attrs:{message:t.message.error}}),!t.editing&&t.success?[e("div",{staticClass:"has-text-centered"},[e("img",{attrs:{src:t.imgCheck,alt:"check"}}),e("p",{staticClass:"bond__title mb-3"},[t._v(" Concluído ")]),e("p",{staticClass:"bond__text mb-5"},[t._v(" O vínculo de indicadora foi realizada com sucesso. ")]),e("div",{staticClass:"is-flex is-justify-content-center"},[e("button",{staticClass:"button is-link",on:{click:t.close}},[t._v(" Fechar ")])])])]:t.editing&&!t.success?[e("div",{staticClass:"has-text-centered"},[e("img",{attrs:{src:t.imgAlert,alt:"alert"}}),e("p",{staticClass:"bond__title mb-3"},[t._v(" Remover indicadora ")]),e("p",{staticClass:"bond__text mb-5"},[t._v(" Tem certeza que deseja remover o vínculo desta indicadora? ")]),e("div",{staticClass:"is-flex is-justify-content-center"},[e("button",{staticClass:"button mr-2",on:{click:t.close}},[t._v(" Fechar ")]),e("button",{staticClass:"button is-danger",on:{click:t.removeAll}},[t._v(" Remover indicadora ")])])])]:t.editing&&t.success?[e("div",{staticClass:"has-text-centered"},[e("p",{staticClass:"bond__title mb-3"},[t._v(" Concluído ")]),e("p",{staticClass:"bond__text mb-5"},[t._v(" Indicadora foi removida com sucesso. ")]),e("div",{staticClass:"is-flex is-justify-content-center"},[e("button",{staticClass:"button is-link",on:{click:t.close}},[t._v(" Fechar ")])])])]:[e("base-select",{staticClass:"pb-0",attrs:{options:t.promoters,searching:t.searching["promoter"],placeholder:"Buscar promotora","can-filter":"","has-api-search":""},on:{search:function(e){return t.handlePromotersSearch(e,"promoter")}},model:{value:t.form.promoter_id,callback:function(e){t.$set(t.form,"promoter_id",e)},expression:"form.promoter_id"}}),t.multiple?t._e():[e("small",{staticClass:"bond__notice"},[t._v("Não é possível vincular mais de uma indicadora")])],t.hasSelectedItems?[e("p",{staticClass:"mt-5"},[t._v(" Adicionar indicada ")]),e("ul",{staticClass:"bond__list"},t._l(t.normalizedFormSelected,(function(s,a){return e("li",{key:a,staticClass:"p-1"},[e("div",{staticClass:"is-flex is-align-items-center"},[e("span",[t._v(t._s(s.name))]),e("button",{staticClass:"button is-small ml-auto",on:{click:function(e){return t.removeBond(s.value)}}},[t._v(" Remover ")])])])})),0)]:t._e(),e("div",{staticClass:"is-flex mt-5"},[e("button",{staticClass:"button ml-auto",on:{click:t.close}},[t._v(" Fechar ")]),e("button",{staticClass:"button is-link ml-2",attrs:{disabled:!t.hasSelectedItems},on:{click:t.addAll}},[t._v(" Adicionar indicada ")])])]]},proxy:!0}])})},Qs=[],Ks=s("06ec"),Js=s.n(Ks),Ws=s("356e"),Ys=s.n(Ws),Zs=s("c1ec"),Xs={name:"ModalBondPromoters",components:{BaseModal:Zs["default"],BaseSelect:se["default"],TheError:()=>Promise.resolve().then(s.bind(null,"c6f5"))},mixins:[w["a"],Y],props:{multiple:{type:Boolean,required:!1,default:!1},bonds:{type:Array,required:!1,default:()=>[]},editing:{type:Boolean,required:!1,default:!1},create:{type:Boolean,required:!1,default:!1},ignore:{type:Object,required:!1,default:()=>({value:""})},id:{type:[Number,String],required:!1,default:""}},data:()=>({form:{promoter_id:"",selected:[]},list:{promoters:[]},message:{error:""},success:!1,imgAlert:Js.a,imgCheck:Ys.a}),computed:{...Object(C["d"])({token:t=>t.app.logonToken}),hasSelectedItems(){return Boolean(this.normalizedFormSelected.length)},normalizedFormSelected(){return this.editing?[...this.form.selected]:this.differenceBy([...this.form.selected],[...this.bonds],"value")},promoters(){const t=this.differenceBy([...this.list.promoters,...this.bonds],[...this.form.selected],"value");return t.filter(({value:t})=>Number(t)!==Number(this.ignore.value))},indicated(){return this.normalizedFormSelected.map(({value:t})=>t)}},watch:{bonds:{handler(t){this.form.selected=[...t]},immediate:!0},"form.promoter_id":{handler(t){""!==t&&this.addBond(t)}},"searching.promoter":{handler(t){t&&(this.message.error="")}}},methods:{handlerError(t){var e,s,a,o,i,n,r,l,c,d,u,m;let p=(null===t||void 0===t||null===(e=t.response)||void 0===e||null===(s=e.data)||void 0===s||null===(a=s.error)||void 0===a?void 0:a.message)||(null===t||void 0===t||null===(o=t.error)||void 0===o||null===(i=o.response)||void 0===i||null===(n=i.data)||void 0===n||null===(r=n.error)||void 0===r?void 0:r.message)||(null===t||void 0===t||null===(l=t.error)||void 0===l||null===(c=l.data)||void 0===c?void 0:c.message)||(null===t||void 0===t?void 0:t.message)||t;if(null!==t&&void 0!==t&&null!==(d=t.response)&&void 0!==d&&null!==(u=d.data)&&void 0!==u&&null!==(m=u.error)&&void 0!==m&&m.errors){var h,v,f;const e=Object.values(null===t||void 0===t||null===(h=t.response)||void 0===h||null===(v=h.data)||void 0===v||null===(f=v.error)||void 0===f?void 0:f.errors);p=p.concat("<br> - "+e.map(t=>t).join("<br> - "))}this.$set(this.message,"error",p)},differenceBy(t,e,s){const a=new Set(e.map(t=>t[s]));return t.filter(t=>!a.has(t[s]))},close(){this.$emit("close",[...this.normalizedFormSelected])},addBond(t){this.multiple||(this.form.selected=[]);const[e]=this.list.promoters.filter(({value:e})=>e===t);this.form.selected.push(e),this.form.promoter_id=""},async addAll(){this.create?await this.createBound():this.success=!0},removeBond(t){this.form.selected=this.form.selected.filter(({value:e})=>e!==t)},removeAll(){this.form.selected=[],this.success=!0},async createBound(){const t=new k["a"](this.token);this.loading=!0,await t.saveIndicated({id:this.id,data:{indicated:this.indicated}}).catch(this.handlerError).finally(()=>{this.loading=!1,this.message.error||(this.success=!0)})}}},ta=Xs,ea=(s("53c6"),Object(I["a"])(ta,Gs,Qs,!1,null,"4c96101a",null)),sa=ea.exports;const aa=11,oa=17,ia=19;var na={name:"PromotersEditView",components:{Layout:Xt,ModalBondPromoters:sa,BaseTooltip:()=>Promise.resolve().then(s.bind(null,"7282")),BaseInput:()=>Promise.resolve().then(s.bind(null,"b3b3")),BaseSelect:()=>Promise.resolve().then(s.bind(null,"2a26")),TheError:()=>Promise.resolve().then(s.bind(null,"c6f5"))},mixins:[w["a"],Y,Z["a"],X["a"]],data:()=>({meta:{title:"Promotores"},docType:"cnpj",form:{master_id:1,tenant_id:1,name:"",document:"",contact_name:"",contact_email:"",contact_phone:"",commercial_id:null,superintendent_id:null,indicator_id:null,zipcode:"",street:"",number:"",unit:"",neighborhood:"",city:"",state:"",pix_key:"",bank_id:"",account_type:"",branch_number:"",account_number:"",owner_name:"",owner_document:"",obs:""},boundPromoter:{},locations:{states:[],cities:[]},cepLoading:!1,sourceAPI:zs["a"].CancelToken.source(),stateFocused:!1,message:{text:"",type:""},types:[{name:"Conta poupança",value:"conta poupança"},{name:"Conta corrente",value:"conta corrente"},{name:"Conta pagamento",value:"pagamento"}],list:{banks:[],promoters:[],docTypes:[{name:"CPF",value:"cpf"},{name:"CNPJ",value:"cnpj"}],commercialUsers:[],superintendentUsers:[],indicatorUsers:[]},pixTypes:{savings:"conta poupança",checking:"conta corrente",payment:"pagamento"},modal:{status:!1,message:null,skip:!1,bond:!1}}),computed:{...Object(C["d"])({token:t=>t.app.logonToken,user:t=>t.user.userInfo}),id(){return this.$route.params.id},promoter_id(){var t,e;return null!==(t=null!==(e=this.id)&&void 0!==e?e:this.user.promoter_id)&&void 0!==t?t:null},hasID(){return!!(0|this.id)},title(){return this.hasID?"Editar dados da promotora":"Adicionar promotora"},pageTitle(){return this.hasID?this.form.name:"Nova promotora"},icon(){return this.cepLoading?"fa-redo":"fa-search"},zipcode(){return this.form.zipcode.replace(/\D/g,"")},states(){return this.locations.states.map(({nome:t,sigla:e})=>({name:t,value:e}))},cities(){return this.locations.cities.map(({nome:t})=>({name:t,value:t.toUpperCase()}))},banks(){return this.list.banks.map(({id:t,name:e})=>({name:e,value:t}))},canAccessFinancialData(){return[this.isAdmin,this.isSuper,this.isMasterOrFinancial,this.isCommercial,this.isSuperIntendent].some(t=>t)},canSetCommercialData(){return this.isSuper||this.isAntifraud},canSetIndicatorData(){return this.isSuper||this.isAdmin},hasToShowCommercialForm(){return this.hasID||this.canSetCommercialData||this.canSetIndicatorData},canEdit(){return!this.hasID||this.isSuper},boundPromoterName(){var t;return null!==(t=this.boundPromoter.name)&&void 0!==t?t:""},bondButtonClass(){return this.boundPromoterName?"":"is-link"},bondButtonLabel(){return this.boundPromoterName?"Remover indicadora":"Vincular promotora indicadora"},bonds(){return this.boundPromoterName?[this.boundPromoter]:[]},promoterToIgnore(){return{name:this.form.name,value:this.id}},isAdminGroup(){return[this.isAdmin,this.isSuper].some(t=>t)}},watch:{"form.state":{async handler(t){this.stateFocused&&t&&await this.getIBGEData("cities")}}},async mounted(){await this.loadData()},methods:{setMessage(t,e="danger"){"reset"===t?(this.message.text="",this.message.type=""):(this.message.text=t,this.message.type=e)},async setData(t,e="all"){const s=new k["a"](this.token);var a,o,i,n,r,l,c,d,u,m,p,h,v,f,b,_,g,C,y,w,S,x,A,P,D,T;if("all"===e)this.form.master_id=null!==(a=t.master_id)&&void 0!==a?a:1,this.form.tenant_id=null!==(o=t.tenant_id)&&void 0!==o?o:1,this.form.name=null!==(i=t.name)&&void 0!==i?i:"",this.form.document=null!==(n=t.document)&&void 0!==n?n:"",this.form.contact_name=null!==(r=t.contact_name)&&void 0!==r?r:"",this.form.contact_email=null!==(l=t.contact_email)&&void 0!==l?l:"",this.form.contact_phone=null!==(c=t.contact_phone)&&void 0!==c?c:"",this.form.zipcode=null!==(d=t.zipcode)&&void 0!==d?d:"",this.form.street=null!==(u=t.street)&&void 0!==u?u:"",this.form.number=null!==(m=t.number)&&void 0!==m?m:"",this.form.unit=null!==(p=t.unit)&&void 0!==p?p:"",this.form.neighborhood=null!==(h=t.neighborhood)&&void 0!==h?h:"",this.form.state=null!==(v=t.state)&&void 0!==v?v:"",this.form.pix_key=null!==(f=t.pix_key)&&void 0!==f?f:"",this.form.bank_id=null!==(b=t.bank_id)&&void 0!==b?b:"",this.form.account_type=String(null!==(_=t.account_type)&&void 0!==_?_:"").toLowerCase(),this.form.branch_number=null!==(g=t.branch_number)&&void 0!==g?g:"",this.form.account_number=null!==(C=t.account_number)&&void 0!==C?C:"",this.form.owner_name=null!==(y=t.owner_name)&&void 0!==y?y:"",this.form.owner_document=null!==(w=t.owner_document)&&void 0!==w?w:"",this.form.obs=null!==(S=t.obs)&&void 0!==S?S:"",this.form.password=null!==(x=t.password)&&void 0!==x?x:"",this.form.superintendent_id=t.superintendent_id,this.form.commercial_id=t.commercial_id,this.form.indicator_id=t.indicator_id,this.form.superintendent_name=null!==(A=t.superintendent_name)&&void 0!==A?A:"",this.form.commercial_name=null!==(P=t.commercial_name)&&void 0!==P?P:"",this.form.indicator_name=null!==(D=t.indicator_name)&&void 0!==D?D:"",this.boundPromoter={},t.indicator_id&&s.getPromoters(t.indicator_id).then(e=>{this.$set(this.boundPromoter,"value",t.indicator_id),this.$set(this.boundPromoter,"name",e.data.data.name)}).catch(()=>{}),t.commercial_name&&await s.getUsers({role_id:aa,search:t.commercial_name}).then(t=>{try{const e=t.data.data[0];this.form.commercial_id=e.id}catch{}}),t.superintendent_name&&await s.getUsers({role_id:oa,search:t.superintendent_name}).then(t=>{try{const e=t.data.data[0];this.form.superintendent_id=e.id}catch{}}),t.document&&(this.docType=t.document.length>14?"cnpj":"cpf"),await this.getIBGEData("cities"),this.form.city=(null!==(T=t.city)&&void 0!==T?T:"").toUpperCase();else if("address"===e){var I,E,O,M,R,B,L;this.form.zipcode=null!==(I=t.zipcode)&&void 0!==I?I:"",this.form.street=null!==(E=t.street)&&void 0!==E?E:"",this.form.number=null!==(O=t.number)&&void 0!==O?O:"",this.form.unit=null!==(M=t.unit)&&void 0!==M?M:"",this.form.neighborhood=null!==(R=t.neighborhood)&&void 0!==R?R:"",this.form.state=null!==(B=t.state)&&void 0!==B?B:"",await this.getIBGEData("cities"),this.form.city=(null!==(L=t.city)&&void 0!==L?L:"").toUpperCase()}else if("bank"===e){var U,N,q,F,j,V,z,$;this.form.pix_key=null!==(U=t.pix_key)&&void 0!==U?U:"",this.form.bank_id=null!==(N=t.bank_id)&&void 0!==N?N:"",this.form.account_type=String(null!==(q=t.account_type)&&void 0!==q?q:"").toLowerCase(),this.form.branch_number=null!==(F=t.branch_number)&&void 0!==F?F:"",this.form.account_number=null!==(j=t.account_number)&&void 0!==j?j:"",this.form.owner_name=null!==(V=t.owner_name)&&void 0!==V?V:"",this.form.owner_document=null!==(z=t.owner_document)&&void 0!==z?z:"",this.form.obs=null!==($=t.obs)&&void 0!==$?$:""}},handlerError(t){var e,s,a,o,i,n,r,l,c,d;let u=(null===t||void 0===t||null===(e=t.response)||void 0===e||null===(s=e.data)||void 0===s||null===(a=s.error)||void 0===a?void 0:a.message)||(null===t||void 0===t||null===(o=t.error)||void 0===o||null===(i=o.response)||void 0===i||null===(n=i.data)||void 0===n||null===(r=n.error)||void 0===r?void 0:r.message)||(null===t||void 0===t?void 0:t.message)||t;if(null!==t&&void 0!==t&&null!==(l=t.response)&&void 0!==l&&null!==(c=l.data)&&void 0!==c&&null!==(d=c.error)&&void 0!==d&&d.errors){var m,p,h;const e=Object.values(null===t||void 0===t||null===(m=t.response)||void 0===m||null===(p=m.data)||void 0===p||null===(h=p.error)||void 0===h?void 0:h.errors);u=u.concat("<br> - "+e.map(t=>t).join("<br> - "))}this.setMessage(u)},confirmAction({skip:t=!1}={}){const e=`Você está efetuando <strong>${t?"um registro de remessa":"uma liberação de remessa"}</strong>.<br><br>Deseja prosseguir com está ação?`;this.modal.status=!0,this.modal.message=e,this.modal.skip=t},closeModal(){this.modal.status=!1,this.modal.message=null,this.modal.skip=!1,this.modal.bond=!1},handleBond([t]){this.boundPromoter=null!==t&&void 0!==t?t:{},this.closeModal()},async loadData(){this.getIBGEData("states"),await this.fetchBanks(),await this.getCommercialUsers(),await this.getSuperintendentUsers(),await this.getIndicatorUsers(),await this.fetchPromoters(this.id)},async searchPix(){const t=new $s["a"](this.token),{pix_key:e}=this.form;this.loading=!0,this.setData({},"bank"),await t.getBankAccountInfoByPixForPromoters(e).then(({data:t})=>{W.a.find(this.list.banks,{id:t.data.bank_id})||this.list.banks.push({id:t.data.bank_id,name:t.data.bankName}),this.setData({pix_key:e,bank_id:t.data.bank_id,account_type:this.pixTypes[t.data.accountType],branch_number:t.data.branchCode,account_number:t.data.accountNumber,owner_name:t.data.name},"bank")}).catch(t=>this.handlerError(t)).finally(()=>{this.loading=!1})},async fetchBanks(){const t=new Ne["a"](this.token);this.loading=!0,await t.getBanksForPromoters().then(({data:t})=>{this.list.banks=[];for(const e of t.data)this.list.banks.push(e)}).catch(t=>this.handlerError(t)).finally(()=>{this.loading=!1})},async searchCep(){this.cepLoading=!0,await this.setData({zipcode:this.form.zipcode},"address"),delete zs["a"].defaults.headers.common.Authorization,await zs["a"].get(`https://viacep.com.br/ws/${this.zipcode}/json`).then(async({data:t})=>{t.erro?this.setMessage("CEP não encontrado"):(this.form.state=t.uf,await this.getIBGEData("cities"),this.form.city=t.localidade.toUpperCase(),this.form.neighborhood=t.bairro,this.form.street=t.logradouro,this.$refs.number.$el.querySelector("input").focus())}).catch(()=>this.setMessage("Ocorreu um problema com a solicitação")).finally(()=>{this.cepLoading=!1})},async getIBGEData(t){const e={states:"estados",cities:`estados/${this.form.state}/municipios`};this.cepLoading=!0,delete zs["a"].defaults.headers.common.Authorization,delete zs["a"].defaults.headers.common["X-Authorization"],await zs["a"].get(`https://servicodados.ibge.gov.br/api/v1/localidades/${e[t]}?orderBy=nome`,{cancelToken:this.sourceAPI.token}).then(({data:e})=>{this.locations[t]=e}).catch(t=>{zs["a"].isCancel(t)?console.log("Consulta ao IBGE falhou"):this.handlerError(t)}).finally(()=>{this.cepLoading=!1})},async fetchPromoters(t){const e=new k["a"](this.token);this.loading=!0,await e.getPromoters(t).then(({data:t})=>{W.a.find(this.list.banks,{id:t.data.bank_id})||this.list.banks.push({id:t.data.bank_id,name:t.data.bank_name}),this.setData(t.data)}).catch(t=>this.handlerError(t)).finally(()=>{this.loading=!1})},async getCommercialUsers(t){const e=new k["a"](this.token);this.loading=!0,await e.getUsers({role_id:aa,...t?{search:t}:""}).then(({data:t})=>{for(const e of t.data)this.list.commercialUsers.push({name:e.name,value:e.id})}).catch(()=>null).finally(()=>{this.loading=!1})},async getSuperintendentUsers(t){const e=new k["a"](this.token);this.loading=!0,await e.getUsers({role_id:oa,...t?{search:t}:""}).then(({data:t})=>{for(const e of t.data)this.list.superintendentUsers.push({name:e.name,value:e.id})}).catch(()=>null).finally(()=>{this.loading=!1})},async getIndicatorUsers(){const t=new k["a"](this.token);this.loading=!0,await t.getUsers({role_id:ia}).then(({data:t})=>{for(const e of t.data)this.list.indicatorUsers.push({name:e.name,value:e.id})}).catch(()=>null).finally(()=>{this.loading=!1})},async submit(){const t=new k["a"](this.token),e={...this.form,...this.boundPromoter.value?{indicator_id:this.boundPromoter.value}:"",...this.hasID?{id:this.id}:""},s=this.hasID?"updatePromoter":"savePromoter";this.loading=!0,this.setMessage("reset"),await t[s](e,this.id).then(()=>{this.setMessage("Registro salvo com sucesso","success")}).catch(t=>this.handlerError(t)).finally(()=>{this.loading=!1})},async getCommissionsFromTheDay(){const t=new Hs(this.token),e=new Date,s=+this.modal.skip,a=e.toISOString().split("T")[0],{promoter_id:o}=this,i={begin_date:"2022-10-20",skip_pix:s,end_date:a,promoter_id:o};this.loading=!0,this.setMessage("reset"),await t.getCommissionsFromTheDay({params:i}).then(({data:t})=>{this.setMessage(`R$ ${t[o].credit} ${s?"registrado":"liberado"} para ${t[o].promoter_name}`,"success")}).catch(t=>this.handlerError(t)).finally(()=>{this.closeModal(),this.loading=!1})}},metaInfo(){return j.meta(this.meta)}},ra=na,la=(s("8c6d"),Object(I["a"])(ra,js,Vs,!1,null,"0f9ba927",null)),ca=la.exports,da=function(){var t=this,e=t._self._c;return e("Layout",{attrs:{title:t.promoterName,"max-width":"100%"}},[e("div",{staticClass:"card",class:{"empty-body":t.isEmptyStateError||!t.promoterId}},[e("div",{staticClass:"card-content"},[e("div",{staticClass:"columns"},[e("div",{staticClass:"column"},[e("h3",{staticClass:"is-size-4"},[t._v(" Indicadas ")])]),e("div",{staticClass:"column is-narrow"},[e("div",{staticClass:"buttons mt-auto"},[e("router-link",{staticClass:"button ml-auto",attrs:{to:{name:"promoters-edit",params:{id:t.promoterId}}}},[e("span",[t._v("Voltar para promotora")]),e("span",{staticClass:"icon"},[e("i",{staticClass:"fas fa-reply"})])]),e("button",{staticClass:"button is-link",on:{click:function(e){e.preventDefault(),t.modal.bond=!0}}},[t._v(" Vincular promotora indicada ")])],1)])]),t.isEmptyStateError?t._e():[e("the-error",{attrs:{message:t.message.error}})],t.hasBoundPromoters?[e("table",{staticClass:"table is-fullwidth"},[e("thead",[e("tr",[e("th",[t._v("Promotora")]),e("th",[t._v("CNPJ")]),e("th",{staticClass:"is-narrow"},[t._v(" Ações ")])])]),e("tbody",t._l(t.boundPromoters,(function(s,a){return e("tr",{key:a},[e("td",[e("span",[t._v(t._s(s.name))])]),e("td",[e("span",[t._v(t._s(s.document))])]),e("td",[e("button",{staticClass:"button is-small",on:{click:function(e){return t.removeBond(s.id)}}},[t._v(" Remover ")])])])})),0)])]:[e("div",{staticClass:"empty-state"},[e("img",{attrs:{src:t.notFound,alt:"not-found"}}),e("p",{staticClass:"bond__subtitle"},[t._v(" Não há promotoras indicadas ")]),e("p",[t._v(" Nenhuma indicada foi vinculada a está promotora até o momento ")])])]],2)]),t.modal.bond?e("modal-bond-promoters",{attrs:{id:t.promoterId,bonds:t.normalizedBoundPromoters,multiple:"",create:""},on:{close:t.handleBond}}):t._e(),t.modal.confirm?e("base-modal",{attrs:{"show-buttons":!1},on:{close:t.close},scopedSlots:t._u([{key:"title",fn:function(){return[e("div",{staticClass:"bond__title"},[t._v(" Gestão de indicadores ")])]},proxy:!0},{key:"body",fn:function(){return[t.deletingBond?[e("div",{staticClass:"has-text-centered"},[e("p",{staticClass:"bond__title mb-3"},[t._v(" Remover indicadora ")]),e("p",{staticClass:"bond__text mb-5"},[t._v(" Tem certeza que deseja remover o vínculo desta indicadora? ")]),e("div",{staticClass:"is-flex is-justify-content-center"},[e("button",{staticClass:"button mr-2",on:{click:t.close}},[t._v(" Fechar ")]),e("button",{staticClass:"button is-danger",on:{click:t.deleteBond}},[t._v(" Remover indicadora ")])])])]:[e("div",{staticClass:"has-text-centered"},[e("p",{staticClass:"bond__title mb-3"},[t._v(" Concluído ")]),e("p",{staticClass:"bond__text mb-5"},[t._v(" Indicadora foi removida com sucesso. ")]),e("div",{staticClass:"is-flex is-justify-content-center"},[e("button",{staticClass:"button is-link",on:{click:t.close}},[t._v(" Fechar ")])])])]]},proxy:!0}],null,!1,3611511316)}):t._e()],1)},ua=[],ma={name:"PromotersBonds",components:{Layout:Xt,ModalBondPromoters:sa,BaseModal:()=>Promise.resolve().then(s.bind(null,"c1ec")),TheError:()=>Promise.resolve().then(s.bind(null,"c6f5"))},mixins:[w["a"]],props:{promoterId:{type:[String,Number],required:!0},promoterName:{type:[String,Number],required:!0}},data:()=>({meta:{title:"Indicados"},modal:{bond:!1,confirm:!1},message:{error:""},boundPromoters:[],deletingBond:null,notFound:Je.a}),computed:{...Object(C["d"])({token:t=>t.app.logonToken}),hasBoundPromoters(){return Boolean(this.boundPromoters.length)},isEmptyStateError(){return this.message.error&&this.message.error.includes("Infelizmente não foi possível encontrar este registro")},normalizedBoundPromoters(){return this.boundPromoters.map(t=>({...t,value:t.id}))}},async mounted(){await this.fetchBonds()},methods:{handlerError(t){var e,s,a,o,i,n,r,l,c,d,u,m;let p=(null===t||void 0===t||null===(e=t.response)||void 0===e||null===(s=e.data)||void 0===s||null===(a=s.error)||void 0===a?void 0:a.message)||(null===t||void 0===t||null===(o=t.error)||void 0===o||null===(i=o.response)||void 0===i||null===(n=i.data)||void 0===n||null===(r=n.error)||void 0===r?void 0:r.message)||(null===t||void 0===t||null===(l=t.error)||void 0===l||null===(c=l.data)||void 0===c?void 0:c.message)||(null===t||void 0===t?void 0:t.message)||t;if(null!==t&&void 0!==t&&null!==(d=t.response)&&void 0!==d&&null!==(u=d.data)&&void 0!==u&&null!==(m=u.error)&&void 0!==m&&m.errors){var h,v,f;const e=Object.values(null===t||void 0===t||null===(h=t.response)||void 0===h||null===(v=h.data)||void 0===v||null===(f=v.error)||void 0===f?void 0:f.errors);p=p.concat("<br> - "+e.map(t=>t).join("<br> - "))}this.$set(this.message,"error",p)},async handleBond(){this.modal.bond=!1,await this.fetchBonds()},removeBond(t){this.deletingBond=t,this.modal.confirm=!0},async close(){this.modal.confirm=!1,await this.fetchBonds()},async fetchBonds(){const t=new k["a"](this.token);this.loading=!0,this.message.error="",await t.getIndicated({id:this.promoterId}).then(({data:t})=>{this.boundPromoters=[];for(const e of t.data.indicated)this.boundPromoters.push(e)}).catch(this.handlerError).finally(()=>{this.loading=!1})},async deleteBond(){const t=new k["a"](this.token);this.loading=!0,this.message.error="",await t.deleteIndicated({id:this.promoterId,promoter_id:this.deletingBond}).then(()=>{this.deletingBond=null}).catch(this.handlerError).finally(()=>{this.loading=!1})}},metaInfo(){return j.meta(this.meta)}},pa=ma,ha=(s("caca"),Object(I["a"])(pa,da,ua,!1,null,"135ae279",null)),va=ha.exports,fa=function(){var t=this,e=t._self._c;return e("Layout",{attrs:{title:t.meta.title,"max-width":"100%","is-card":""}},[e("div",{staticClass:"columns"},[e("div",{staticClass:"column"},[e("h3",{staticClass:"is-size-4"},[t._v(" "+t._s(t.promoter_name)+" ")])]),e("div",{staticClass:"column is-narrow"},[e("div",{staticClass:"buttons"},[e("router-link",{staticClass:"button is-link is-outlined",attrs:{to:{name:"promoters-edit",params:{id:t.promoter_id}}}},[e("span",[t._v("Voltar para promotores")]),e("span",{staticClass:"icon"},[e("i",{staticClass:"fas fa-reply"})])]),t.canEditGoal&&!t.id?e("router-link",{key:"add",staticClass:"button is-link",attrs:{to:{name:"promoters-goals-edit",params:{id:"null",promoter_id:t.promoter_id,promoter_name:t.promoter_name}}}},[e("span",[t._v("Adicionar meta")])]):t._e()],1)])]),t.id?t._e():e("div",{staticClass:"columns"},[e("div",{staticClass:"column"},[e("base-select",{staticClass:"mb-0",attrs:{options:t.list.products},on:{selected:function(e){t.form.product_id=e}},model:{value:t.form.product_id,callback:function(e){t.$set(t.form,"product_id",e)},expression:"form.product_id"}},[e("span",[t._v("Produto")])])],1)]),t.message.text?e("div",{staticClass:"columns"},[e("div",{staticClass:"column"},[e("div",{staticClass:"message",class:t.message.type},[e("div",{staticClass:"message-body",domProps:{innerHTML:t._s(t.sanitizedContent(t.message.text))}})])])]):t._e(),t.id?[e("v-validate-observer",{scopedSlots:t._u([{key:"default",fn:function({handleSubmit:s}){var a;return[e("form",{staticClass:"documents",attrs:{autocomplete:"off"},on:{submit:function(e){return e.preventDefault(),s(t.submit)}}},[e("div",{directives:[{name:"show",rawName:"v-show",value:0===t.step,expression:"step === 0"}],staticClass:"step-1"},[e("span",[e("base-input",{attrs:{disabled:""},model:{value:t.promoter_name,callback:function(e){t.promoter_name=e},expression:"promoter_name"}},[e("span",[t._v("Promotor")])])],1),e("v-validate",{attrs:{rules:"required",name:"Produto"},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("base-select",{attrs:{"error-message":s[0],options:t.list.products},on:{selected:function(e){t.form.product_id=e}},model:{value:t.form.product_id,callback:function(e){t.$set(t.form,"product_id",e)},expression:"form.product_id"}},[e("span",[t._v("Produto")])])]}}],null,!0)}),e("v-validate",{attrs:{rules:"required",name:"Período"},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("base-calendar",{staticClass:"control",attrs:{"limit-date":!1},model:{value:t.toWatch.period,callback:function(e){t.$set(t.toWatch,"period",e)},expression:"toWatch.period"}},[e("span",[t._v("Período")])]),s[0]?e("div",{staticClass:"error-message"},[e("small",{staticClass:"has-text-danger"},[t._v(t._s(s[0]))])]):t._e()]}}],null,!0)}),e("hr",{staticClass:"divider"}),e("div",[e("button",{staticClass:"button is-success",attrs:{disabled:t.disableNextStepButton},on:{click:function(e){return e.preventDefault(),(()=>{t.setMessage("reset"),t.step+=1}).apply(null,arguments)}}},[e("span",[t._v("Próximo passo")])])])],1),e("div",{directives:[{name:"show",rawName:"v-show",value:1===t.step,expression:"step === 1"}],staticClass:"step-2"},[e("div",{staticClass:"step-2__grid"},[e("div",{staticClass:"step-2__inputs"},[e("v-validate",{attrs:{rules:"required",name:"Valor da emissão"},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("base-input",{attrs:{"error-message":s[0],mask:"money"},model:{value:t.form.amount,callback:function(e){t.$set(t.form,"amount",e)},expression:"form.amount"}},[e("span",[t._v("Valor da emissão")])])]}}],null,!0)}),e("v-validate",{attrs:{rules:"required",name:"Tipo de Bonus"},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("base-select",{attrs:{options:t.list.bonusTypes,"error-message":s[0],type:"tel",mask:"money"},on:{input:()=>{t.form.bonus="",t.form.percentage=""}},model:{value:t.form.bonusType,callback:function(e){t.$set(t.form,"bonusType",e)},expression:"form.bonusType"}},[e("span",[t._v("Tipo de Bônus")])])]}}],null,!0)}),"valor-fixo"===t.form.bonusType?[e("v-validate",{attrs:{rules:"required",name:"Valor do bônus"},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("base-input",{attrs:{"error-message":s[0],mask:"money"},model:{value:t.form.bonus,callback:function(e){t.$set(t.form,"bonus",e)},expression:"form.bonus"}},[e("span",[t._v("Valor Fixo do bônus")])])]}}],null,!0)})]:"valor-percentual"===t.form.bonusType?[e("v-validate",{attrs:{rules:"required",name:"Valor do bônus"},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("base-input",{attrs:{"error-message":s[0],type:"tel",mask:"percent"},model:{value:t.form.percentage,callback:function(e){t.$set(t.form,"percentage",e)},expression:"form.percentage"}},[e("span",[t._v("Valor em porcentagem do bônus")])])]}}],null,!0)})]:t._e(),e("base-switch",{on:{change:e=>t.form.isActive=e},model:{value:t.form.isActive,callback:function(e){t.$set(t.form,"isActive",e)},expression:"form.isActive"}},[t._v(" Tornar meta ativa ")]),e("button",{staticClass:"button is-success",attrs:{disabled:t.disableAddGoalButton},on:{click:function(e){return e.preventDefault(),t.addGoal.apply(null,arguments)}}},[e("span",[t._v("Adicionar meta")]),e("span",{staticClass:"icon"},[e("i",{staticClass:"fas fa-plus"})])])],2),e("div",{staticClass:"step-2__card"},[e("div",{staticClass:"goalCard",class:{slideOut:t.animation.cardSlideOut}},[e("h2",[t._v(t._s(t._f("money")(t.form.amount||0)))]),e("p",[t._v(" "+t._s(t._f("money")(t.form.bonus||t.calculateBonus))+" ("+t._s(t.form.percentage||t.calculatePercentage)+") ")]),e("p",[t._v(t._s(null===(a=t.form.end_date)||void 0===a?void 0:a.split("-").reverse().join("/")))])])])]),e("hr",{staticClass:"divider"}),t.submittedGoal.length>0?e("div",{staticClass:"goalCardList"},t._l(t.submittedGoal,(function(s,a){var o;return e("div",{key:a,staticClass:"goalCard slideIn"},[e("h2",[t._v(" "+t._s(t._f("money")(s.amount))+" "),e("button",{staticClass:"button",on:{click:function(e){return e.preventDefault(),t.deleteGoal(a)}}},[e("i",{staticClass:"fas fa-times"})])]),e("p",[t._v(t._s(t._f("money")(s.bonus))+" ("+t._s(s.percentage)+")")]),e("p",[t._v(t._s(null===(o=s.end_date)||void 0===o?void 0:o.split("-").reverse().join("/")))])])})),0):t._e(),e("hr"),e("div",{staticClass:"columns"},[e("div",{staticClass:"column"},[e("button",{staticClass:"button is-success",on:{click:function(e){t.step--}}},[e("span",[t._v("Voltar")]),e("span",{staticClass:"icon"},[e("i",{staticClass:"fas fa-undo-alt"})])])]),e("div",{staticClass:"column is-narrow"},[e("button",{staticClass:"button is-danger",on:{click:t.cancel}},[e("span",[t._v("Cancelar")]),e("span",{staticClass:"icon"},[e("i",{staticClass:"fas fa-times"})])]),e("button",{staticClass:"button is-link",attrs:{type:"submit"}},[e("span",[t._v("Salvar")]),e("span",{staticClass:"icon"},[e("i",{staticClass:"fas fa-save"})])])])])])])]}}],null,!1,3655701527)})]:[e("table",{staticClass:"table is-narrow is-striped is-hoverable is-fullwidth"},[e("thead",{staticClass:"sticky"},[e("tr",[e("th",[t._v("Metas")])])]),e("tbody",[t.list.goals.length?[t._l(t.list.goals,(function(s,a){return[e("tr",{key:"card-"+a,class:{disabled:!s.active,"has-expanded":void 0!==t.list.expanded.index&&t.list.expanded.index===a,"not-expanded":void 0!==t.list.expanded.index&&t.list.expanded.index!==a}},[e("td",{staticClass:"is-clickable px-4 is-flex is-align-content-center",on:{click:function(e){return t.expandedGoal({index:a,...s})}}},[t.canEditGoal?e("router-link",{key:"edit",staticClass:"button is-ghost",attrs:{to:{name:"promoters-goals-edit",params:{id:s.id,promoter_id:t.promoter_id,promoter_name:t.promoter_name}}}},[e("span",{staticClass:"icon is-small"},[e("i",{staticClass:"fas fa-pen"})])]):t._e(),e("div",[e("span",[t._v(" Vigência: "+t._s(t.normalize(s.begin_date,"date"))+" ~ "+t._s(t.normalize(s.end_date,"date"))+" ")])]),s.active?e("div",{staticClass:"chip is-success ml-auto"},[t._v(" ATIVA ")]):t._e()],1)]),t.expanded_row_index===a?e("tr",{key:"progress-"+a,staticClass:"is-expanded"},[e("td",{staticClass:"p-5"},[e("div",{staticClass:"progress__card-list"},t._l(t.list.expanded,(function(s,a){return e("div",{key:a,staticClass:"progress__card"},[e("div",[e("p",{staticClass:"progress__card-goal"},[t._v(" Meta: "),e("span",[t._v(t._s(t._f("money")(s.amount)))])]),e("p",[t._v("Total produzido: "),e("span",[t._v(t._s(t._f("money")(t.total_amount)))])]),e("p",{staticClass:"progress__card-bonus"},[t._v(" Bônus ao atingimento da meta: "),s.bonus_amount?e("span",[t._v(" "+t._s(s.bonus)+" ("+t._s(t._f("money")(s.bonus_amount))+") ")]):e("span",[t._v(" "+t._s(t._f("money")(s.bonus))+" ")])])]),e("div",[e("p",{staticClass:"progress__card-percent"},[t._v(" "+t._s(t.normalize(s.percent_goal))+"% ")]),e("progress",{staticClass:"progress",class:{"is-warning":t.normalize(s.percent_goal)<=30,"is-success":t.normalize(s.percent_goal)>30&&t.normalize(s.percent_goal)<=60,"is-primary":t.normalize(s.percent_goal)>60},attrs:{max:"100"},domProps:{value:t.normalize(s.percent_goal)}})])])})),0)])]):t._e()]}))]:e("tr",[e("td",{staticClass:"pt-4 pb-6"},[e("i",[t._v(t._s(t.loading?"Carregando...":"Sem dados"))])])])],2)])]],2)},ba=[];class _a extends L["a"]{async saveGoals(t){return this.api.post(this.baseUrl+"/goals",t).then(({data:t})=>t)}async editGoals(t,e){return this.api.patch(`${this.baseUrl}/goals/${e}`,t).then(({data:t})=>t)}async getGoals({product_id:t,params:e}){return this.api.get(`${this.baseUrl}/goals/product/${t}`,{params:e}).then(({data:t})=>t)}async getGoalActive({product_id:t,params:e}){return this.api.get(`${this.baseUrl}/goals/product/${t}/active`,{params:e}).then(({data:t})=>t)}async getGoalById(t){return this.api.get(`${this.baseUrl}/goals/${t}`).then(({data:t})=>t)}}var ga=s("f83b"),Ca={name:"GoalsView",components:{Layout:Xt,BaseInput:V["default"],BaseSwitch:ga["default"],BaseSelect:se["default"],BaseCalendar:te["a"]},mixins:[w["a"],Z["a"]],props:{promoter_id:{type:[String,Number],required:!0},promoter_name:{type:String,required:!0}},data:()=>({meta:{title:"Metas"},goal_to_edit:null,promoter_id_goal:null,toWatch:{period:[]},total_amount:0,expanded_row_index:null,form:{bonusType:"",isActive:!1,product_id:"",amount:0,bonus:0,percentage:0,begin_date:"",end_date:""},message:{text:"",type:""},list:{products:[],goals:[],expanded:{},bonusTypes:[{name:"Valor fixo",value:"valor-fixo"},{name:"Valor percentual",value:"valor-percentual"}]},animation:{cardSlideOut:!1},submittedGoal:[],step:0}),computed:{...Object(C["d"])({token:t=>t.app.logonToken,roles:t=>t.user.userInfo.roles_ids||[]}),id(){return this.$route.params.id},hasID(){return!!(0|this.id)},title(){var t;const e={undefined:"Listagem",null:"Novo"};return null!==(t=e[this.id])&&void 0!==t?t:"Gerenciar"},canEditGoal(){const t=[1,6];return!!this.roles.find(e=>t.includes(e))},calculatePercentage(){let{percentage:t}=this.form;const{amount:e,bonus:s}=this.form;if(!t){const a=+(100*s/e).toFixed(2);t=Number.isNaN(a)?0:a}return t.toString().replace("%","").concat("%")},calculateBonus(){let{bonus:t,percentage:e}=this.form;const{amount:s}=this.form;return t||(e=e.toString().replace("%",""),t=s*(e/100)),t},disableNextStepButton(){const{product_id:t,begin_date:e,end_date:s}=this.form;return[t,e,s].some(t=>!t)},disableAddGoalButton(){const{amount:t,bonus:e,percentage:s}=this.form;return[!this.disableNextStepButton,t,s||e].some(t=>!t)},formattedGoals(){return this.submittedGoal.map(t=>{let e=t.percentage;"valor-fixo"===t.bonusType&&(e=t.bonus);const s={condition:t.amount,bonus:e};return s})}},watch:{"toWatch.period":{handler([t,e]){this.form.begin_date=this.normalize(t,"date"),this.form.end_date=this.normalize(e,"date")}},$route(t){if(this.hasID&&this.searchGoalData(),!t.params.promoter_id&&"promoters-goals-edit"===t.name){const t=new k["a"](this.token);t.getPromoters(this.promoter_id_goal).then(({data:t})=>{this.$router.push({name:"goals-edit",params:{id:this.goal_to_edit,promoter_id:t.data.id,promoter_name:t.data.name}})})}},"form.product_id":{async handler(t){t&&await this.getGoals()}}},async mounted(){this.promoter_id?await this.getProducts():this.$router.push({name:"promoters"})},methods:{searchGoalData(){const t=new _a(this.token);t.getGoalById(this.id).then(({data:t})=>{const{goal:e,begin_date:s,end_date:a,promoter_id:o}=t,i=[new Date(s+" 00:00").toLocaleDateString("pt-BR"),new Date(a+" 00:00").toLocaleDateString("pt-BR")],[n,r]=i;this.promoter_id_goal=o,this.goal_to_edit=this.id,this.toWatch.period=i,this.form.begin_date=n,this.form.end_date=r,this.submittedGoal=e.map(t=>{const{bonus_amount:e,amount:s,bonus:a}=t,o={amount:s};return o.begin_date=n,o.end_date=r,o.bonusType="valor-fixo",o.bonus=a,o.percentage=(100*a/s).toFixed(2)+"%",Number.isNaN(+a)&&a.includes("%")&&(o.bonusType="valor-percentual",o.bonus=e,o.percentage=a),o})})},editGoals(t){this.$router.push({name:"promoters-goals-edit",params:{id:t}})},addGoal(){this.animation.cardSlideOut=!0;const{amount:t,begin_date:e,end_date:s,bonusType:a}=this.form,o={amount:t,begin_date:e,end_date:s,bonusType:a,percentage:this.calculatePercentage,bonus:this.calculateBonus};this.submittedGoal.push(o),setTimeout(()=>{this.animation.cardSlideOut=!1},1600)},deleteGoal(t){this.submittedGoal.splice(t,1)},normalize(t,e="int"){switch(e){case"date":return null===t||void 0===t?void 0:t.split("-").reverse().join("/");default:return parseFloat(null!==t&&void 0!==t?t:0)}},async expandedGoal(t){const{expanded_row_index:e}=this;e===t.index?Object.keys(e).forEach(t=>this.$delete(e,t)):(await this.getGoalById(t.id),this.expanded_row_index=t.index)},setMessage(t,e="is-danger"){switch(t){case"reset":this.message.text="",this.message.type="";break;default:this.message.text=t,this.message.type=e;break}},handlerError(t){var e,s,a,o,i,n,r,l,c,d;let u=(null===t||void 0===t||null===(e=t.response)||void 0===e||null===(s=e.data)||void 0===s||null===(a=s.error)||void 0===a?void 0:a.message)||(null===t||void 0===t||null===(o=t.error)||void 0===o||null===(i=o.response)||void 0===i||null===(n=i.data)||void 0===n||null===(r=n.error)||void 0===r?void 0:r.message)||(null===t||void 0===t?void 0:t.message)||t;if(null!==t&&void 0!==t&&null!==(l=t.response)&&void 0!==l&&null!==(c=l.data)&&void 0!==c&&null!==(d=c.error)&&void 0!==d&&d.errors){var m,p,h;const e=Object.values(null===t||void 0===t||null===(m=t.response)||void 0===m||null===(p=m.data)||void 0===p||null===(h=p.error)||void 0===h?void 0:h.errors);u=u.concat("<br> - "+e.map(t=>t).join("<br> - "))}this.setMessage(u)},async getProducts(){const t=new qe["a"](this.token);this.loading=!0,await t.getProducts().then(({data:t})=>{for(const{id:e,name:s}of t.data)this.list.products.push({name:s,value:e})}).catch(t=>this.handlerError(t)).finally(()=>{this.loading=!1})},async getGoals(){const t=new _a(this.token),{promoter_id:e}=this,{product_id:s}=this.form;this.loading=!0,await t.getGoals({product_id:s,params:{promoter_id:e}}).then(({data:t})=>{for(const e of t)this.list.goals.push(e)}).catch(t=>this.handlerError(t)).finally(()=>{this.loading=!1})},async getGoalById(t){const e=new _a(this.token);this.loading=!0,this.list.expanded=[],this.total_amount=0,this.setMessage(""),await e.getGoalById(t).then(({data:t})=>{this.list.expanded=t.goal,this.total_amount=t.total_amount}).catch(t=>this.handlerError(t)).finally(()=>{this.loading=!1})},cancel(){this.toWatch.period=[],this.list.goals=[],this.form.product_id=0,this.form.amount=0,this.form.bonus=0,this.$router.push({name:"goals",params:{id:void 0,promoter_id:this.promoter_id,promoter_name:this.promoter_name}})},async submit(){const t=new _a(this.token);if(this.loading=!0,this.setMessage("reset"),0===this.submittedGoal.length)this.setMessage("Adicione ao menos 1 objetivo."),this.loading=!1;else{const{begin_date:e,end_date:s,product_id:a,isActive:o}=this.form,i={begin_date:e.split("/").reverse().join("/"),end_date:s.split("/").reverse().join("/"),product_id:a,promoter_id:this.promoter_id,active:o,goal:[...this.formattedGoals]},n=this.hasID?t.editGoals(i,this.id):t.saveGoals(i);await n.then(()=>{this.setMessage("Registro salvo com sucesso","is-success"),this.cancel()}).catch(t=>this.handlerError(t)).finally(()=>{this.step=0,this.loading=!1,this.form.amount="",this.form.bonus="",this.form.percentage="",this.submittedGoal=[]})}}},metaInfo(){return j.meta(this.meta)}},ya=Ca,wa=(s("ec12"),Object(I["a"])(ya,fa,ba,!1,null,"4128047f",null)),ka=wa.exports,Sa=(s("5b81"),function(){var t,e,s,a,o,i,n,r,l,c,d=this,u=d._self._c;return u("Layout",{attrs:{title:d.meta.title}},[u("section",{staticClass:"card-section statement"},[u("div",{staticClass:"search"},[u("base-calendar",{on:{input:function(t){return d.setFiltersToStorage("commission")}},model:{value:d.form.period,callback:function(t){d.$set(d.form,"period",t)},expression:"form.period"}},[d._v(" Buscar por período ")]),u("button",{staticClass:"button",on:{click:function(t){return d.loadStartingData()}}},[d._v(" Buscar ")])],1),u("section",{staticClass:"card-list"},[u("div",{staticClass:"is-card is-success"},[u("p",{staticClass:"is-semi-bold"},[d._v(" Recebido ")]),u("p",{staticClass:"font-ul is-bold"},[d.showReceived||0===(null===(t=d.list.payments[0])||void 0===t?void 0:t.value)?[d._v(" "+d._s(d._f("money")(null===(e=d.list.payments[0])||void 0===e?void 0:e.value))+" ")]:[d._v(" "+d._s("R$"+((null===(s=d.list.payments[0])||void 0===s?void 0:s.value)+"").replaceAll(/./g,"•"))+" ")]],2),0!==(null===(a=d.list.payments[0])||void 0===a?void 0:a.value)?u("button",{staticClass:"button",on:{click:function(t){return d.toggleValuesRequest("showReceived")}}},[d.showReceived?[u("i",{staticClass:"fas fa-eye-slash"}),d._v(" Esconder ")]:[u("i",{staticClass:"fas fa-eye"}),d._v(" Exibir ")]],2):d._e(),d.list.payments[0]?u("span",[u("ClockSVG"),d._v(" Atualizado em "+d._s(d.formattedDate(null===(o=d.list.payments[0])||void 0===o?void 0:o.updated_at))+" ")],1):d._e()]),u("div",{staticClass:"is-card is-info"},[u("p",{staticClass:"is-semi-bold"},[d._v(" À receber ")]),u("p",{staticClass:"font-ul is-bold"},[d.showToBeReceived||0===(null===(i=d.list.payments[1])||void 0===i?void 0:i.value)?[d._v(" "+d._s(d._f("money")(null===(n=d.list.payments[1])||void 0===n?void 0:n.value))+" ")]:[d._v(" "+d._s("R$"+((null===(r=d.list.payments[1])||void 0===r?void 0:r.value)+"").replaceAll(/./g,"•"))+" ")]],2),0!==(null===(l=d.list.payments[1])||void 0===l?void 0:l.value)?u("button",{staticClass:"button",on:{click:function(t){return d.toggleValuesRequest("showToBeReceived")}}},[d.showToBeReceived?[u("i",{staticClass:"fas fa-eye-slash"}),d._v(" Esconder ")]:[u("i",{staticClass:"fas fa-eye"}),d._v(" Exibir ")]],2):d._e(),d.list.payments[1]?u("span",[u("ClockSVG"),d._v(" Atualizado em "+d._s(d.formattedDate(null===(c=d.list.payments[1])||void 0===c?void 0:c.updated_at))+" ")],1):d._e()])])]),u("section",{staticClass:"card-section payments"},[u("div",{staticClass:"header"},[u("h2",{staticClass:"is-bold font-lg"},[d._v(" Pagamentos ")]),d.details.show?u("div",{staticClass:"actions"},[u("button",{staticClass:"button is-success",on:{click:d.loadStartingData}},[u("CloseIconSVG"),d._v(" Fechar ")],1)]):u("div",{staticClass:"actions"},[d.promoter_id?u("button",{staticClass:"button",on:{click:function(t){d.modal.details=!0}}},[d._v(" Dados de emissão ")]):d._e(),u("button",{staticClass:"button is-success",attrs:{disabled:d.dataIsEmpty},on:{click:d.exportReport}},[u("ExportIconSVG"),d._v(" Exportar CSV ")],1)])]),u("div",{staticClass:"content-view"},[d.dataIsEmpty?[u("div",{staticClass:"empty-state has-text-centered"},[u("img",{attrs:{src:d.notFound,alt:"not-found"}}),u("p",{staticClass:"is-bold"},[d._v(" Não encontramos nenhum resultado para essa solicitação. ")]),u("p",[d._v(" Certifique-se que os pagamentos foram realizados dentro do período vigente. ")])])]:[u("table",{staticClass:"table"},[d.details.show?u("thead",[u("tr",[u("th",{staticClass:"font-sm is-semi-bold"},[d._v(" Proposta ")]),u("th",{staticClass:"font-sm is-semi-bold"},[d._v(" Documento ")]),u("th",{staticClass:"font-sm is-semi-bold"},[d._v(" Nome ")]),u("th",{staticClass:"font-sm is-semi-bold"},[d._v(" Valor ")]),u("th",{staticClass:"font-sm is-semi-bold"},[d._v(" Comissão ")]),u("th",{staticClass:"font-sm is-semi-bold"},[d._v(" Comissão ")]),u("th",{staticClass:"font-sm is-semi-bold"},[d._v(" Tipo ")]),u("th",{staticClass:"font-sm is-semi-bold"},[d._v(" Responsável ")]),u("th",{staticClass:"font-sm is-semi-bold"},[d._v(" Produto ")]),u("th",{staticClass:"font-sm is-semi-bold"},[d._v(" Tabela ")]),u("th",{staticClass:"font-sm is-semi-bold"},[d._v(" Desembolsado em ")])])]):u("thead",[u("tr",[d.promoter_id?d._e():u("th",{staticClass:"font-sm is-semi-bold is-centered"},[d._v(" Qt. promotora ")]),u("th",{staticClass:"font-sm is-semi-bold"},[d._v(" Crédito ")]),u("th",{staticClass:"font-sm is-semi-bold"},[d._v(" Débito ")]),u("th",{staticClass:"font-sm is-semi-bold"},[d._v(" Saldo ")]),u("th",{staticClass:"font-sm is-semi-bold"},[d._v(" Criado em ")]),u("th",{staticClass:"font-sm is-semi-bold is-centered"},[d._v(" Ações ")])])]),u("tbody",d._l(d.data_table,(function(t,e){return u("tr",{key:e},[d.details.show?[u("td",{staticClass:"font-sm is-semi-bold"},[u("button",{key:t.proposal_id,staticClass:"button is-link",on:{click:function(e){return d.openProposals(t)}}},[d._v(" "+d._s(t.external_proposal_number)+" ")])]),u("td",{staticClass:"font-sm is-semi-bold"},[u("span",[d._v(d._s(t.document))])]),u("td",{staticClass:"font-sm is-semi-bold"},[u("span",[d._v(d._s(t.name))])]),u("td",{staticClass:"font-sm is-semi-bold"},[u("span",[d._v(d._s(d._f("money")(t[t.calculation_basis])))])]),u("td",{staticClass:"font-sm is-semi-bold"},[u("span",[d._v(d._s(d._f("money")(t.commission_amount)))])]),u("td",{staticClass:"font-sm is-semi-bold"},[u("span",[d._v(" "+d._s(d.percent({commission:t.commission_amount,value:t[t.calculation_basis]}))+"% "+d._s("amount"===t.calculation_basis?"da emissão":"net_amount"===t.calculation_basis?"do liberado":"error")+" ")])]),u("td",{staticClass:"font-sm is-semi-bold"},[u("span",[d._v(d._s(t.type))])]),u("td",{staticClass:"has-tooltip-arrow",attrs:{"data-tooltip":t.responsible_email}},[u("span",[d._v(d._s(t.responsible_name))])]),u("td",{staticClass:"font-sm is-semi-bold"},[u("span",[d._v(d._s(t.product_name))])]),u("td",{staticClass:"font-sm is-semi-bold"},[u("span",[d._v(d._s(t.rate_name))])]),d.details.show?u("td",[u("span",[d._v(d._s(d.formattedDate(t.loaned_at)))])]):d._e()]:[d.promoter_id?d._e():u("td",{staticClass:"is-centered"},[d._v(" "+d._s(t.promoters)+" ")]),u("td",{staticClass:"font-sm is-semi-bold"},[u("span",[d._v(d._s(d._f("money")(t.credit)))])]),u("td",{staticClass:"font-sm is-semi-bold",attrs:{"data-tooltip":t.obs}},[u("span",[d._v(d._s(d._f("money")(t.debit)))])]),u("td",{staticClass:"font-sm is-semi-bold"},[u("span",[d._v(d._s(d._f("money")(t.credit-t.debit)))])]),u("td",{staticClass:"font-sm is-semi-bold"},[u("span",[d._v(d._s(d.formattedDate(t.created_at)))])]),d.promoter_id?u("td",{staticClass:"is-centered"},[u("div",[u("button",{staticClass:"button",on:{click:function(e){return d.getCommissionByProposal(t.id)}}},[d._v(" Ver detalhes ")]),u("button",{staticClass:"button",on:{click:function(e){return d.downloadReceipt({id:t.external_key})}}},[d._v(" Baixar comprovante ")])])]):u("td",{staticClass:"is-centered"},[u("button",{staticClass:"button",on:{click:function(e){return d.loadDetails(t.created_at)}}},[d._v(" Ver mais ")])])]],2)})),0)])]],2),d.dataIsEmpty?d._e():u("div",[u("Pagination",{ref:"pagination-commission",attrs:{data:d.pagination.commission.data,"storage-key":d.pagination.commission.filterKey},on:{paginate:d.loadStartingData,mounted:function(t){return d.adjustGridRows("pagination-commission")}}})],1)]),d.modal.showPromoterModal?u("BaseSimpleModal",{attrs:{width:"90%","is-closable":!0},on:{close:function(t){d.modal.showPromoterModal=!1}},scopedSlots:d._u([{key:"title",fn:function(){return[u("div",{staticClass:"modal-header"},[u("h2",{staticClass:"is-bold font-lg"},[d._v(" Detalhamento por Promotora ")]),u("button",{staticClass:"button",on:{click:function(t){return d.getDetailedCommissionPaymentMasterReport(d.detailed_table_date,!0)}}},[u("ExportIconSVG"),d._v(" Exportar CSV ")],1)])]},proxy:!0},{key:"body",fn:function(){return[u("table",{staticClass:"table"},[u("thead",[u("tr",[u("th",{staticClass:"font-sm is-semi-bold"},[d._v(" Promotora ")]),u("th",{staticClass:"font-sm is-semi-bold"},[d._v(" Crédito ")]),u("th",{staticClass:"font-sm is-semi-bold"},[d._v(" Débito ")]),u("th",{staticClass:"font-sm is-semi-bold"},[d._v(" Saldo ")]),u("th",{staticClass:"font-sm is-semi-bold"},[d._v(" Criado em ")]),u("th",{staticClass:"font-sm is-semi-bold is-centered"},[d._v(" Ações ")])])]),u("tbody",d._l(d.detailed_table,(function(t){return u("tr",{key:t.promoter_id},[u("td",{staticClass:"font-sm is-semi-bold"},[d._v(" "+d._s(t.name)+" ")]),u("td",{staticClass:"font-sm is-semi-bold"},[d._v(" "+d._s(d._f("money")(t.credit))+" ")]),u("td",{staticClass:"font-sm is-semi-bold"},[d._v(" "+d._s(d._f("money")(t.debit))+" ")]),u("td",{staticClass:"font-sm is-semi-bold"},[d._v(" "+d._s(d._f("money")(t.credit-t.debit))+" ")]),u("td",{staticClass:"font-sm is-semi-bold"},[d._v(" "+d._s(d.formattedDate(t.created_at))+" ")]),u("td",{staticClass:"is-centered"},[u("button",{staticClass:"button",on:{click:function(e){return d.goToDetailedPromoter(t.promoter_id)}}},[d._v(" Ver detalhes ")])])])})),0)]),u("Pagination",{ref:"pagination-promoters",attrs:{data:d.pagination.promoters.data,"storage-key":d.pagination.promoters.filterKey},on:{paginate:d.loadStartingData,mounted:function(t){return d.adjustGridRows("pagination-promoters")}}})]},proxy:!0},{key:"actions",fn:function(){return[u("button",{staticClass:"button is-success",on:{click:function(t){d.modal.showPromoterModal=!1}}},[d._v(" Voltar ")])]},proxy:!0}],null,!1,303105984)}):d._e(),d.modal.details?u("ModalCommissionDetails",{attrs:{promoter:d.promoter_id},on:{close:function(t){d.modal.details=!1}}}):d._e(),d.modal.status&&1===d.supplierID&&"FGTS"===d.stateProposal.product_name?u("ModalProposalStatus",{attrs:{"refresh-proposal-data":""},on:{close:function(t){return d.closeModal("status")},receipt:t=>{d.receiptData=t,d.modal.status=!1,d.modal.receipt=!0}}}):d.modal.status&&1===d.supplierID?u("ModalProposalStatusINSS",{attrs:{"refresh-proposal-data":""},on:{close:function(t){return d.closeModal("status")},receipt:t=>{d.receiptData=t,d.modal.status=!1,d.modal.receipt=!0}}}):d._e(),d.modal.receipt&&1===d.supplierID?u("ModalProposalStatusReceipt",{attrs:{"receipt-data":d.receiptData},on:{close:function(t){return d.closeModal("receipt")},back:t=>{d.closeModal("receipt"),d.modal.status=!0}}}):d._e(),d.modal.status&&4===d.supplierID?u("ModalProposalStatusBMP",{attrs:{"refresh-proposal-data":""},on:{close:function(t){return d.closeModal("status")},receipt:t=>{d.receiptData=t,d.modal.status=!1,d.modal.receipt=!0}}}):d._e(),d.modal.receipt&&4===d.supplierID?u("ModalProposalStatusReceiptBMP",{attrs:{"receipt-data":d.receiptData},on:{close:function(t){return d.closeModal("receipt")},back:t=>{d.closeModal("receipt"),d.modal.status=!0}}}):d._e(),d.modal.status&&7===d.supplierID?u("ModalProposalStatusCartos",{attrs:{"refresh-proposal-data":""},on:{close:function(t){return d.closeModal("status")},receipt:t=>{d.receiptData=t,d.modal.status=!1,d.modal.receipt=!0}}}):d._e(),d.modal.receipt&&7===d.supplierID?u("ModalProposalStatusReceiptCartos",{attrs:{"receipt-data":d.receiptData},on:{close:function(t){return d.closeModal("receipt")},back:t=>{d.closeModal("receipt"),d.modal.status=!0}}}):d._e()],1)}),xa=[],Aa=s("3540"),Pa=function(){var t=this,e=t._self._c;return e("BaseModal",{attrs:{"message-error":t.message.error,"show-buttons":!1},on:{close:t.close},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Detalhes de Comissão ")]},proxy:!0},0===t.pageTab?{key:"body",fn:function(){return[e("div",{staticClass:"content-body"},[e("div",{staticClass:"filters"},[e("base-calendar",{attrs:{"custom-disabled-date":t.customDisabledDate},on:{change:t.clearData},model:{value:t.form.dateRange,callback:function(e){t.$set(t.form,"dateRange",e)},expression:"form.dateRange"}},[e("span",[t._v("Período")])]),e("div",[e("button",{staticClass:"button is-ghost",on:{click:function(e){return t.changeTab(1)}}},[e("span",[t._v(" Como emitir notas ")])]),e("button",{staticClass:"button is-link",on:{click:t.fetchTables}},[e("span",[t._v(" Buscar ")])])])],1),e("div",{staticClass:"tableHolder"},[e("table",{directives:[{name:"show",rawName:"v-show",value:t.tableDataIsLoaded,expression:"tableDataIsLoaded"}],staticClass:"table is-narrow"},[e("tr",[e("td"),t._l(t.tableData,(function(s,a){return e("th",{key:a,attrs:{scope:"col"}},[t._v(" "+t._s(t.formattedCaption(a))+" ")])}))],2),t._l(t.tableStructure.alias,(function(s,a){return e("tr",{key:a},[e("th",{attrs:{scope:"row"}},[t._v(" "+t._s(a)+" ")]),t._l(t.tableData,(function(a,o){return e("td",{key:o},[t._v(" "+t._s(t._f("money")(a[s]))+" ")])}))],2)}))],2)])])]},proxy:!0}:{key:"body",fn:function(){return[e("div",{staticClass:"receipt-detail"},[e("div",{staticClass:"actions"},[e("button",{staticClass:"button is-link",on:{click:function(e){return t.changeTab(0)}}},[e("span",[t._v(" voltar ")])])]),e("div",[e("h2",[e("em",[t._v("Tomador de serviço:")])]),e("p",[t._v("PRATA CAPITAL S.A - CNPJ n°46.884.774.0001/23")])]),e("div",[e("h2",[e("em",[t._v("Discriminação dos serviços:")])]),e("p",[t._v(" Serviços prestados de intermediação, serviços prestados de intermediação de negócios, promoção de vendas, correspondentes de instituições financeiras, atividades de cobrança e informações cadastrais. ")])]),e("div",[e("h2",[e("em",[t._v("O que deve ser entregue:")])]),e("p",[t._v(" Além da nota fiscal em PDF, por gentileza envie o arquivo digital da NF, o formato deste arquivo pode variar conforme a prefeitura. Poderá ser ser XML, CSV, TXT. ")])]),e("div",[e("BaseTooltip",{class:"tooltip--info",attrs:{"can-be-closed":!0},scopedSlots:t._u([{key:"tooltip-title",fn:function(){return[t._v(" Observação ")]},proxy:!0},{key:"tooltip-text",fn:function(){return[t._v(" Se for optando do Simples Nacional faça constar essa informação no corpo da nota fiscal. ")]},proxy:!0}])})],1)])]},proxy:!0}],null,!0)})},Da=[],Ta={name:"ModalCommissionDetails",components:{BaseModal:Zs["default"],BaseCalendar:te["a"],BaseTooltip:ee["default"]},mixins:[w["a"]],props:{promoter:{type:[String,Number],required:!0}},data:()=>({pageTab:0,form:{dateRange:[]},tableData:{},tableStructure:{alias:{"Produção":"production",Cashback:"cashback","Comissão":"commission","Valor para emissão da nota":"commission_cashback"}},message:{error:""}}),computed:{...Object(C["d"])({token:t=>t.app.logonToken}),tableDataIsLoaded(){return Object.keys(this.tableData).length>0},formattedDate(){let t=null;return this.form.dateRange.length>0&&(t={start_date:this.form.dateRange[0].split("/").reverse().join("-"),end_date:this.form.dateRange[1].split("/").reverse().join("-")}),t}},methods:{handlerError(t){var e,s,a,o,i,n,r,l,c,d,u,m;let p=(null===t||void 0===t||null===(e=t.response)||void 0===e||null===(s=e.data)||void 0===s||null===(a=s.error)||void 0===a?void 0:a.message)||(null===t||void 0===t||null===(o=t.error)||void 0===o||null===(i=o.response)||void 0===i||null===(n=i.data)||void 0===n||null===(r=n.error)||void 0===r?void 0:r.message)||(null===t||void 0===t||null===(l=t.error)||void 0===l||null===(c=l.data)||void 0===c?void 0:c.message)||(null===t||void 0===t?void 0:t.message)||t;if(null!==t&&void 0!==t&&null!==(d=t.response)&&void 0!==d&&null!==(u=d.data)&&void 0!==u&&null!==(m=u.error)&&void 0!==m&&m.errors){var h,v,f;const e=Object.values(null===t||void 0===t||null===(h=t.response)||void 0===h||null===(v=h.data)||void 0===v||null===(f=v.error)||void 0===f?void 0:f.errors);p=p.concat("<br> - "+e.map(t=>t).join("<br> - "))}this.$set(this.message,"error",p)},changeTab(t){this.pageTab=t},clearData(){this.tableData={}},close(){this.$emit("close")},customDisabledDate(t){const e=new Date("Jan 20, 2024 00:00:00"),s=new Date;return s.setDate(s.getDate()-1),e.setHours(24,0,0,0),e>t||t>s},formattedCaption(t){const e={last_month:"Último mês",current_month:"Mês atual",selected_period:"Período Selecionado",partial:"Parcial"};return e[t]},fetchTables(){const t=new st(this.token);this.loading=!0,this.tableData={},t.fetchPromoterProductionCashbackCommission(this.formattedDate,this.promoter).then(({data:t})=>{const e=["last_month","current_month","partial"];0===this.form.dateRange.length?e.forEach(e=>{this.$set(this.tableData,e,t[e])}):this.$set(this.tableData,"selected_period",t.selected_period)}).catch(t=>this.handlerError(t)).finally(()=>{this.loading=!1})}}},Ia=Ta,Ea=(s("e94a"),Object(I["a"])(Ia,Pa,Da,!1,null,"310b024b",null)),Oa=Ea.exports,Ma=s("7fc7"),Ra=s("bf62"),Ba=s("9cd6"),La=s("6a99"),Ua=s("9c04"),Na=function(){var t=this,e=t._self._c;return e("svg",{attrs:{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M8 5V8L10.25 10.25M14.75 8C14.75 11.7279 11.7279 14.75 8 14.75C4.27208 14.75 1.25 11.7279\n      1.25 8C1.25 4.27208 4.27208 1.25 8 1.25C11.7279 1.25 14.75 4.27208 14.75 8Z",stroke:"#78716C","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}})])},qa=[],Fa={name:"Clock"},ja=Fa,Va=Object(I["a"])(ja,Na,qa,!1,null,null,null),za=Va.exports,$a=function(){var t=this,e=t._self._c;return e("svg",{attrs:{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M1 11L11 1M1 1L11 11",stroke:"white","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}})])},Ha=[],Ga={name:"CloseIcon"},Qa=Ga,Ka=Object(I["a"])(Qa,$a,Ha,!1,null,null,null),Ja=Ka.exports,Wa=function(){var t=this,e=t._self._c;return e("svg",{attrs:{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M1.33325 11.3332L1.33325 12.1665C1.33325 13.5472 2.45254 14.6665 3.83325 14.6665L12.1666\n      14.6665C13.5473 14.6665 14.6666 13.5472 14.6666 12.1665L14.6666 11.3332M11.3333\n      4.6665L7.99992 1.33317M7.99992 1.33317L4.66658 4.6665M7.99992 1.33317L7.99992 11.3332","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}})])},Ya=[],Za={name:"ExportIcon"},Xa=Za,to=Object(I["a"])(Xa,Wa,Ya,!1,null,null,null),eo=to.exports,so={name:"CommissionList",components:{Layout:Xt,BaseCalendar:te["a"],BaseSimpleModal:qt["default"],Pagination:Ls["default"],ModalCommissionDetails:Oa,ModalProposalStatusReceipt:Ba["default"],ModalProposalStatusBMP:La["default"],ModalProposalStatusReceiptBMP:Ua["default"],ModalProposalStatus:Ma["default"],ModalProposalStatusINSS:Ra["default"],ClockSVG:za,CloseIconSVG:Ja,ExportIconSVG:eo},mixins:[Aa["a"],w["a"]],data:()=>({meta:{title:"Comissões"},message:{error:"",timeout:null},data_table:[],detailed_table:[],detailed_table_date:"",form:{period:[]},details:{show:!1},pagination:{commission:{data:{},filterKey:"commission"},promoters:{data:{},filterKey:"promoters-payment"}},modal:{showPromoterModal:!1,details:!1,status:!1,receipt:!1},currentID:null,list:{payments:[]},receiptData:!1,showReceived:!1,showToBeReceived:!1,notFound:Je.a}),computed:{...Object(C["d"])({user:t=>t.user.userInfo,token:t=>t.app.logonToken,stateProposal:t=>t.proposal.proposal}),dataIsArray(){return Array.isArray(this.data_table)},dataHasContent(){return this.dataIsArray&&this.data_table.length>0},dataIsEmpty(){return!this.dataIsArray||!this.dataHasContent},promoter_id(){var t,e;return null!==(t=null!==(e=this.$route.params.id)&&void 0!==e?e:this.user.promoter_id)&&void 0!==t?t:null},supplierID(){return this.stateProposal.supplier_id}},watch:{"$route.params":"loadStartingData"},mounted(){this.loadStartingData()},beforeDestroy(){this.setProposalData({}),this.setFiltersToStorage("commission")},methods:{...Object(C["b"])({setProposalData:"proposal/SET_PROPOSAL_DATA"}),goToDetailedPromoter(t){this.$router.push({name:"promoters-commission-details",params:{id:t}}),this.modal.showPromoterModal=!1},handlerError(t){var e,s,a,o,i,n,r,l,c,d,u,m;let p=(null===t||void 0===t||null===(e=t.response)||void 0===e||null===(s=e.data)||void 0===s||null===(a=s.error)||void 0===a?void 0:a.message)||(null===t||void 0===t||null===(o=t.error)||void 0===o||null===(i=o.response)||void 0===i||null===(n=i.data)||void 0===n||null===(r=n.error)||void 0===r?void 0:r.message)||(null===t||void 0===t||null===(l=t.error)||void 0===l||null===(c=l.data)||void 0===c?void 0:c.message)||(null===t||void 0===t?void 0:t.message)||t;if(null!==t&&void 0!==t&&null!==(d=t.response)&&void 0!==d&&null!==(u=d.data)&&void 0!==u&&null!==(m=u.error)&&void 0!==m&&m.errors){var h,v,f;const e=Object.values(null===t||void 0===t||null===(h=t.response)||void 0===h||null===(v=h.data)||void 0===v||null===(f=v.error)||void 0===f?void 0:f.errors);p=p.concat("<br> - "+e.map(t=>t).join("<br> - "))}this.$set(this.message,"error",p)},formattedDate(t){const e={second:"2-digit",minute:"2-digit",hour:"2-digit",timeZone:"America/Sao_Paulo"};return new Date(t).toLocaleDateString("pt-br",e)},toggleValueShow(t){return null===t||void 0===t?void 0:t.replaceAll(/./,"•")},adjustGridRows(t){const e=this.$refs[t].$el,s=e.querySelector(".pagination-list"),a=this.getComputedStyle(e,"padding-top"),{clientHeight:o}=s,i=o+2*a,n=this.getComputedStyle(document.documentElement,"--footer-height");n!==i&&document.documentElement.style.setProperty("--footer-height",i+"px")},getComputedStyle(t,e){return parseInt(getComputedStyle(t).getPropertyValue(e),10)},percent({commission:t,value:e}){return(t/e*100).toFixed(2)},async toggleValuesRequest(t){this[t]||0!==this.list.payments.length||await this.getCommissionPaymentReport(),this[t]=!this[t]},async setFiltersToStorage(t){var e,s,a;let o=await JSON.parse(sessionStorage.getItem(t));null!==(e=o)&&void 0!==e&&e.page&&delete o.page,o={...o,begin_date:null===(s=this.form.period[0])||void 0===s?void 0:s.split("/").reverse().join("-"),end_date:null===(a=this.form.period[1])||void 0===a?void 0:a.split("/").reverse().join("-")},o=Object.keys(o).reduce((t,e)=>(o[e]&&(t[e]=o[e]),t),{}),sessionStorage.setItem(t,JSON.stringify(o))},exportReport(){this.promoter_id?this.getCommission(!0):this.getCommissionPaymentMasterReport(!0)},async loadStartingData(){this.list.payments=[],this.showReceived=!1,this.showToBeReceived=!1,this.details.show=!1,this.promoter_id?await this.getCommission():await this.getCommissionPaymentMasterReport()},loadDetails(t){this.detailed_table_date=t,this.getDetailedCommissionPaymentMasterReport(t),this.modal.showPromoterModal=!0},openProposals(t){this.setProposalData(t),this.modal.status=!0},closeModal(t){this.modal[t]=!1},async getCommissionPaymentMasterReport(t){const e=new Hs(this.token);let s={};this.loading=!0,this.data_table=[],s={...await JSON.parse(sessionStorage.getItem("commission"))},t&&(s.output="csv"),await e.getCommissionPaymentMasterReport({params:s}).then(e=>{if(t){const t=new Blob(["\ufeff"+e.data],{type:"text/csv;charset=utf-8"}),s=window.URL.createObjectURL(t),a=document.createElement("a");a.href=s,a.setAttribute("download",(this.currentID?"promotoras-":"")+"comissoes.csv"),document.body.appendChild(a),a.click(),document.body.removeChild(a)}else this.data_table=e.data.data.data,this.pagination.commission.data=e.data.data}).finally(()=>{this.loading=!1})},async getDetailedCommissionPaymentMasterReport(t,e){this.loading=!0;const s=new Hs(this.token),a=new Date(t).toISOString().split("T")[0],o={date:a};e&&(o.output="csv"),await s.getDetailedCommissionPaymentMasterReport({params:o}).then(t=>{if(e){const e=new Blob(["\ufeff"+t.data],{type:"text/csv;charset=utf-8"}),s=window.URL.createObjectURL(e),a=document.createElement("a");a.href=s,a.setAttribute("download",(this.currentID?"promotoras-":"")+"comissoes.csv"),document.body.appendChild(a),a.click(),document.body.removeChild(a)}else this.detailed_table=t.data.data.data,this.pagination.promoters.data=t.data.data}).finally(()=>{this.loading=!1})},async getCommission(t){const e=new Hs(this.token);let s={};this.loading=!0,this.data_table=[],s={...await JSON.parse(sessionStorage.getItem("commission"))},this.promoter_id&&(s.promoter_id=this.promoter_id),t&&(s.output="csv"),await e.getCommission({params:s}).then(e=>{if(t){const t=new Blob(["\ufeff"+e.data],{type:"text/csv;charset=utf-8"}),s=window.URL.createObjectURL(t),a=document.createElement("a");a.href=s,a.setAttribute("download",(this.currentID?"promotoras-":"")+"comissoes.csv"),document.body.appendChild(a),a.click(),document.body.removeChild(a)}else this.pagination.commission.data=e.data.data,this.data_table=e.data.data.data}).catch(t=>this.handlerError(t)).finally(()=>{this.loading=!1})},async getCommissionByProposal(t){const e=new Hs(this.token),s={promoter_id:this.promoter_id};this.loading=!0,this.currentID=t,this.data_table=[],await e.getCommissionByProposal({id:t,params:s}).then(({data:t})=>{this.details.show=!0,this.data_table=t.data}).catch(t=>this.handlerError(t)).finally(()=>{this.loading=!1,this.details.show=!0})},async getCommissionPaymentReport(){const t=new Hs(this.token);let e={};e={...await JSON.parse(sessionStorage.getItem("commission"))},this.promoter_id&&(e.promoter_id=this.promoter_id),this.loading=!0,await t.getCommissionPaymentReport({params:e}).then(({data:t})=>{this.$set(this.list,"payments",[{title:"Recebido",value:t.data.paid_amount,updated_at:t.meta.datetime},{title:"Valor à Receber",value:t.data.pending_amount,updated_at:t.meta.datetime}])}).catch(t=>this.handlerError(t)).finally(()=>{this.loading=!1})},async downloadReceipt({id:t}){const e=new Hs(this.token);this.loading=!0,await e.getCommissionReceipt({id:t}).then(({data:t})=>{const e=document.createElement("a");e.href="data:application/pdf;base64,"+t.data.pdf_encoded_string,e.setAttribute("download","comprovante.pdf"),document.body.appendChild(e),e.click(),document.body.removeChild(e)}).catch(t=>this.handlerError(t)).finally(()=>{this.loading=!1})}},metaInfo(){return j.meta(this.meta)}},ao=so,oo=(s("e38d"),Object(I["a"])(ao,Sa,xa,!1,null,"5f90ff8d",null)),io=oo.exports;const no="promoters",ro="/promotores";var lo=[{name:no+"-commission",path:ro+"/comissoes",component:io},{name:no+"-commission-details",path:ro+"/comissoes/:id",component:io,props:!0},{name:no+"-goals",path:ro+"/metas",component:ka,props:!0},{name:no+"-goals-edit",path:ro+"/metas/:id",component:ka,props:!0},{name:no+"-bonds",path:ro+"/indicadas",component:va,props:!0,beforeEnter:(t,e,s)=>{t.params.promoterId&&t.params.promoterName?s():s({name:no})}},{name:no,path:ro,component:Fs,props:!0},{name:no+"-edit",path:ro+"/:id",component:ca,props:!0},{path:"/usuarios/promotores/:id",redirect:ro+"/:id"},{path:"/comissoes",redirect:ro+"/comissoes"},{path:"/comissoes/:id",redirect:ro+"/comissoes/:id"},{path:"/metas",redirect:ro+"/metas"},{path:"/metas/:id",redirect:ro+"/metas/:id"}],co=function(){var t=this,e=t._self._c;return e("Layout",{attrs:{title:t.meta.title,"max-width":"100%","is-card":""}},[e("div",{staticClass:"columns"},[e("div",{staticClass:"column"},[e("h3",{staticClass:"is-size-4"},[t._v(" "+t._s(t.title)+" ")])]),e("div",{staticClass:"column is-narrow actions"},[t.canDeactivateUsers?e("div",{staticClass:"button is-danger",on:{click:function(e){t.modal.confirmDeactivation=!t.modal.confirmDeactivation}}},[e("span",[t._v("Desativar usuários")])]):t._e(),t.isAdminGroup||t.isAccessManager?e("router-link",{key:"add",staticClass:"button is-link",attrs:{to:t.addRoute}},[e("span",[t._v("Adicionar")]),e("span",{staticClass:"icon"},[e("i",{staticClass:"fas fa-user-plus"})])]):t._e()],1)]),e("the-error",{attrs:{message:t.message.text,type:t.message.type}}),e("div",{staticClass:"typist__content"},[e("div",{staticClass:"typist__content--header mb-5"},[e("div",{staticClass:"columns",staticStyle:{"align-items":"flex-end"}},[e("div",{staticClass:"column"},[e("base-input",{staticClass:"mb-0",attrs:{type:"text",maxlength:"225",placeholder:"Usuário"},model:{value:t.filter.user,callback:function(e){t.$set(t.filter,"user",e)},expression:"filter.user"}},[t._v(" Filtrar ")])],1),e("div",{staticClass:"column is-narrow"},[e("button",{staticClass:"button is-link",on:{click:t.searchTypistBy}},[e("span",[t._v(" Buscar ")]),e("span",{staticClass:"icon is-small"},[e("i",{staticClass:"fas fa-search"})])])]),t.list.responsible.length?e("div",{staticClass:"column is-narrow"},[e("button",{staticClass:"button is-link is-outlined",on:{click:t.searchResponsibleCSV}},[e("span",[t._v(" CSV ")]),e("span",{staticClass:"icon is-small"},[e("i",{staticClass:"fas fa-download"})])])]):t._e()]),e("div",{staticClass:"columns"},[e("div",{staticClass:"column is-flex is-align-items-center"},[e("base-switch",{staticClass:"m-0",on:{change:function(e){t.filter.analysis_pending=!1,t.searchTypistBy()}},model:{value:t.filter.antifraud_pending,callback:function(e){t.$set(t.filter,"antifraud_pending",e)},expression:"filter.antifraud_pending"}},[e("span",[t._v("Pendentes")])]),e("base-switch",{staticClass:"ml-3",on:{change:function(e){t.filter.antifraud_pending=!1,t.searchTypistBy()}},model:{value:t.filter.analysis_pending,callback:function(e){t.$set(t.filter,"analysis_pending",e)},expression:"filter.analysis_pending"}},[e("span",[t._v("Em análise")])])],1)])]),e("div",{staticClass:"typist__content--body"},[e("table",{staticClass:"table is-narrow is-fullwidth"},[e("thead",{staticClass:"sticky"},[e("tr",[e("th",[t._v("Ações")]),e("th",[t._v("Usuário")]),e("th",[t._v("E-mail")]),e("th",[t._v("Descrição")]),e("th",[t._v("Coordenador")]),e("th",[t._v("Status")]),e("th",[t._v("Criado em")])])]),e("tbody",[t._l(t.list.responsible,(function(s,a){return e("tr",{key:a},[e("td",{staticClass:"is-narrow"},[t.canSeeAntifraud?e("button",{staticClass:"button is-ghost",attrs:{title:"Comprovação por foto"},on:{click:function(e){return t.openValidation(s)}}},[e("i",{staticClass:"fas fa-shield-alt"})]):t._e(),t.promoterID&&(t.canEditUser||t.isCommercial)?e("router-link",{key:"list-user-by-promoter",staticClass:"button is-ghost",attrs:{to:{name:"typist-edit",params:{id:s.account_id,promoter_id:t.promoterID,promoter_name:t.promoterName}}}},[e("i",{staticClass:"fas fa-pen"})]):t.canEditUser||t.isCommercial?e("router-link",{key:"list-all-users",staticClass:"button is-ghost",attrs:{to:{name:"typist-edit",params:{id:s.account_id}}}},[e("i",{staticClass:"fas fa-pen"})]):t._e(),t.canUpload?e("button",{staticClass:"button is-ghost",attrs:{title:"Upload de Documentos"},on:{click:function(e){return t.openUpload(s)}}},[e("i",{staticClass:"fas fa-file-upload"})]):t._e()],1),e("td",{staticClass:"ellipsis has-tooltip-arrow",attrs:{"data-tooltip":`${s.name} - ${s.promoter_name}`}},[e("span",[t._v(t._s(s.name))])]),e("td",[e("span",[t._v(t._s(s.email))])]),e("td",[e("span",[t._v(t._s(s.role_description))])]),e("td",{staticClass:"ellipsis has-tooltip-arrow",attrs:{"data-tooltip":s.coordinator}},[e("span",[t._v(t._s(s.coordinator||"---"))])]),e("td",[e("span",[t._v(t._s(s.active?"Ativo":"Inativo"))])]),e("td",[e("span",[t._v(t._s(t._f("truncate")(s.registered_at,10,"")))])])])})),t.list.responsible.length?t._e():e("tr",[e("td",{attrs:{colspan:"5"}},[e("div",{staticClass:"column is-italic is-flex is-align-items-center is-fullwidth"},[e("div",[e("span",[t._v("Sem resultados, realize uma busca")])])])])])],2)])])]),e("Pagination",{ref:"pagination",attrs:{"storage-key":t.pagination.filterKey,data:t.pagination.data},on:{paginate:t.paginate}}),t.modal.antifraud?e("ModalAntiFraudCorban",{attrs:{data:t.modal.data},on:{close:function(e){return t.openValidation(null,!1)}}}):t._e(),t.modal.upload?e("ModalData",{attrs:{"steps-list":new Set(["upload"]),data:t.modal.data,"is-corban":""},on:{close:function(e){return t.openUpload(null,!1)}}}):t._e(),t.modal.confirmDeactivation?e("BaseModal",{attrs:{"show-buttons":!0,"button-two-text":"Cancelar","button-one-text":"Desativar Usuários"},on:{close:t.closeConfirmationModal,"button-2":t.closeConfirmationModal,"button-1":t.deactivateAllUsers},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Confirmar Desativação ")]},proxy:!0},{key:"body",fn:function(){return[t._v(" Ao confirmar a desativação, todos os usuários dessa promotora será desativado. Você deseja continuar? ")]},proxy:!0}],null,!1,3283045738)}):t._e()],1)},uo=[],mo={name:"TypistList",components:{Layout:Xt,Pagination:Ls["default"],BaseModal:Zs["default"],ModalAntiFraudCorban:()=>s.e("chunk-071ac97c").then(s.bind(null,"f411")),BaseSwitch:()=>Promise.resolve().then(s.bind(null,"f83b")),BaseInput:()=>Promise.resolve().then(s.bind(null,"b3b3")),ModalData:()=>Promise.resolve().then(s.bind(null,"4c23")),TheError:()=>Promise.resolve().then(s.bind(null,"c6f5"))},mixins:[Y,w["a"],X["a"]],props:{promoter_id:{type:[String,Number],default:"",required:!1},promoter_name:{type:String,default:"",required:!1}},data:()=>({meta:{title:"Digitadores"},message:{text:"",type:""},list:{responsible:[]},filter:{user:"",antifraud_pending:!1,analysis_pending:!1},pagination:{data:{},filterKey:"responsible"},modal:{antifraud:!1,upload:!1,confirmDeactivation:!1,data:null}}),computed:{...Object(C["d"])({user:t=>t.user.userInfo,token:t=>t.app.logonToken,storePromoterName:t=>t.typist.promoter_name}),title(){return this.promoterName?"Usuários da promotora "+this.promoterName:"Usuários"},promoterID(){const{promoter_id:t}=this.getFiltersFromStorage()||{};return this.promoter_id||this.user.promoter_id||t},promoterName(){return this.promoter_name||this.storePromoterName},isAdminGroup(){return[this.isAdmin,this.isManager,this.isSuper,this.isMasterOrFinancial,this.isCommercial,this.isCoordenador].some(t=>t)},canEditUser(){return[this.isAdmin,this.isSuper,this.isMasterOrFinancial,this.isAccessManager].some(t=>t)},canDeactivateUsers(){return[this.isAdmin,this.isSuper].some(t=>t)},canSeeAntifraud(){return[this.isAdmin,this.isManager,this.isMasterOrFinancial,this.isAntifraud,this.isSuper,this.isCoordenador].some(t=>t)},canUpload(){return[this.isAdmin,this.isSuper,this.isMasterOrFinancial].some(t=>t)},addRoute(){return this.promoterID?{name:"typist-edit",params:{id:"null",promoter_id:this.promoterID,promoter_name:this.promoterName}}:"/usuarios/digitadores/null"}},watch:{"filter.user":{handler(t,e){""===t&&""!==e&&this.paginate()}}},async mounted(){await this.loadData()},beforeDestroy(){sessionStorage.removeItem(this.pagination.filterKey)},methods:{async loadData(){(!this.promoter_id&&this.user.promoter_id||null===this.user.promoter_id)&&sessionStorage.removeItem(this.pagination.filterKey);const t=this.filter.user,e=this.filter.antifraud_pending,s=this.filter.analysis_pending,a=!!this.promoterID;t||e||s?await this.searchTypistBy():a&&await this.paginate()},setMessage(t,e="danger"){"reset"===t?(this.message.text="",this.message.type=""):(this.message.text=t,this.message.type=e)},handlerError(t){var e,s,a,o,i,n,r,l,c,d;let u=(null===t||void 0===t||null===(e=t.response)||void 0===e||null===(s=e.data)||void 0===s||null===(a=s.error)||void 0===a?void 0:a.message)||(null===t||void 0===t||null===(o=t.error)||void 0===o||null===(i=o.response)||void 0===i||null===(n=i.data)||void 0===n||null===(r=n.error)||void 0===r?void 0:r.message)||(null===t||void 0===t?void 0:t.message)||t;if(null!==t&&void 0!==t&&null!==(l=t.response)&&void 0!==l&&null!==(c=l.data)&&void 0!==c&&null!==(d=c.error)&&void 0!==d&&d.errors){var m,p,h;const e=Object.values(null===t||void 0===t||null===(m=t.response)||void 0===m||null===(p=m.data)||void 0===p||null===(h=p.error)||void 0===h?void 0:h.errors);u=u.concat("<br> - "+e.map(t=>t).join("<br> - "))}this.setMessage(u)},formatDate(t){return t.split("-").reverse().join("/")},getFiltersFromStorage(){let t=sessionStorage.getItem(this.pagination.filterKey);return t?(t=JSON.parse(t),t):null},downloadCSV(t){const e=new Blob([t],{type:"text/csv;charset=utf-8;"}),s=window.URL.createObjectURL(e),a=document.createElement("a");a.setAttribute("href",s),a.setAttribute("download","lista_usuários.csv"),a.click()},async openValidation(t,e=!0){this.modal.antifraud=e,this.modal.data=t,!1===this.modal.antifraud&&await this.loadData()},openUpload(t,e=!0){this.modal.upload=e,this.modal.data=t},closeConfirmationModal(){this.modal.confirmDeactivation=!1},async deactivateAllUsers(){const t=new k["a"](this.token);this.loading=!0,await t.deactiveAllUsers(this.promoterID).then(()=>{Object(ke["toast"])({message:"Usuários inativados com sucesso",type:"is-success",dismissible:!0,pauseOnHover:!0,animate:{in:"fadeIn",out:"fadeOut"},position:"top-center",closeOnClick:!0}),this.loadData(this.$route)}).catch(()=>{Object(ke["toast"])({message:"Não foi possível inativar os usuários",type:"is-danger",dismissible:!0,pauseOnHover:!0,animate:{in:"fadeIn",out:"fadeOut"},position:"top-center",closeOnClick:!0})}).finally(()=>{this.loading=!1})},searchTypistBy(){const{antifraud_pending:t,analysis_pending:e,user:s}=this.filter,a={...this.promoterID?{promoter_id:this.promoterID}:"",...s?{search:s}:"",...t?{antifraud_pending:t}:"",...e?{analysis_pending:e}:""},o=new k["a"](this.token);this.setMessage("reset"),clearTimeout(this.timeout.responsible),this.timeout.responsible=setTimeout(async()=>{this.loading=!0,await o.searchResponsible({...a}).then(({data:t})=>{this.pagination.data=t.data,this.list.responsible=[];for(const e of t.data.data)this.list.responsible.push(e)}).catch(t=>this.handlerError(t)).finally(()=>{this.loading=!1})},350)},async paginate(){const t=new k["a"](this.token),{user:e}=this.filter,s=await this.getFiltersFromStorage(),a=this.promoterID;this.loading=!0,this.setMessage("reset"),await t.searchResponsible({...s,promoter_id:a,search:e}).then(({data:t})=>{this.pagination.data=t.data,this.list.responsible=[];for(const e of t.data.data)this.list.responsible.push(e)}).catch(t=>this.handlerError(t)).finally(()=>{this.loading=!1})},async searchResponsibleCSV(){const t=new k["a"](this.token);this.loading=!0;const{antifraud_pending:e,analysis_pending:s,user:a}=this.filter,o={...this.promoterID?{promoter_id:this.promoterID}:"",...a?{search:a}:"",...e?{antifraud_pending:e}:"",...s?{analysis_pending:s}:""};await t.searchResponsibleCSV({...o}).then(({data:t})=>{this.downloadCSV(t)}).catch(t=>this.handlerError(t)).finally(()=>{this.loading=!1})}},metaInfo(){return j.meta(this.meta)}},po=mo,ho=(s("9b74"),Object(I["a"])(po,co,uo,!1,null,"ba4c4a40",null)),vo=ho.exports,fo=function(){var t=this,e=t._self._c;return e("Layout",{attrs:{title:t.meta.title,"max-width":"100%","is-card":""}},[e("div",{staticClass:"columns"},[e("div",{staticClass:"column"},[e("h3",{staticClass:"is-size-4"},[t._v(" "+t._s(t.title)+" ")])]),e("div",{staticClass:"column is-narrow actions"},[e("router-link",{key:"cancel",staticClass:"button is-link",attrs:{to:t.backTo}},[e("span",[t._v("Voltar")]),e("span",{staticClass:"icon"},[e("i",{staticClass:"fas fa-reply"})])])],1)]),e("the-error",{attrs:{message:t.message.text,type:t.message.type}}),t.minifiedSubmittedData.document||t.hasID&&t.isAdminGroup||t.hasID&&t.isAccessManager?e("fieldset",{staticClass:"validate-field"},[e("legend",[t._v("Links de validação")]),e("div",{staticClass:"antifraud-area"},[e("div",[e("p",[e("span",[t._v("Usuário: ")]),t._v(t._s(t.minifiedSubmittedData.name))]),e("p",[e("span",[t._v("CPF: ")]),t._v(t._s(t.minifiedSubmittedData.document))])]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.showQRCode,expression:"showQRCode"}]},[e("canvas",{ref:"qrcode",staticClass:"qrcode__canvas"})]),e("div",[e("button",{staticClass:"antifraud__link button is-ghost",on:{click:t.genQRCode}},[e("span",[t._v("Gerar QR Code")]),e("span",{staticClass:"icon"},[e("i",{staticClass:"fas fa-qrcode"})])]),e("a",{staticClass:"antifraud__link button is-ghost",on:{click:t.copy}},[e("span",[t._v("Copiar link")]),e("span",{staticClass:"icon"},[e("i",{staticClass:"fas fa-copy"})]),e("input",{ref:"validation-link",attrs:{type:"hidden"},domProps:{value:t.validationLink}})])])])]):t._e(),e("v-validate-observer",{scopedSlots:t._u([{key:"default",fn:function({handleSubmit:s,reset:a}){return[e("form",{ref:"form",staticClass:"documents",attrs:{autocomplete:"off"},on:{keydown:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;e.preventDefault()},submit:function(e){return e.preventDefault(),s(t.submit)},reset:function(t){return t.preventDefault(),a.apply(null,arguments)}}},[t.isAdminGroup?[e("fieldset",[e("legend",[t._v("Operacional")]),t.hasID||t.promoterID?e("base-input",{staticClass:"mb-0",attrs:{value:t.promoterName,disabled:""}},[e("span",[t._v("Promotor")])]):e("v-validate",{attrs:{rules:"required",name:"Promotor"},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("base-select",{key:"promoters",attrs:{"error-message":s[0],options:t.list.promoters,searching:t.searching["promoter"],"can-filter":"","has-api-search":""},on:{search:function(e){return t.handlePromotersSearch(e,"promoter")}},model:{value:t.form.promoter_id,callback:function(e){t.$set(t.form,"promoter_id",e)},expression:"form.promoter_id"}},[e("span",[t._v("Promotor")])])]}}],null,!0)}),t.hasID&&t.form.coordinator?e("base-input",{staticClass:"mb-0",attrs:{value:t.form.coordinator,disabled:""}},[e("span",[t._v("Coordenador")])]):t._e(),e("v-validate",{attrs:{rules:"required",name:"Atribuição"},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("base-select",{attrs:{"error-message":s[0],options:t.rolesList},model:{value:t.form.role_id,callback:function(e){t.$set(t.form,"role_id",e)},expression:"form.role_id"}},[t._v(" Atribuição ")])]}}],null,!0)}),16===parseInt(t.form.role_id,10)?[e("base-select",{staticClass:"mb-0",attrs:{options:t.list.typists,searching:t.searching["collab"],info:t.typistAlert,placeholder:"Digite um nome ou um e-mail","can-multiselect":"","can-filter":"","has-api-search":""},on:{search:function(e){return t.handleTypistsSearch(e,{promoter_id:t.promoterID},"collab")}},model:{value:t.form.typists,callback:function(e){t.$set(t.form,"typists",e)},expression:"form.typists"}},[e("span",[t._v("Atribuir digitador *")])])]:t._e()],2)]:t._e(),t.hasID&&t.enableField?e("fieldset",[e("legend",[t._v("Ativação")]),e("p",{staticClass:"mb-3"},[t._v(" Use este recurso para ativar ou desativar um usuário. Usuário atualmente está: ")]),e("span",[null!==t.form.active?e("base-switch",{staticClass:"mb-0",attrs:{disabled:!!t.form.blocked_reactivation},on:{change:t.handleSwitch},model:{value:t.form.active,callback:function(e){t.$set(t.form,"active",e)},expression:"form.active"}},[e("span",[t._v("Status "+t._s(t.form.active?"Ativo":"Inativo"))])]):t._e(),t.form.blocked_reactivation?e("small",{staticClass:"blocked-reactivation__text"},[e("i",[t._v("O usuário precisa concluir a formalização antes de ser reativado.")])]):t._e()],1)]):t._e(),e("fieldset",[e("legend",[t._v("Dados básicos")]),e("v-validate",{attrs:{rules:"required|space|min:10",name:"Nome"},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("base-input",{attrs:{"error-message":s[0],type:"text",maxlength:"225",disabled:t.shouldDisableInput&&!t.canEditUserData},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}},[t._v(" Nome ")])]}}],null,!0)}),e("v-validate",{attrs:{rules:"required|email",name:"E-mail"},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("base-input",{attrs:{"error-message":s[0],type:"email",maxlength:"225",disabled:t.shouldDisableInput},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}},[t._v(" E-mail ")])]}}],null,!0)}),e("v-validate",{attrs:{rules:"required|min:14|max:15",name:"Celular"},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("base-input",{attrs:{"error-message":s[0],type:"tel",maxlength:"15",mask:"tel",disabled:t.shouldDisableInput},model:{value:t.form.phone,callback:function(e){t.$set(t.form,"phone",e)},expression:"form.phone"}},[t._v(" Celular ")])]}}],null,!0)}),e("v-validate",{attrs:{rules:"required|date",name:"Data de nascimento"},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("base-input",{attrs:{"error-message":s[0],type:"tel",maxlength:"10",mask:"date",disabled:t.shouldDisableInput},model:{value:t.form.birthdate,callback:function(e){t.$set(t.form,"birthdate",e)},expression:"form.birthdate"}},[t._v(" Data de nascimento ")])]}}],null,!0)}),e("v-validate",{attrs:{rules:"required|length:14|CPF",name:"CPF"},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("base-input",{attrs:{"error-message":s[0],type:"tel",maxlength:"15",mask:"cpf",disabled:t.shouldDisableInput},model:{value:t.form.document,callback:function(e){t.$set(t.form,"document",e)},expression:"form.document"}},[t._v(" CPF ")])]}}],null,!0)}),e("v-validate",{attrs:{rules:"required",name:"Gênero"},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("base-select",{attrs:{"error-message":s[0],options:t.list.genders,disabled:t.shouldDisableInput},model:{value:t.form.gender,callback:function(e){t.$set(t.form,"gender",e)},expression:"form.gender"}},[t._v(" Gênero ")])]}}],null,!0)}),e("v-validate",{staticClass:"password",attrs:{rules:t.inputRules,name:"Senha"},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("div",{staticClass:"columns"},[e("base-input",{staticClass:"column",attrs:{type:t.password_review[0]?"text":"password",autocomplete:"new-password",disabled:t.shouldDisableInput&&!t.canEditUserData},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}},[t._v(" Senha ")]),e("button",{staticClass:"button column is-1 is-link",on:{click:function(e){e.preventDefault(),t.password_review[0]=!t.password_review[0]}}},[e("span",{staticClass:"icon"},[e("i",{staticClass:"fas",class:[t.password_review[0]?"fa-eye-slash":"fa-eye"]})])])],1),s[0]?e("div",{staticClass:"error-message"},[e("small",{staticClass:"has-text-danger"},[t._v(t._s(s[0]))])]):t._e()]}}],null,!0)}),e("v-validate",{staticClass:"password",attrs:{rules:t.inputRules,name:"Confirmação"},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("div",{staticClass:"columns"},[e("base-input",{staticClass:"column",attrs:{type:t.password_review[1]?"text":"password",autocomplete:"new-password",disabled:t.shouldDisableInput&&!t.canEditUserData},model:{value:t.form.password_confirmation,callback:function(e){t.$set(t.form,"password_confirmation",e)},expression:"form.password_confirmation"}},[t._v(" Confirmar senha ")]),e("button",{staticClass:"button column is-1 is-link",on:{click:function(e){e.preventDefault(),t.password_review[1]=!t.password_review[1]}}},[e("span",{staticClass:"icon"},[e("i",{staticClass:"fas",class:[t.password_review[1]?"fa-eye-slash":"fa-eye"]})])])],1),s[0]?e("div",{staticClass:"error-message"},[e("small",{staticClass:"has-text-danger"},[t._v(t._s(s[0]))])]):t._e()]}}],null,!0)})],1),e("hr"),e("div",{staticClass:"columns"},[e("div",{staticClass:"column"},[e("router-link",{staticClass:"button is-danger",attrs:{to:t.backTo}},[e("span",[t._v("Cancelar")]),e("span",{staticClass:"icon"},[e("i",{staticClass:"fas fa-undo-alt"})])])],1),e("div",{staticClass:"column is-narrow"},[e("button",{staticClass:"button is-link",attrs:{type:"submit"}},[e("span",[t._v("Salvar")]),e("span",{staticClass:"icon"},[e("i",{staticClass:"fas fa-save"})])])])])],2)]}}])})],1)},bo=[],_o=s("25b7"),go=s.n(_o),Co=s("d055"),yo=s.n(Co),wo={name:"TypistEdit",components:{Layout:Xt,BaseSwitch:()=>Promise.resolve().then(s.bind(null,"f83b")),BaseInput:()=>Promise.resolve().then(s.bind(null,"b3b3")),BaseSelect:()=>Promise.resolve().then(s.bind(null,"2a26")),TheError:()=>Promise.resolve().then(s.bind(null,"c6f5"))},mixins:[Y,w["a"],X["a"]],inject:["domain"],props:{promoter_id:{type:[String,Number],default:"",required:!1},promoter_name:{type:String,default:"",required:!1}},data:()=>({meta:{title:"Digitadores"},password_review:{0:!1,1:!1},showQRCode:!1,form:{blocked_reactivation:!1,user_id:null,promoter_id:"",role_id:"",name:"",email:"",phone:"",birthdate:"",document:"",gender:"",password:"",password_confirmation:"",active:null,typists:[],coordinator:""},minifiedSubmittedData:{name:"",document:"",token:""},message:{text:"",type:""},list:{promoters:[],typists:[],genders:[{name:"Feminino/Mulher",value:"Feminino"},{name:"Masculino/Homem",value:"Masculino"}]},pagination:{filterKey:"responsible"},typistAlert:"* Somente usuários do tipo <b>Digitador</b> podem ser selecionados"}),computed:{...Object(C["d"])({user:t=>t.user.userInfo,token:t=>t.app.logonToken,storePromoterID:t=>t.typist.promoter_id,storePromoterName:t=>t.typist.promoter_name}),id(){return this.$route.params.id},hasID(){return!!(0|this.id)},promoterID(){const{promoter_id:t}=this.getFiltersFromStorage()||{};return this.promoter_id||this.user.promoter_id||t},promoterName(){return this.promoter_name||this.storePromoterName},title(){return this.hasID?this.form.name:"Novo usuário"},isAdminGroup(){return[this.isAdmin,this.isManager,this.isSuper,this.isMasterOrFinancial,this.isCommercial,this.isCoordenador,this.isAccessManager].some(t=>t)},inputRules(){return{required:!this.hasID,min:6}},backTo(){return this.promoterID?{name:"typist",params:{promoter_id:this.promoterID,promoter_name:this.promoterName}}:{name:"typist"}},rolesList(){let t=[{name:"Assistente",value:12},{name:"Coordenador",value:16},{name:"Digitador",value:9},{name:"Gerente",value:3}];return this.isManager&&W.a.remove(t,{value:"3"}),this.isCoordenador&&(t=[{name:"Coordenador",value:16},{name:"Digitador",value:9}]),(this.isMasterOrFinancial||this.isAdminGroup)&&t.push({name:"Gestor de Acesso",value:20}),t},canEditUserData(){return this.isAccessManager},shouldDisableInput(){return this.hasID&&!this.isAdminGroup&&!this.isMasterOrFinancial},validationLink(){return Object(Ue["g"])(this.minifiedSubmittedData.token,"corban")},enableField(){return[this.isAdmin,this.isSuper].some(t=>t)}},watch:{"form.role_id":{handler(){16===Number(this.form.role_id)&&this.getCoordUsers()}}},async mounted(){this.user.promoter_id||(this.setStorePromoterID(""),this.setStorePromoterName("")),await this.loadData()},beforeDestroy(){this.user.promoter_id||(this.setStorePromoterID(""),this.setStorePromoterName("")),sessionStorage.removeItem(this.pagination.filterKey)},methods:{...Object(C["b"])({setStorePromoterID:"typist/SET_PROMOTER_ID",setStorePromoterName:"typist/SET_PROMOTER_NAME"}),async setData(t,e="all"){var s,a,o,i,n,r,l,c,d,u,m,p,h,v;["all"].includes(e)&&(this.form.blocked_reactivation=t.blocked_reactivation,this.form.user_id=t.user_id,this.form.role_id=t.role_id,this.form.name=null!==(s=t.name)&&void 0!==s?s:"",this.form.email=null!==(a=t.user_email)&&void 0!==a?a:"",this.form.phone=null!==(o=t.phone)&&void 0!==o?o:"",this.form.password=null!==(i=t.password)&&void 0!==i?i:"",this.form.password_confirmation=null!==(n=t.password_confirmation)&&void 0!==n?n:"",this.form.document=null!==(r=t.document)&&void 0!==r?r:"",this.form.birthdate=this.formatDate(null!==(l=t.birthdate)&&void 0!==l?l:""),this.form.gender=null!==(c=t.gender)&&void 0!==c?c:"",this.form.typists=null!==(d=t.typists)&&void 0!==d?d:null,this.form.coordinator=null!==(u=t.coordinator)&&void 0!==u?u:null);(["all","active"].includes(e)&&(this.form.active=void 0===t.active?!!t.user_active:!!t.active),["all","promoter_id"].includes(e))&&(this.form.promoter_id=null!==(m=t.promoter_id)&&void 0!==m?m:"");(this.isAdminGroup||this.isAccessManager)&&(this.minifiedSubmittedData.name=null!==(p=t.name)&&void 0!==p?p:"",this.minifiedSubmittedData.document=null!==(h=t.document)&&void 0!==h?h:"",this.minifiedSubmittedData.token=null!==(v=t.token)&&void 0!==v?v:"")},async loadData(){this.form.user_id=null,await this.getResponsibleByID(this.id),!this.promoterID||this.promoterID&&!this.promoterName?await this.getPromoter(this.form.promoter_id||this.promoterID):(this.setStorePromoterID(this.promoterID),this.setStorePromoterName(this.promoterName),sessionStorage.setItem(this.pagination.filterKey,JSON.stringify({promoter_id:this.promoterID})))},setMessage(t,e="danger"){"reset"===t?(this.message.text="",this.message.type=""):(this.message.text=t,this.message.type=e)},handlerError(t){var e,s,a,o,i,n,r,l,c,d,u;let m=(null===t||void 0===t||null===(e=t.response)||void 0===e||null===(s=e.data)||void 0===s||null===(a=s.error)||void 0===a?void 0:a.message)||(null===t||void 0===t||null===(o=t.error)||void 0===o||null===(i=o.response)||void 0===i||null===(n=i.data)||void 0===n||null===(r=n.error)||void 0===r?void 0:r.message)||(null===t||void 0===t?void 0:t.message)||(null===t||void 0===t||null===(l=t.error)||void 0===l?void 0:l.message)||t;if(null!==t&&void 0!==t&&null!==(c=t.response)&&void 0!==c&&null!==(d=c.data)&&void 0!==d&&null!==(u=d.error)&&void 0!==u&&u.errors){var p,h,v;const e=Object.values(null===t||void 0===t||null===(p=t.response)||void 0===p||null===(h=p.data)||void 0===h||null===(v=h.error)||void 0===v?void 0:v.errors);m=m.concat("<br> - "+e.map(t=>t).join("<br> - "))}this.setMessage(m)},formatDate(t){return t.split("-").reverse().join("/")},getFiltersFromStorage(){let t=sessionStorage.getItem(this.pagination.filterKey);return t?(t=JSON.parse(t),t):null},genPassword(){const t=go.a.generate({length:16,numbers:!0,symbols:!0,uppercase:!0,excludeSimilarCharacters:!0});this.form.password=t,this.form.password_confirmation=t},genQRCode(){const t=this.$refs.qrcode,e=this.validationLink,s=this;yo.a.toCanvas(t,e,t=>{s.showQRCode=!0,t&&(s.showQRCode=!1)})},copy(){const t=this.$refs["validation-link"];t.setAttribute("type","text"),t.select();try{document.execCommand("copy"),Object(ke["toast"])({message:"Link copiado!",type:"is-success",dismissible:!0,pauseOnHover:!0,animate:{in:"fadeIn",out:"fadeOut"},position:"top-center",closeOnClick:!0})}catch{}t.setAttribute("type","hidden"),window.getSelection().removeAllRanges()},async getResponsibleByID(t){const e=new k["a"](this.token),s=this.form.promoter_id||this.promoterID,a={...s?{promoter_id:s}:""};"null"!==t&&(this.loading=!0,await e.getResponsibleByID(t,a).then(({data:e})=>{t&&this.setData(e.data),"null"===t&&this.genPassword()}).catch(t=>this.handlerError(t)).finally(()=>{this.loading=!1}))},async getPromoter(t){const e=new k["a"](this.token);this.isAccessManager||(this.loading=!0,await e.getPromoters(t).then(({data:e})=>{if(this.list.promoters=[],t){var s,a,o,i,n,r;const t=null!==(s=e.data.id)&&void 0!==s?s:null===(a=e.data)||void 0===a||null===(o=a.data[0])||void 0===o?void 0:o.id,l=null!==(i=e.data.name)&&void 0!==i?i:null===(n=e.data)||void 0===n||null===(r=n.data[0])||void 0===r?void 0:r.name;this.list.promoters.push({value:t,name:l}),this.setStorePromoterID(t),this.setStorePromoterName(l),sessionStorage.setItem(this.pagination.filterKey,JSON.stringify({promoter_id:t}))}else for(const{id:t,value:l,name:c}of e.data.data)this.list.promoters.push({name:c,value:t||l})}).catch(t=>this.handlerError(t)).finally(()=>{this.loading=!1}))},getCoordUsers(){const t=new k["a"](this.token);if(this.form.user_id)try{t.getCoordUsersByID(this.form.user_id).then(({data:t})=>{this.form.typists=[];for(const e of t.data)this.list.typists.push({name:e.name,value:e.id}),this.list.typists=W.a.uniqBy(this.list.typists,"value"),this.form.typists.push(e.id)})}catch{}},async handleSwitch(){const t=new k["a"](this.token);this.loading=!0,this.setMessage("reset"),await t.active({id:this.form.user_id,params:{active:+this.form.active}}).then(({data:t})=>{this.setMessage("Registro atualizado com sucesso","success"),this.setData(t.data,"active")}).catch(t=>this.handlerError(t)).finally(()=>{this.loading=!1})},async submit(){var t;const e=new k["a"](this.token),s=null!==(t=this.promoterID)&&void 0!==t?t:this.form.promoter_id,{name:a,gender:o,document:i,birthdate:n,...r}=this.form,l={...r,name:a,promoter_id:s,document:i,birthdate:n,gender:o,...this.hasID?{id:this.id}:"",...16===this.form.role_id?{typists:this.form.typists}:""},c=this.hasID?"updateUser":"saveUser";this.loading=!0,this.setMessage("reset"),await e[c](l,this.id).then(({data:t})=>{this.setMessage("Registro salvo com sucesso","success"),window.document.querySelector("main").scrollTo({top:0,left:0,behavior:"smooth"}),"saveUser"===c&&(this.minifiedSubmittedData.name=a,this.minifiedSubmittedData.document=i,this.minifiedSubmittedData.token=t.data.token,this.$nextTick(()=>{this.$refs.form.reset()})),this.hasID||this.setData({})}).catch(t=>this.handlerError(t)).finally(()=>{this.loading=!1})}},metaInfo(){return j.meta(this.meta)}},ko=wo,So=(s("19c1"),Object(I["a"])(ko,fo,bo,!1,null,"88a290cc",null)),xo=So.exports;const Ao="typist",Po="/digitadores";var Do=[{name:Ao,path:Po,component:vo,props:!0},{name:Ao+"-edit",path:Po+"/:id",component:xo,props:!0},{path:"/usuarios/digitadores/:id",redirect:Po+"/:id"}],To=function(){var t=this,e=t._self._c;return e("Layout",{attrs:{title:t.meta.title,"max-width":"100%","is-card":""},scopedSlots:t._u([{key:"helper",fn:function(){return[e("div",{staticClass:"card"},[e("div",{staticClass:"card-content"},[e("div",{staticClass:"filter-options"},[e("base-calendar",{model:{value:t.filter.dateRange,callback:function(e){t.$set(t.filter,"dateRange",e)},expression:"filter.dateRange"}},[e("span",[t._v("Período")])]),e("base-select",{attrs:{options:t.list.screeningStatusOptions},model:{value:t.filter.status,callback:function(e){t.$set(t.filter,"status",e)},expression:"filter.status"}},[e("span",[t._v("Status")])]),e("button",{staticClass:"buttons__submit button",on:{click:t.getScreeningList}},[e("span",{staticClass:"icon is-small"},[e("i",{staticClass:"fas fa-search"})]),e("span",[t._v(" Buscar ")])])],1)])])]},proxy:!0}])},[e("h3",{staticClass:"is-size-4"},[t._v(" Listagem de Pré-cadastros ")]),e("hr"),e("div",{staticClass:"card-content"},[[e("table",{staticClass:"table is-narrow is-fullwidth"},[e("thead",{staticClass:"sticky"},[e("tr",[e("th",[t._v("Ações")]),e("th",[t._v("Nome")]),e("th",[t._v("Empresa")]),e("th",[t._v("Venda Informada")]),e("th",[t._v("Criado em")]),e("th",[t._v("Situação")])])]),e("tbody",t._l(t.screeningList,(function(s){return e("tr",{key:s.id},[e("td",[e("button",{staticClass:"button is-ghost",attrs:{title:"Visualizar detalhes"},on:{click:function(e){return t.openScreeningDetail(s.id)}}},[e("i",{staticClass:"fas fa-eye"})])]),e("td",[t._v(t._s(s.name))]),e("td",[t._v(t._s(s.company_name||"Pessoa física"))]),e("td",[t._v(t._s(t.transcribeAmountSold(s.amount_sold_last_months)))]),e("td",[t._v(t._s(new Date(s.created_at).toLocaleDateString("pt-BR")))]),e("td",[e("span",{staticClass:"chip",class:s.status},[t._v(" "+t._s(t.transformStatus(s.status))+" ")])])])})),0)])]],2),t.isScreeningModalOpen?e("CorbanScreeningDetailsModal",{attrs:{"screening-id":t.screeningId},on:{close:e=>{t.isScreeningModalOpen=!1,t.getScreeningList()}}}):t._e()],1)},Io=[],Eo=s("d155"),Oo=function(){var t=this,e=t._self._c;return e("base-modal",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}],attrs:{"show-buttons":t.showActionButtons,"button-two-text":"Reprovar cadastro","button-one-text":"Aceitar cadastro"},on:{close:t.close,"button-2":function(e){return t.changeScreening("reprovado")},"button-1":t.changeScreening},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Pré-cadastro "+t._s(t.screeningData.Nome)+" ")]},proxy:!0},{key:"body",fn:function(){return[e("table",{staticClass:"table is-narrow is-fullwidth"},[e("tbody",[t._l(t.screeningData,(function(s,a){return e("tr",{key:a},[e("th",[t._v(" "+t._s(a)+" ")]),e("td","Site"==a&&"Não informado"!==s?[e("a",{attrs:{href:"value",target:"_blank"}},[t._v(" "+t._s(s)+" ")])]:[t._v(" "+t._s(s)+" ")])])})),e("tr",[e("td",[e("label",{staticClass:"label",attrs:{for:"textarea"}},[t._v(" Observações de Aprovação/Reprovação ")])]),e("td",[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.observation,expression:"observation"}],staticClass:"textarea",attrs:{id:"textarea",disabled:"em-analise"!==t.screeningStatus,maxlength:"255"},domProps:{value:t.observation},on:{input:function(e){e.target.composing||(t.observation=e.target.value)}}})])])],2)])]},proxy:!0}])})},Mo=[],Ro={name:"CorbanScreeningDetailsModal",components:{BaseModal:Zs["default"]},mixins:[w["a"]],props:{screeningId:{type:Number,required:!0}},data(){return{observation:"",screeningData:{},screeningStatus:null}},computed:{...Object(C["d"])({token:t=>t.app.logonToken}),moneyFormatter(){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"})},showActionButtons(){return"em-analise"===this.screeningStatus}},watch:{screeningId:{handler(){this.getCorbanScreeningsDetails()}}},mounted(){this.getCorbanScreeningsDetails()},methods:{...Object(C["b"])({setToken:"app/SET_TOKEN"}),documentFormatter(t){const e=/(\d{3})(\d{3})(\d{3})(\d{2})/g;return t.replace(e,"$1.$2.$3-$4")||"Não informado"},transcribeAmountSold(t){let e=this.moneyFormatter.format(t);return null===t&&(e="Ainda não vende"),e},companyDocumentFormatter(t){const e=/(\d{2}(\d{3})(\d{3})(\d{4})(\d{2}))/g;return t.replace(e,"$1.$2.$3/$4-$5")},contactFormatter(t){const e=/(\d{2})(\d{4,5})(\d{4})$/g;return t.replace(e,"($1)$2-$3")},close(){this.$emit("close")},transformStatus(t){const e={"em-analise":"Em análise",aprovado:"Aprovado",reprovado:"Reprovado"};return e[t]},transformTableHeaders(t){const{access_from_promoter:e,amount_sold_last_months:s,certificate_number:a,company_document:o,company_name:i,my_company_position:n,social_networks:r,i_sell_this_product:l,has_prata_digital_access:c,i_know_the_rules:d,linked_promoters:u,linked_banks:m,document:p,name:h,status:v,contact:f,email:b,websites:_}=t;let g={Nome:h,Documento:this.documentFormatter(p),"Situação":this.transformStatus(v),"Conhece o Produto":d?"Sim":"Não","Vende o Produto":l?"Sim":"Não","Promotoras Vinculadas":u||"Não informado","Bancos Vinculados":m||"Não informado","Tem acesso ao Prata Digital":c};return l&&(g["Venda Informada"]=this.transcribeAmountSold(s)),e&&(g["Promotora que forneceu acesso"]=e),o?g={...g,"Nome da Empresa":i,CNPJ:this.companyDocumentFormatter(o),Cargo:n}:g.Febraban=a,g={...g,Contato:this.contactFormatter(f)||"Não informado","E-mail":b||"Não informado",Site:_||"Não informado","Rede Social":r||"Não informado"},g},async changeScreening(t){const e=new Eo["a"](this.token);this.loading=!0,await e.updateCorbanScreeningStatus(this.screeningId,t,this.observation).then(({data:t})=>{this.screeningStatus=t.status,this.screeningData=this.transformTableHeaders(t),Object(ke["toast"])({message:"Atualizada com sucesso!",type:"is-success",dismissible:!0,pauseOnHover:!0,animate:{in:"fadeIn",out:"fadeOut"},position:"top-center",closeOnClick:!0})}).catch(({error:t})=>{Object(ke["toast"])({message:t.message,type:"is-danger",dismissible:!0,pauseOnHover:!0,animate:{in:"fadeIn",out:"fadeOut"},position:"top-center",closeOnClick:!0})}).finally(()=>{this.loading=!1})},async getCorbanScreeningsDetails(){const t=new Eo["a"](this.token);this.loading=!0,await t.getCorbanScreenings(this.screeningId).then(({data:t})=>{this.screeningData=this.transformTableHeaders(t),this.screeningStatus=t.status,this.observation=t.observation}).catch(t=>{Object(ke["toast"])({message:t.message,type:"is-danger",dismissible:!0,pauseOnHover:!0,animate:{in:"fadeIn",out:"fadeOut"},position:"top-center",closeOnClick:!0})}).finally(()=>{this.loading=!1})}}},Bo=Ro,Lo=(s("7519"),Object(I["a"])(Bo,Oo,Mo,!1,null,"637af9d8",null)),Uo=Lo.exports,No={name:"CorbanScreening",components:{Layout:Xt,BaseCalendar:te["a"],BaseSelect:se["default"],CorbanScreeningDetailsModal:Uo},mixins:[w["a"]],data(){return{meta:{title:"Pre-Cadastros Corban"},screeningList:[],isScreeningModalOpen:!1,screeningId:null,filter:{dateRange:["",""],status:"em-analise"},list:{screeningStatusOptions:[{name:"Em análise",value:"em-analise"},{name:"Aprovado",value:"aprovado"},{name:"Reprovado",value:"reprovado"}]}}},computed:{...Object(C["d"])({token:t=>t.app.logonToken}),moneyFormatter(){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"})}},mounted(){this.getScreeningList()},methods:{...Object(C["b"])({setToken:"app/SET_TOKEN"}),transformStatus(t){const e={"em-analise":"Em análise",aprovado:"Aprovado",reprovado:"Reprovado"};return e[t]},transcribeAmountSold(t){let e=this.moneyFormatter.format(t);return null===t&&(e="Ainda não vende"),e},async getScreeningList(){const t=new Eo["a"](this.token),{dateRange:e,status:s}=this.filter;this.loading=!0;try{const a=await t.getCorbanScreenings(null,...e,s);this.screeningList=a.data}catch(n){var a,o,i;const t=(null===n||void 0===n||null===(a=n.response)||void 0===a||null===(o=a.data)||void 0===o||null===(i=o.error)||void 0===i?void 0:i.message)||"An error occurred.";Object(ke["toast"])({message:t,type:"is-danger",dismissible:!0,pauseOnHover:!0,animate:{in:"fadeIn",out:"fadeOut"},position:"top-center",closeOnClick:!0})}finally{this.loading=!1}},openScreeningDetail(t){this.isScreeningModalOpen=!0,this.screeningId=t}},metaInfo(){return j.meta(this.meta)}},qo=No,Fo=(s("220a2"),Object(I["a"])(qo,To,Io,!1,null,"39adb52b",null)),jo=Fo.exports;const Vo="corban",zo="/corban";var $o=[{name:Vo+"-screening",path:zo+"/pre-cadastro",component:jo}],Ho=function(){var t=this,e=t._self._c;return e("Proposals",{attrs:{"product-id":t.productID,header:t.header,statuses:t.statuses,"role-to-block":t.roleToBlock,steps:new Set(["upload","basic","documents","address","bank","proposal-data"]),title:t.meta.title}},[!t.loading&&t.modal.creditor?e("ModalCreditor",{on:{close:t.close}}):t._e(),!t.loading&&t.modal.survey?e("ModalSurveyAccordance"):t._e()],1)},Go=[],Qo=function(){var t=this,e=t._self._c;return e("Layout",t._b({attrs:{"max-width":"100%","is-card":""},scopedSlots:t._u([{key:"helper",fn:function(){return[e("BaseFilterBar",{attrs:{"role-to-block":t.roleToBlock},on:{message:t.setMessage,paginate:t.paginate,plus:function(e){t.modal.filter=!0}}})]},proxy:!0}])},"Layout",t.$attrs,!1),[e("div",{staticClass:"proposal-view"},[e("div",{staticClass:"proposal-view__info pb-3"},[e("div",{staticClass:"columns is-gapless mb-0"},[e("div",{staticClass:"column is-italic is-flex is-align-items-center"},[t.filter.names?e("div",{key:"partial-data",staticClass:"pl-3"},[t._v(" Dados filtrados por "),e("span",[t._v(": ")]),e("span",{staticClass:"has-text-primary"},[t._v(t._s(t.filter.names))])]):e("div",{key:"all-data",staticClass:"pl-3"},[e("span",[t._v("Sem filtros")])])]),e("div",{staticClass:"column is-narrow"},[e("div",{staticClass:"buttons"},[e("button",{staticClass:"button is-ghost",on:{click:t.downloadCSV}},[e("span",[t._v(" Download CSV ")]),e("span",{staticClass:"icon is-small"},[e("i",{staticClass:"fas fa-file-download"})])]),t.selectRowOptions.selected.length>0?[e("button",{staticClass:"button is-warning",on:{click:function(e){return e.preventDefault(),t.open({modal:"massStatusAlteration"})}}},[e("span",[t._v(" Alterar "+t._s(t.selectRowOptions.selected.length)+" status ")])])]:t._e()],2)])]),~t.filter.names.indexOf("Período")?e("div",{staticClass:"columns is-gapless"},[e("div",{staticClass:"column is-italic is-flex is-align-items-center"},[e("div",{staticClass:"pl-3"},[e("small",[e("i",[t._v("Período considera tanto 'Criado em' como 'Data de desembolso'")])])])])]):t._e()]),e("div",{staticClass:"proposal-view__content"},[e("table",{staticClass:"table is-narrow is-fullwidth"},[e("thead",{staticClass:"sticky"},[e("tr",[t.canDoMassAlteration?[e("th",{staticClass:"is-narrow"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectRowOptions.selectAll,expression:"selectRowOptions.selectAll"}],attrs:{type:"checkbox"},domProps:{value:t.selectRowOptions.selectAll,checked:Array.isArray(t.selectRowOptions.selectAll)?t._i(t.selectRowOptions.selectAll,t.selectRowOptions.selectAll)>-1:t.selectRowOptions.selectAll},on:{input:t.toggleSelectAll,change:function(e){var s=t.selectRowOptions.selectAll,a=e.target,o=!!a.checked;if(Array.isArray(s)){var i=t.selectRowOptions.selectAll,n=t._i(s,i);a.checked?n<0&&t.$set(t.selectRowOptions,"selectAll",s.concat([i])):n>-1&&t.$set(t.selectRowOptions,"selectAll",s.slice(0,n).concat(s.slice(n+1)))}else t.$set(t.selectRowOptions,"selectAll",o)}}})])]:t._e(),t._l(t.headerTitle,(function(s,a){return[e("th",{key:a,class:{"is-narrow":"Ações"===s}},[e("span",[t._v(t._s(s))])])]}))],2)]),t.message?e("tbody",{key:"body-message"},[e("tr",[e("td",{attrs:{colspan:"11"}},[e("span",{staticClass:"py-3",domProps:{innerHTML:t._s(t.sanitizedContent(t.message))}})])])]):e("tbody",{key:"body-content"},t._l(t.proposal.list,(function(s,a){return e("tr",{key:a,on:{dblclick:function(e){return t.detailsProposals(s,e)}}},[t.canDoMassAlteration?[e("td",[e("input",{staticClass:"row-checkbox",attrs:{id:s.proposal_id,type:"checkbox"},on:{input:function(e){return e.stopPropagation(),t.toggleSelectRow(s.proposal_id)}}})])]:t._e(),e("td",{staticClass:"is-narrow"},[t.isProductFGTS&&!t.isToUnable?e("button",{staticClass:"button is-ghost",attrs:{title:"Visualizar simulação"},on:{click:function(e){return t.open({modal:"simulation",data:s})}}},[e("i",{staticClass:"fas fa-search"})]):t._e(),t.isToUnable?t._e():e("button",{staticClass:"button is-ghost",attrs:{title:"Ver histórico"},on:{click:function(e){return t.open({modal:"history",data:s})}}},[e("i",{staticClass:"far fa-file-alt"})]),s.token?e("button",{staticClass:"button is-ghost",attrs:{title:"Comprovação por foto"},on:{click:function(e){return t.open({modal:"antifraud",data:s})}}},[e("i",{staticClass:"fas fa-shield-alt"})]):t._e(),e("button",{staticClass:"button is-ghost",attrs:{title:"Editar dados do usuário"},on:{click:function(e){return t.open({modal:"edit",data:s})}}},[e("i",{staticClass:"fas",class:[t.isToUnable?"fa-eye":"fa-pen"]})])]),t.isProductINSS?[e("td",[s.status.includes("análise")&&t.isTodayPastCreated(s.created_at)?e("button",{staticClass:"button is-link is-outlined",attrs:{title:"Atualizar data de desembolso"},on:{click:function(e){return t.open({modal:"resimulateINSS",data:s})}}},[t._v(" Atualizar ")]):e("span",[t._v("---")])])]:t._e(),t.isProductFGTS?[e("td",[s.status.includes("análise")?e("button",{staticClass:"button is-link is-outlined",attrs:{title:"Atualizar data de desembolso"},on:{click:function(e){return t.open({modal:"resimulateFGTS",data:s})}}},[t._v(" Atualizar ")]):e("span",[t._v("---")])])]:t._e(),e("td",[e("span",[t._v(t._s(t.omitYear(s.created_at)))])]),t.isToUnable?t._e():e("td",{staticClass:"ellipsis has-tooltip-arrow has-tooltip-right",attrs:{"data-tooltip":t.getSubAndResponsible(s)}},[e("span",[t._v(" "+t._s(s.responsible_name)+" ")])]),e("td",{class:{duplicated:s.duplicated>0}},[e("span",[t._v(t._s(s.name))])]),e("td",[e("span",[e("CopyToClipboard",[t._v(" "+t._s(s.document)+" ")])],1)]),e("td",[e("span",[t._v(t._s(t._f("money")(s.net_amount||0)))])]),(t.isProductFGTS||t.isProductINSS)&&t.userInfo.internal_employee?[e("td",[t._v(t._s(s.supplier_name))])]:t._e(),e("td",[t._l(t.split(s.external_proposal_number,","),(function(a,o){return[a?[t.hasCCBCreated(s)?e("button",{key:"btn-"+o,staticClass:"button is-ghost px-0",on:{click:function(e){return t.open({modal:"status",data:s})}}},[t._v(" "+t._s(a)+" ")]):e("span",{key:"span-"+o,staticClass:"is-ghost px-0"},[t._v(" "+t._s(a)+" ")])]:t._e()]}))],2),e("td",[e("span",[t._v(t._s(s.loaned_at))])]),s.proposal_id?e("td",{key:"proposals-status",staticClass:"ellipsis has-tooltip-arrow has-tooltip-left",attrs:{"data-tooltip":`${s.status}${s.obs?" - "+s.obs:""}`}},[s.issue_type&&t.hasValidStatus(s.status)?[e("button",{staticClass:"button is-ghost px-0",on:{click:function(e){return t.open({modal:"issue",data:s})}}},[t._v(" "+t._s(s.status)+" ")])]:[e("span",[t._v(" "+t._s(s.status)+" ")])]],2):e("td",{key:"proposals-obs",staticClass:"ellipsis has-tooltip-arrow has-tooltip-left",attrs:{"data-tooltip":s.obs}},[e("span",[t._v(" "+t._s(s.obs)+" ")])])],2)})),0)])]),e("div",{staticClass:"proposal-view__footer"},[e("Pagination",{ref:"pagination",attrs:{data:t.pagination.data},on:{paginate:t.paginate,mounted:t.adjustGridRows}}),t._e()],1)]),t.modal.filter?e("ModalFilter",{attrs:{message:t.filter.message},on:{close:function(e){return t.close({key:"filter",paginate:e})}}}):t._e(),t.modal.history?e("ModalHistory",{on:{close:function(e){return t.close({key:"history"})}}}):t._e(),t.modal.proposal?e("ModalProposals",{attrs:{"is-admin":t.isAdmin,statuses:t.statuses},on:{close:e=>{t.close({key:"proposal"}),"navigate"===e?t.paginate():t.open({modal:e})}}}):t._e(),t.modal.bankAuto?e("ModalBankAutoQITech",{on:{close:function(e){return t.close({key:"bankAuto"})}}}):t._e(),t.modal.status&&3===t.productId&&1===t.supplierId?e("ModalProposalStatus",{on:{close:function(e){return t.close({key:"status"})},receipt:e=>{t.receiptData=e,t.close({key:"status"}),t.open({modal:"receipt"})},proposalWithdrawal:e=>{t.withdrawalDetails=e,t.close({key:"status"}),t.open({modal:"withdrawal"})},proposalAcquittance:e=>{t.proposal.contract_number=e.contract_number,t.close({key:"status"}),t.open({modal:"acquittance"})},creditCardTransactionData:()=>{t.close({key:"status"}),t.open({modal:"creditCardTransactionData"})}}}):t._e(),t.modal.status&&3===t.productId&&4===t.supplierId?e("ModalProposalStatusBMP",{on:{close:function(e){return t.close({key:"status"})},receipt:e=>{t.receiptData=e,t.close({key:"status"}),t.open({modal:"receipt"})},proposalWithdrawal:e=>{t.withdrawalDetails=e,t.close({key:"status"}),t.open({modal:"withdrawal"})},proposalAcquittance:e=>{t.proposal.contract_number=e.contract_number,t.close({key:"status"}),t.open({modal:"acquittance"})}}}):t._e(),t.modal.status&&12===t.productId?e("ModalProposalStatusINSS",{on:{close:function(e){return t.close({key:"status"})},receipt:e=>{t.receiptData=e,t.close({key:"status"}),t.open({modal:"receipt"})},proposalWithdrawal:e=>{t.close({key:"status"}),t.open({modal:"withdrawal"})},proposalAcquittance:e=>{t.proposal.contract_number=e.contract_number,t.close({key:"status"}),t.open({modal:"acquittance"})},creditCardTransactionData:()=>{t.close({key:"status"}),t.open({modal:"creditCardTransactionData"})}}}):t._e(),t.modal.status&&3===t.productId&&7===t.supplierId?e("ModalProposalStatusCartos",{on:{close:function(e){return t.close({key:"status"})},receipt:e=>{t.receiptData=e,t.close({key:"status"}),t.open({modal:"receipt"})},proposalWithdrawal:e=>{t.withdrawalDetails=e,t.close({key:"status"}),t.open({modal:"withdrawal"})},proposalAcquittance:e=>{t.proposal.proposal_id=e.proposal_id,t.close({key:"status"}),t.open({modal:"acquittance"})}}}):t._e(),t.modal.receipt&&1===t.supplierId?e("ModalProposalStatusReceipt",{attrs:{"receipt-data":t.receiptData},on:{close:function(e){return t.close({key:"receipt"})},back:()=>{t.close({key:"receipt"}),t.open({modal:"status"})}}}):t._e(),t.modal.receipt&&4===t.supplierId?e("ModalProposalStatusReceiptBMP",{attrs:{"receipt-data":t.receiptData,details:t.proposal.details},on:{close:function(e){return t.close({key:"receipt"})},back:()=>{t.close({key:"receipt"}),t.open({modal:"status"})}}}):t._e(),t.modal.withdrawal?e("ModalProposalWithdrawal",{attrs:{"supplier-id":t.supplierId,details:t.withdrawalDetails},on:{close:function(e){return t.close({key:"withdrawal"})},back:()=>{t.close({key:"withdrawal"}),t.open({modal:"status"})}}}):t._e(),t.modal.acquittance?e("ModalProposalAcquittance",{attrs:{"contract-number":t.proposal.contract_number},on:{close:function(e){return t.close({key:"acquittance"})},back:()=>{t.close({key:"acquittance"}),t.open({modal:"status"})}}}):t._e(),t.modal.status&&8===t.productId?e("ModalProposalCreditCard",{on:{close:function(e){return t.close({key:"status"})},creditCardTransactionData:()=>{t.close({key:"status"}),t.open({modal:"creditCardTransactionData"})}}}):t._e(),t.modal.creditCardTransactionData?e("ModalCreditCardTransactionData",{on:{close:function(e){return t.close({key:"creditCardTransactionData"})},back:()=>{t.close({key:"creditCardTransactionData"}),t.open({modal:"status"})}}}):t._e(),t.modal.edit?e("ModalData",{attrs:{"steps-list":t.steps},on:{close:function(e){return t.close({key:"edit"})}}}):t._e(),t.modal.antifraud?e("ModalAntiFraud",{attrs:{"role-to-block":t.roleToBlock},on:{close:function(e){return t.close({key:"antifraud",paginate:!0})}}}):t._e(),t.modal.issue?e("ModalIssue",{on:{close:function(e){return t.close({key:"issue"})}}}):t._e(),t.modal.simulation?e("ModalSimulationResponse",{on:{close:function(e){return t.close({key:"simulation"})}}}):t._e(),t.modal.massStatusAlteration?e("BaseModal",{attrs:{"show-buttons":!0,"button-two-text":"Cancelar","button-one-text":"Alterar Status"},on:{close:function(e){return t.close({key:"massStatusAlteration"})},"button-2":function(e){return t.close({key:"massStatusAlteration"})},"button-1":t.confirmMassAlteration},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Alterar status em massa ")]},proxy:!0},{key:"body",fn:function(){return[e("base-select",{attrs:{selected:"",options:t.statuses,placeholder:"Selecione o status"},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}},[e("span",[t._v("Qual status você deseja atribuir?")])])]},proxy:!0}],null,!1,1419261391)}):t._e(),t.modal.resimulateINSS?e("BaseModal",{attrs:{"button-two-text":"Cancelar","button-one-text":"Simular novamente","show-buttons":""},on:{close:function(e){return t.close({key:"resimulateINSS"})},"button-2":function(e){return t.close({key:"resimulateINSS"})},"button-1":t.reSimulateProposalINSS},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Simular Proposta INSS ")]},proxy:!0},{key:"body",fn:function(){return[e("p",[t._v(" Essa ação irá atualizar a proposta em questão. É necessário fazer isso, no caso da proposta "),e("strong",[t._v("não ter sido paga no dia de digitação da mesma")]),t._v(". ")]),e("p",{staticClass:"mt-3"},[t._v(" Deseja prosseguir? ")])]},proxy:!0}],null,!1,1694257249)}):t._e(),t.modal.resimulateFGTS?e("BaseModal",{attrs:{"button-two-text":"Cancelar","button-one-text":"Simular novamente","show-buttons":""},on:{close:function(e){return t.close({key:"resimulateFGTS"})},"button-2":function(e){return t.close({key:"resimulateFGTS"})},"button-1":t.reSimulateProposalFGTS},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Simular Proposta FGTS ")]},proxy:!0},{key:"body",fn:function(){return[e("p",[t._v(" Essa ação irá atualizar a proposta em questão. É necessário fazer isso, no caso da proposta "),e("strong",[t._v("não ter sido paga no dia de digitação da mesma")]),t._v(". ")]),e("p",{staticClass:"mt-3"},[t._v(" Deseja prosseguir? ")])]},proxy:!0}],null,!1,1552582112)}):t._e(),t._t("default")],2)},Ko=[],Jo=s("97f3"),Wo=s("83b4"),Yo=function(){var t=this,e=t._self._c;return e("div",{staticClass:"card"},[e("div",{staticClass:"card-content"},[t.filters.begin_date||t.filters.end_date?t._e():e("BaseTooltip",{class:"tooltip--info",attrs:{"can-be-closed":!0},scopedSlots:t._u([{key:"tooltip-title",fn:function(){return[t._v(" Informação ")]},proxy:!0},{key:"tooltip-text",fn:function(){return[t._v(" Se nenhum período for selecionado, o sistema buscará por propostas de até 3 dias atrás: "),e("b",[t._v(t._s(t.threeDaysAgo.toLocaleDateString("pt-BR")))]),t._v(" – "),e("b",[t._v(t._s((new Date).toLocaleDateString("pt-BR")))])]},proxy:!0}],null,!1,3647256743)}),e("div",{staticClass:"column"},[e("div",{staticClass:"columns is-multiline"},[e("div",{staticClass:"column"},[e("base-input",{attrs:{type:"tel",maxlength:"15",mask:"cpf"},on:{change:function(e){t.filters.document=e}},model:{value:t.filters.document,callback:function(e){t.$set(t.filters,"document",e)},expression:"filters.document"}},[t._v(" CPF ")])],1),e("div",{staticClass:"column"},[e("base-input",{attrs:{placeholder:"CCB",type:"text"},on:{change:function(e){t.filters.external_proposal_id=String(e).trim()}},model:{value:t.filters.external_proposal_id,callback:function(e){t.$set(t.filters,"external_proposal_id",e)},expression:"filters.external_proposal_id"}},[t._v(" N. CCB ")])],1),t.isToUnable?t._e():e("div",{staticClass:"column"},[e("base-input",{attrs:{placeholder:"Proposta",type:"text"},on:{change:function(e){t.filters.proposal_id=String(e).trim()}},model:{value:t.filters.proposal_id,callback:function(e){t.$set(t.filters,"proposal_id",e)},expression:"filters.proposal_id"}},[t._v(" N. Proposta ")])],1)])]),e("div",{staticClass:"column"},[e("div",{staticClass:"columns is-multiline"},[t.isToUnable?t._e():e("div",{staticClass:"column"},[e("base-select",{attrs:{options:t.list.promoters,searching:t.searching["promoter"],"can-filter":"","has-api-search":""},on:{search:function(e){return t.handlePromotersSearch(e,"promoter")}},model:{value:t.form.promoter_id,callback:function(e){t.$set(t.form,"promoter_id",e)},expression:"form.promoter_id"}},[e("span",[t._v("Promotor")])])],1),t.isToUnable?t._e():e("div",{staticClass:"column"},[e("base-select",{attrs:{options:t.list.responsible,searching:t.searching["responsible"],"can-filter":"","has-api-search":""},on:{search:function(e){t.handleResponsibleSearch(e,{...t.promoter_id?{promoter_id:t.promoter_id}:""},"responsible")}},model:{value:t.form.responsible_id,callback:function(e){t.$set(t.form,"responsible_id",e)},expression:"form.responsible_id"}},[e("span",[t._v("Responsável")])])],1),t.isToUnable?t._e():e("div",{staticClass:"column"},[e("base-select",{attrs:{options:t.statuses,disabled:!t.statuses.length,"can-filter":""},model:{value:t.filters.status,callback:function(e){t.$set(t.filters,"status",e)},expression:"filters.status"}},[e("span",[t._v("Status")])])],1),!t.isToUnable&&t.user.internal_employee?e("div",{staticClass:"column"},[e("base-select",{attrs:{options:t.suppliers,disabled:!t.suppliers.length,"can-filter":""},model:{value:t.filters.supplier_id,callback:function(e){t.$set(t.filters,"supplier_id",e)},expression:"filters.supplier_id"}},[e("span",[t._v("Banco")])])],1):t._e()])]),e("div",{staticClass:"column"},[e("div",{staticClass:"columns is-multiline"},[e("div",{staticClass:"column"},[e("base-calendar",{model:{value:t.form.period,callback:function(e){t.$set(t.form,"period",e)},expression:"form.period"}},[e("span",[t._v("Período *")])])],1),e("div",{staticClass:"column"},[e("base-select",{attrs:{options:[{name:"Financeiro",value:"Financeiro"},{name:"Formalização",value:"Formalização"},{name:"Problemas de averbação",value:"Garantia"}],"can-filter":""},on:{input:t.setFiltersToStorage},model:{value:t.filters.issue_type,callback:function(e){t.$set(t.filters,"issue_type",e)},expression:"filters.issue_type"}},[e("span",[t._v("Tipos de pendência")])])],1)])]),e("div",{staticClass:"column"},[e("div",{staticClass:"columns is-multiline"},[t.isToUnable?t._e():e("div",{staticClass:"column is-tags"},[e("base-switch",{on:{change:t.setFiltersToStorage},model:{value:t.filters.antifraud_completed,callback:function(e){t.$set(t.filters,"antifraud_completed",e)},expression:"filters.antifraud_completed"}},[e("span",[t._v("Formalizados")])]),e("base-switch",{on:{change:t.setFiltersToStorage},model:{value:t.filters.external_proposal_id_not_null,callback:function(e){t.$set(t.filters,"external_proposal_id_not_null",e)},expression:"filters.external_proposal_id_not_null"}},[e("span",[t._v("CCB Gerada")])]),e("base-switch",{on:{change:t.setFiltersToStorage},model:{value:t.filters.self_contracting,callback:function(e){t.$set(t.filters,"self_contracting",e)},expression:"filters.self_contracting"}},[e("span",[t._v("Auto-contratação")])])],1),e("div",{staticClass:"column is-flex is-align-content-baseline is-justify-content-end"},[e("div",{staticClass:"columns mt-auto"},[t.isToUnable?t._e():[e("div",{staticClass:"column"},[e("button",{staticClass:"button is-ghost",on:{click:function(e){return t.$emit("plus")}}},[e("span",[t._v(" Mais filtros ")])])])],e("div",{staticClass:"column"},[e("button",{staticClass:"button is-danger mt-auto",on:{click:t.clean}},[t._m(0),e("span",[t._v(" Limpar ")])])]),e("div",{staticClass:"column"},[e("button",{staticClass:"button is-link mt-auto",on:{click:t.setFiltersToStorage}},[e("span",[t._v(" Procurar ")])])])],2)])])])],1)])},Zo=[function(){var t=this,e=t._self._c;return e("span",{staticClass:"icon is-small"},[e("i",{staticClass:"fas fa-times"})])}],Xo={name:"BaseFilterBar",components:{BaseInput:V["default"],BaseSelect:se["default"],BaseSwitch:ga["default"],BaseCalendar:te["a"],BaseTooltip:ee["default"]},mixins:[Y,Aa["a"],w["a"]],props:{roleToBlock:{type:[Number,String],default:13,required:!1}},data:()=>({storageKey:"filters",form:{period:[],promoter_id:"",responsible_id:""},filters:{begin_date:"",end_date:"",document:"",proposal_id:"",external_proposal_id:"",status:"",uncompleted:!1,antifraud_completed:!1,external_proposal_id_not_null:!1,self_contracting:!1,issue_type:"",supplier_id:""},list:{responsible:[],promoters:[]},toExclude:["begin_date","end_date"]}),computed:{...Object(C["d"])({user:t=>t.user.userInfo,statuses:t=>t.app.statuses,suppliers:t=>t.app.suppliers,$_token:t=>t.app.logonToken}),token:{get(){return this.$_token},set(t){this.setToken(t)}},isToUnable(){var t,e;return!!(null!==(t=null===(e=this.user)||void 0===e?void 0:e.roles_ids)&&void 0!==t?t:[]).includes(this.roleToBlock)},threeDaysAgo(){const t=new Date;return t.setDate(t.getDate()-3),t},promoter_id(){return this.form.promoter_id},responsible_id(){return this.form.responsible_id}},watch:{"form.period":{handler([t,e]){this.filters.begin_date=null!==t&&void 0!==t?t:"",this.filters.end_date=null!==e&&void 0!==e?e:"",this.setFiltersToStorage()}}},async mounted(){await this.loadData()},methods:{...Object(C["b"])({setToken:"app/SET_TOKEN"}),async loadData(){const t=this.getFiltersFromStorage({raw:!0});Object.keys(this.filters).forEach(async e=>{this.toExclude.includes(e)||t[e]&&(this.filters[e]=t[e])}),t.begin_date&&t.end_date&&this.$set(this.form,"period",[t.begin_date,t.end_date]),t.promoter&&(this.list.promoters=[t.promoter],this.form.promoter_id=t.promoter.value),t.responsible&&(this.list.responsible=[t.responsible],this.form.responsible_id=t.responsible.value)},clean(){this.form.period=[],this.form.responsible_id="",this.form.promoter_id="",Object.keys(this.filters).forEach(t=>{"boolean"===typeof this.filters[t]?this.filters[t]=!1:this.filters[t]=""}),sessionStorage.removeItem(this.storageKey),this.$emit("paginate")},setFiltersToStorage(){const{promoter_id:t,responsible_id:e}=this.form;let s=this.getFiltersFromStorage({raw:!0});s.page&&delete s.page,s={...s,...this.filters,promoter:W.a.find(this.list.promoters,{value:t}),responsible:W.a.find(this.list.responsible,{value:e})},s=Object.keys(s).reduce((t,e)=>(s[e]&&(t[e]=s[e]),t),{}),sessionStorage.setItem(this.storageKey,JSON.stringify(s)),this.$emit("paginate")}}},ti=Xo,ei=(s("e4d9"),Object(I["a"])(ti,Yo,Zo,!1,null,"15479058",null)),si=ei.exports,ai=s("811c"),oi={name:"ProposalsList",components:{Layout:Xt,Pagination:Ls["default"],BaseFilterBar:si,CopyToClipboard:ai["default"],BaseSelect:()=>Promise.resolve().then(s.bind(null,"2a26")),BaseModal:()=>Promise.resolve().then(s.bind(null,"c1ec")),ModalFilter:()=>s.e("chunk-08bd7fef").then(s.bind(null,"21b2")),ModalAntiFraud:()=>s.e("chunk-4db859f6").then(s.bind(null,"918f")),ModalProposals:()=>s.e("chunk-0df14f2c").then(s.bind(null,"c08b")),ModalHistory:()=>s.e("chunk-4a88f590").then(s.bind(null,"a1c9")),ModalBankAutoQITech:()=>s.e("chunk-ce6e7b1c").then(s.bind(null,"b00a")),ModalProposalAcquittance:()=>s.e("chunk-f3866ac6").then(s.bind(null,"7fce")),ModalProposalStatus:()=>Promise.resolve().then(s.bind(null,"7fc7")),ModalProposalStatusBMP:()=>Promise.resolve().then(s.bind(null,"6a99")),ModalProposalStatusINSS:()=>Promise.resolve().then(s.bind(null,"bf62")),ModalProposalStatusReceipt:()=>Promise.resolve().then(s.bind(null,"9cd6")),ModalProposalStatusReceiptBMP:()=>Promise.resolve().then(s.bind(null,"9c04")),ModalProposalCreditCard:()=>s.e("chunk-74297d34").then(s.bind(null,"1013")),ModalCreditCardTransactionData:()=>s.e("chunk-f8309364").then(s.bind(null,"cde0")),ModalProposalWithdrawal:()=>Promise.resolve().then(s.bind(null,"9581")),ModalData:()=>Promise.resolve().then(s.bind(null,"4c23")),ModalIssue:()=>s.e("chunk-1b5e0c55").then(s.bind(null,"f4d4")),ModalSimulationResponse:()=>s.e("chunk-074d0268").then(s.bind(null,"a398")),ModalProposalStatusCartos:()=>s.e("chunk-3cb1ae6a").then(s.bind(null,"3a29"))},mixins:[Aa["a"],w["a"],X["a"],Z["a"]],props:{header:{type:Array,default:()=>[],required:!0},productId:{type:[Number,String],required:!0},statuses:{type:Array,required:!0},showButtons:{type:[Boolean,Array],default:!0,required:!1},roleToBlock:{type:[Number,String],default:13,required:!1},steps:{type:Set,required:!0}},data:()=>({user:null,message:null,withdrawalDetails:null,defaultMessageError:"Infelizmente não foi possível encontrar este registro.",showActionButtons:!1,receiptData:!1,selectRowOptions:{selectAll:!1,selected:[]},form:{status:""},proposal:{list:[]},modal:{proposal:!1,bankAuto:!1,history:!1,status:!1,receipt:!1,edit:!1,filter:!1,antifraud:!1,withdrawal:!1,acquittance:!1,creditCardTransactionData:!1,issue:!1,simulation:!1,massStatusAlteration:!1,resimulateINSS:!1,resimulateFGTS:!1},filter:{message:"",names:""},pagination:{data:{}}}),computed:{...Object(C["d"])({token:t=>t.app.logonToken,userInfo:t=>t.user.userInfo,stateProposal:t=>t.proposal.proposal}),...Object(C["c"])({isMobile:"app/isMobile"}),isProductFGTS(){return 3===this.productId},isProductINSS(){return 12===this.productId},isToUnable(){var t,e;return!!(null!==(t=null===(e=this.user)||void 0===e?void 0:e.roles_ids)&&void 0!==t?t:[]).includes(this.roleToBlock)},headerTitle(){const t=["Responsável"];return this.isToUnable?this.header.filter(e=>!t.includes(e)):this.header},canDoMassAlteration(){return[this.isAntifraud,this.isAdmin,this.isSuper].some(t=>t)},supplierId(){return this.stateProposal.supplier_id}},watch:{"modal.filter":{handler(t){!0!==t&&this.setMessage("")}},"modal.massStatusAlteration":{handler(t){!0!==t&&(this.selectRowOptions.selectAll=!1,this.selectRowOptions.selected=[])}},loading:{handler(t){!0===t&&this.setMessage("")}}},mounted(){this.$nextTick(()=>this.close({key:"all",paginate:!0}))},beforeDestroy(){this.setProposalData({})},methods:{...Object(C["b"])({setProposalData:"proposal/SET_PROPOSAL_DATA"}),handlerError(t){var e,s,a,o,i,n,r,l,c,d,u,m;let p=(null===t||void 0===t||null===(e=t.response)||void 0===e||null===(s=e.data)||void 0===s||null===(a=s.error)||void 0===a?void 0:a.message)||(null===t||void 0===t||null===(o=t.error)||void 0===o||null===(i=o.response)||void 0===i||null===(n=i.data)||void 0===n||null===(r=n.error)||void 0===r?void 0:r.message)||(null===t||void 0===t||null===(l=t.error)||void 0===l||null===(c=l.data)||void 0===c?void 0:c.message)||(null===t||void 0===t?void 0:t.message)||t;if(null!==t&&void 0!==t&&null!==(d=t.response)&&void 0!==d&&null!==(u=d.data)&&void 0!==u&&null!==(m=u.error)&&void 0!==m&&m.errors){var h,v,f;const e=Object.values(null===t||void 0===t||null===(h=t.response)||void 0===h||null===(v=h.data)||void 0===v||null===(f=v.error)||void 0===f?void 0:f.errors);p=p.concat("<br> - "+e.map(t=>t).join("<br> - "))}this.setMessage(p)},setMessage(t){this.message=t},split(t,e){return(t||"").split(e)},getFiltersNames(){const t=this.getFiltersFromStorage();if(!t)return"";this.filter.names=[t.begin_date?"Período":null,t.document?"CPF":null,t.proposal_id?"N. Proposta":null,t.external_proposal_id?"N. CCB":null,t.status?"Status":null,t.responsible_id?"Responsável":null,t.promoter_id?"Promotor":null,t.uncompleted?"Abandonados":null,t.antifraud_completed?"Formalizados":null,t.external_proposal_id_not_null?"CCB Gerada":null,t.name?"Nome":null,t.phone?"Telefone":null].filter(Boolean).join(", ")},getSubAndResponsible({promoter_name:t,responsible_name:e}){return`Sub: ${t} - Resp: ${e}`},toggleSelectRow(t){const{selected:e}=this.selectRowOptions,s=e.find(e=>e===t);if(s){const t=e.indexOf(s);e.splice(t,1)}else e.push(t);e.splice(e.length)},toggleSelectAll(){const t=document.querySelectorAll(".row-checkbox");this.selectRowOptions.selectAll=!this.selectRowOptions.selectAll,this.selectRowOptions.selected=[],t.forEach(t=>{t.checked=!1}),this.selectRowOptions.selectAll&&(this.selectRowOptions.selected=this.proposal.list.map(t=>t.proposal_id),t.forEach(t=>{t.checked=!0})),this.selectRowOptions.selected.splice(this.selectRowOptions.selected.length)},adjustGridRows(){const t=this.$refs.pagination.$el,e=t.querySelector(".pagination-list"),s=this.getComputedStyle(t,"padding-top"),{clientHeight:a}=e,o=a+2*s,i=this.getComputedStyle(document.documentElement,"--footer-height");i!==o&&document.documentElement.style.setProperty("--footer-height",o+"px")},getComputedStyle(t,e){return parseInt(getComputedStyle(t).getPropertyValue(e),10)},async downloadCSV(){const t=new de["a"](this.token),e=this.getFiltersFromStorage(),s=this.productId||this.productId;this.loading=!0,await t.downloadCSV({...e,product_id:s,output:"csv"}).then(t=>{const e=new Blob(["\ufeff"+t],{type:"text/csv;charset=utf-8"}),s=window.URL.createObjectURL(e),a=document.createElement("a");a.href=s,a.setAttribute("download","propostas.csv"),document.body.appendChild(a),a.click(),document.body.removeChild(a)}).catch(t=>this.handlerError(t)).finally(()=>{this.loading=!1})},hasCCBCreated({external_proposal_number:t}){const e=(null===t||void 0===t?void 0:t.toLowerCase())||"";return"ccb não gerada"!==e},hasValidStatus(t){return["Pendência","Aguardando consulta","Aguardando pagamento","Aguardando relançamento","Aguardando desaverbação"].some(e=>e===t)},omitYear(t){const[e,s]=t.split(" "),[a,o]=e.split("/");return`${a}/${o} ${s}`},isTodayPastCreated(t){let[e]=t.split(" ");e=e.split("/"),2===e.length&&e.push("2024");const[s,a,o]=e,i=new Date(o,a-1,s),n=new Date;return n.setHours(0,0,0,0),i.setHours(0,0,0,0),n.getTime()>i.getTime()},async paginate(){const t=new de["a"](this.token),e=this.getFiltersFromStorage(),s=this.productId||this.productId;this.loading=!0,await t.getProposals({...e,product_id:s}).then(({data:t})=>{this.$set(this.pagination,"data",t),this.$set(this.proposal,"list",t.data)}).catch(t=>this.handlerError(t)).finally(()=>{this.loading=!1,this.getFiltersNames()})},async detailsProposals(t,{target:e}){const s=["button","input"];if(this.isToUnable||s.includes(e.localName))return;const a=new k["a"](this.token);t&&this.setProposalData(t),this.loading=!0,await a.getInfoUser().then(({data:t})=>{this.user=t,this.modal.proposal=!0}).catch(t=>this.handlerError(t)).finally(()=>{this.loading=!1})},async confirmMassAlteration(){const t=new de["a"](this.token);this.loading=!0,await t.massStatusUpdate(this.selectRowOptions.selected,this.form.status).then(()=>{Object(ke["toast"])({message:"Status atualizado com sucesso!",type:"is-success",dismissible:!0,pauseOnHover:!0,animate:{in:"fadeIn",out:"fadeOut"},position:"top-center",closeOnClick:!0})}).catch(t=>this.handlerError(t)).finally(()=>{this.loading=!1,this.close({key:"massStatusAlteration",paginate:!0})})},async reSimulateProposalINSS(){const t=new Jo["a"](this.token);this.loading=!0,await t.reSimulate({proposal_id:this.stateProposal.proposal_id}).then(({data:t})=>{Object(ke["toast"])({message:t.data,type:"is-success",dismissible:!0,pauseOnHover:!0,animate:{in:"fadeIn",out:"fadeOut"},position:"top-center",closeOnClick:!0})}).catch(t=>this.handlerError(t)).finally(()=>{this.loading=!1,this.close({key:"resimulateINSS",paginate:!0})})},async reSimulateProposalFGTS(){const t=new Wo["a"](this.token);this.loading=!0,await t.reSimulateFGTS({proposal_id:this.stateProposal.proposal_id}).then(({data:t})=>{Object(ke["toast"])({message:t.data,type:"is-success",dismissible:!0,pauseOnHover:!0,animate:{in:"fadeIn",out:"fadeOut"},position:"top-center",closeOnClick:!0})}).catch(t=>this.handlerError(t)).finally(()=>{this.loading=!1,this.close({key:"resimulateFGTS",paginate:!0})})},open({modal:t,data:e=null}){null!==e&&this.setProposalData(e),this.modal[t]=!0},close({key:t,paginate:e=!1}){if("all"===t)for(const s of Object.keys(this.modal))this.modal[s]=!1;else this.modal[t]=!1;e&&this.paginate()}}},ii=oi,ni=(s("3573"),Object(I["a"])(ii,Qo,Ko,!1,null,"6d275122",null)),ri=ni.exports,li=function(){var t=this,e=t._self._c;return e("base-modal",{attrs:{"show-buttons":!1},on:{close:t.close},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Aviso ")]},proxy:!0},{key:"body",fn:function(){return[e("div",{staticClass:"content has-text-centered"},[e("h3",[t._v(" Olá parceiro do Prata Digital. ")]),e("p",[t._v(" Abaixo seguem os principais procedimentos de segurança: ")]),e("p",[t._v(" Análise facial do tomador do crédito - base de dados que serve como parâmetro para evidenciar a veracidade da proposta. ")]),e("p",[t._v(" Consulta na RFB - o CPF do tomador é checado na Receita Federal a fim de se evitar propostas de CPFs inativos. ")]),e("p",[t._v(" Geolocalização - o local da formalização do contrato é confrontado com a região do endereço informado como residência do tomador do crédito. ")]),e("p",[t._v(" Consulta externa de endereço - serve para ratificar que o CPF tomador reside no local ou nas proximidades do local onde alega morar. ")]),e("hr"),e("button",{staticClass:"button is-primary is-medium mx-auto my-3",on:{click:t.close}},[t._v(" Entendido ")])])]},proxy:!0}])})},ci=[],di={name:"ModalCreditor",components:{BaseModal:Zs["default"]},methods:{close(){this.$emit("close")}}},ui=di,mi=(s("6cbd"),Object(I["a"])(ui,li,ci,!1,null,"1d82fd10",null)),pi=mi.exports,hi=function(){var t=this,e=t._self._c;return e("div")},vi=[],fi=s("c778");s("1be8");class bi extends L["a"]{async completeSurvey(t){return this.api.patch(this.baseUrl+"/survey/0",t).then(({data:t})=>t)}}var _i={name:"ModalSurveyAccordance",computed:{...Object(C["d"])({user:t=>t.user.userInfo,token:t=>t.app.logonToken,show_survey_commissions:t=>t.app.show_survey_commissions})},created(){this.show_survey_commissions&&this.createModalSurveyAccordance()},methods:{...Object(C["b"])({setShowCommissionSurvey:"app/SET_SHOW_SURVEY_COMMISSIONS"}),createModalSurveyAccordance(){const{toggle:t}=Object(fi["createPopup"])(Object({VUE_APP_BASE_API_URL:"https://api.bancoprata.com.br/v1",VUE_APP_ENV:"production",VUE_APP_GTM_ID:"GTM-P6KPZFSJ",VUE_APP_ALT_BASE_API_URL:"https://ymlzcthbmqcpwaiwcg3hikmbpa0rsehz.lambda-url.us-east-1.on.aws/v1",VUE_APP_BASE_INSTITUTIONAL_URL:"https://www.pratadigital.com.br",VUE_APP_THEME:"2.0.3",VUE_APP_HOSTNAME:"https://admin.bancoprata.com.br/",VUE_APP_G_RECAPTCHA_SITE_KEY:"6LckuosqAAAAAOdUVWNYQIydJ_HlHs6J5Jb4IOHb",NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_TYPEFORM_CORBAN_COMMISSION_LINK,{hidden:{user_id:this.user.id,name:this.user.name,email:this.user.email,promoter_id:this.user.promoter_id},onSubmit:async({formId:e,responseId:s})=>{const a=new bi(this.token),o={name:"corban-commission",details:{responseId:s,formId:e}};await a.completeSurvey(o).then(()=>{this.setShowCommissionSurvey(!1),t()}).catch(t=>{console.log(t)})}});t()}}},gi=_i,Ci=(s("ca09"),Object(I["a"])(gi,hi,vi,!1,null,"0491e788",null)),yi=Ci.exports;const wi=3,ki=13;var Si={name:"FGTSList",components:{Proposals:ri,ModalCreditor:pi,ModalSurveyAccordance:yi},mixins:[X["a"]],provide(){return{productID:this.productID}},data:()=>({meta:{title:"Propostas FGTS"},productID:wi,modal:{survey:!0,creditor:!0},roleToBlock:ki}),computed:{...Object(C["d"])({token:t=>t.app.logonToken,user:t=>t.user.userInfo,loading:t=>t.app.loading,show_survey_commissions:t=>t.app.show_survey_commissions,statuses:t=>t.app.statuses}),isToUnable(){var t,e;return!!(null!==(t=null===(e=this.user)||void 0===e?void 0:e.roles_ids)&&void 0!==t?t:[]).includes(this.roleToBlock)},header(){return this.user.internal_employee?["Ações","Crítico *","Criado em","Responsável","Cliente","CPF","Valor liberado","Banco","N. CCB","Data de desembolso","Status/OBS"]:["Ações","Crítico *","Criado em","Responsável","Cliente","CPF","Valor liberado","N. CCB","Data de desembolso","Status/OBS"]}},watch:{show_survey_commissions:{immediate:!0,handler(t){!1===t&&(this.modal.survey=!1)}}},created(){this.modal.creditor=this.isToUnable},methods:{close(){this.modal.creditor=!1}},metaInfo(){return j.meta(this.meta)}},xi=Si,Ai=Object(I["a"])(xi,Ho,Go,!1,null,null,null),Pi=Ai.exports,Di=function(){var t=this,e=t._self._c;return e("Layout",{attrs:{title:t.meta.title,"is-card":t.lists.displays.length>0,"max-width":"100%"},scopedSlots:t._u([{key:"helper",fn:function(){return[e("div",{staticClass:"card"},[e("div",{staticClass:"card-content"},[e("form",{staticClass:"consult__form",on:{submit:function(e){return e.preventDefault(),t.submit.apply(null,arguments)}}},[e("base-input",{attrs:{type:"tel",maxlength:"15",mask:"cpf"},model:{value:t.form.document,callback:function(e){t.$set(t.form,"document",e)},expression:"form.document"}},[e("label",{staticClass:"label"},[t._v("CPF")])]),e("base-select",{staticClass:"mx-5",attrs:{options:t.lists.banks},on:{change:function(e){t.lists.displays=[]}},model:{value:t.form.bank,callback:function(e){t.$set(t.form,"bank",e)},expression:"form.bank"}},[t._v(" Chave ")]),e("button",{staticClass:"button is-link mt-auto ml-auto",attrs:{type:"submit"}},[e("span",[t._v(" Consultar ")])])],1)])])]},proxy:!0}])},[e("table",{staticClass:"table is-narrow is-fullwidth"},[e("thead",[e("tr",t._l(t.tableStructure.titles,(function(s,a){return e("th",{key:a},[t._v(" "+t._s(s)+" ")])})),0)]),e("tbody",[t.lists.displays.length>0?t._l(t.lists.displays,(function(s,a){return e("tr",{key:a},[e("td",[t._v(" "+t._s(s.document)+" ")]),e("td",[t._v(" "+t._s(s.status)+" ")]),e("td",[t._v(" "+t._s(s.contract_number)+" | "+t._s(s.credit_operation_status)+" ")]),e("td",[t._v(" "+t._s(s.created_at)+" ")]),e("td",[e("button",{staticClass:"button is-ghost",attrs:{disabled:!s.reservation_request_pdf_link}},[e("span",{staticClass:"icon"},[e("i",{staticClass:"fas fa-file-pdf",on:{click:function(e){return t.showPDF(s.reservation_request_pdf_link)}}})])]),e("button",{staticClass:"button is-ghost"},[e("span",{staticClass:"icon"},[e("i",{staticClass:"fas fa-info-circle",on:{click:function(e){return t.showModal(s.external_id)}}})])])])])})):[e("tr",[e("td",{attrs:{colspan:t.tableStructure.titles.length}},[t.loading?e("span",[t._v("Carregando...")]):t._e(),t.loading||t.showAlertEmptyResponse?t._e():e("span",[t._v("Sem dados carregados")]),t.showAlertEmptyResponse&&!t.loading?e("span",[t._v(" A consulta não retornou dados, troque de chave e tente novamente ")]):t._e()])])]],2)]),t.modal.status&&3===t.form.product_id?e("ModalProposalStatus",{attrs:{"refresh-proposal-data":""},on:{close:function(e){return t.closeModal()},receipt:e=>{t.receiptData=e,t.modal.status=!1,t.modal.receipt=!0},proposalWithdrawal:e=>{t.withdrawalData=e,t.modal.status=!1,t.modal.withdrawal=!0}}}):t._e(),t.modal.receipt?e("ModalProposalStatusReceipt",{attrs:{"receipt-data":t.receiptData},on:{close:()=>{t.form.external_id="",t.modal.receipt=!1,t.modal.status=!0},back:()=>{t.modal.receipt=!1,t.modal.status=!0}}}):t._e(),t.modal.withdrawal?e("ModalProposalWithdrawal",{attrs:{"withdrawal-data":t.withdrawalData},on:{close:function(e){t.modal.withdrawal=!1},back:e=>{t.modal.status=!0,t.modal.withdrawal=!1}}}):t._e()],1)},Ti=[],Ii=s("9581"),Ei={name:"ReservationList",components:{Layout:Xt,BaseInput:V["default"],BaseSelect:se["default"],ModalProposalStatus:Ma["default"],ModalProposalStatusReceipt:Ba["default"],ModalProposalWithdrawal:Ii["default"]},mixins:[w["a"]],data:()=>({meta:{title:"Consulta de Reserva"},withdrawalData:null,receiptData:!1,form:{product_id:0,document:"",bank:""},lists:{banks:[{value:"ANGA",name:"ANGA"},{value:"CB",name:"CB"},{value:"CRITERIA",name:"CRITERIA"}],displays:[],proposals:[]},tableStructure:{titles:["CPF","Situação da Reserva","Operação Relacionada","Data da Operação","Ações"]},modal:{status:!1,receipt:!1,withdrawal:!1},showAlertEmptyResponse:!1}),computed:{...Object(C["d"])({token:t=>t.app.logonToken})},mounted(){const t=3;this.form.product_id=t},beforeDestroy(){this.setProposalData({})},methods:{...Object(C["b"])({setToken:"app/SET_TOKEN",setProposalData:"proposal/SET_PROPOSAL_DATA"}),showPDF(t){window.open(t,"_blank")},showModal(t){this.setProposalData({external_proposal_id:t,creditor_bank:this.form.bank}),this.form.external_id=t,this.modal.status=!0},closeModal(){this.setProposalData({}),this.form.external_id="",this.modal.status=!1},validate(){return!(!this.form.document||!this.form.bank)||(Object(ke["toast"])({message:"Preencha todos os campos para consultar.",type:"is-warning",dismissible:!0,pauseOnHover:!0,animate:{in:"fadeIn",out:"fadeOut"},position:"top-center",closeOnClick:!0}),!1)},async submit(){const t=new Wo["a"](this.token),e=this.validate();this.showAlertEmptyResponse=!1,e&&(this.loading=!0,await t.getCreditCardStatus(this.form.document,this.form.bank).then(({data:t})=>{t.data.length?this.lists.displays=t.data.map(({display:t})=>t):this.showAlertEmptyResponse=!0}).catch(t=>{404===t.response.status&&Object(ke["toast"])({message:"Infelizmente não foi possível encontrar este registro.",type:"is-danger",dismissible:!0,pauseOnHover:!0,animate:{in:"fadeIn",out:"fadeOut"},position:"top-center",closeOnClick:!0})}).finally(()=>{this.loading=!1}))}},metaInfo(){return j.meta(this.meta)}},Oi=Ei,Mi=(s("f30a"),Object(I["a"])(Oi,Di,Ti,!1,null,"354ca1c8",null)),Ri=Mi.exports,Bi=function(){var t=this,e=t._self._c;return e("Layout",{staticClass:"consult",attrs:{title:t.meta.title,"max-width":"100%","is-card":""},scopedSlots:t._u([{key:"helper",fn:function(){return[e("div",{staticClass:"card"},[e("div",{staticClass:"card-content"},[e("v-validate-observer",{ref:"form",scopedSlots:t._u([{key:"default",fn:function({handleSubmit:s,failed:a}){return[e("form",{staticClass:"consult__form",on:{submit:function(e){return e.preventDefault(),s(t.consult)}}},[e("v-validate",{attrs:{rules:"required",name:"Banco"},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("base-select",{attrs:{"error-message":s[0],options:t.suppliers,disabled:!t.suppliers.length,featured:""},model:{value:t.form.supplier_id,callback:function(e){t.$set(t.form,"supplier_id",e)},expression:"form.supplier_id"}},[e("span",[t._v(" Banco ")])])]}}],null,!0)}),e("v-validate",{attrs:{rules:"required|length:14|CPF",name:"CPF"},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("base-input",{staticClass:"document-input",attrs:{"error-message":s[0],type:"tel",maxlength:"15",mask:"cpf"},model:{value:t.form.document,callback:function(e){t.$set(t.form,"document",e)},expression:"form.document"}},[e("span",[t._v(" CPF ")])])]}}],null,!0)}),e("span",{staticClass:"is-flex is-align-items-end mr-0"},[e("button",{staticClass:"button is-outlined is-link mt-auto",class:{recuo:a},on:{click:function(e){return e.preventDefault(),t.pasteDocument.apply(null,arguments)}}},[e("span",[t._v(" Colar ")])])]),e("span",{staticClass:"is-flex is-align-items-end mr-0"},[e("button",{staticClass:"button is-link mt-auto",class:{recuo:a},attrs:{type:"submit"},on:{click:()=>{t.consultOrigin="header",t.expandedIndex=null}}},[e("span",[t._v(" Consultar ")])])])],1)]}}])}),t.consultResponse&&t.isConsultFromHeader&&!t.isExpanded?[e("fieldset",{staticClass:"mt-3"},[e("legend",[t._v("Simular")]),e("BalanceSimulate",{attrs:{"supplier-id":t.consultResponse.supplier_id,product:t.form.product_id,document:t.form.document,"available-amount":t.consultResponse.issue_amount,"insurance-alert":!t.tcEligible,suppliers:t.suppliers},on:{simulation:t.setInfo,reset:function(e){return t.setInfo({},!0)}}}),t.info?[e("ConsultSimulationTable",{staticClass:"mt-3 mb-0",attrs:{info:t.info,"balance-type":"Saldo FGTS","has-clear-cache":""},on:{register:function(e){return t.validateSimulationData({document:t.form.document,supplier_id:t.consultResponse.supplier_id})},clear:function(e){return t.clearCache({document:t.form.document,supplier_id:t.consultResponse.supplier_id})}}})]:t._e()],2)]:t._e(),t.hideBmpBestCommissionTip?t._e():[t.consultResponse&&t.message.error?t._e():[e("div",{staticClass:"supplier-alert mt-3"},[e("div",{staticClass:"is-flex"},[e("span",{staticClass:"icon"},[e("img",{attrs:{src:t.imgLamp,alt:"lamp"}})]),e("h6",[t._v(" Dica ")])]),e("span",[t._v(" Utilize a "),e("strong",[t._v("BMP")]),t._v(" para obter melhores comissões. ")])])]]],2)])]},proxy:!0}])},[t.modal.alert.show?[e("the-error",{attrs:{message:`O CPF ${t.modal.alert.data} foi incluído na fila de consultas abaixo,\n            aguarde que o resultado será exibido em breve.`,type:"info"}})]:t._e(),t.message.error&&t.isConsultFromHeader&&!t.isNotFound?[e("the-error",{attrs:{message:t.message.error},scopedSlots:t._u([{key:"message",fn:function(){return[e("div",{staticClass:"is-relative"},[e("button",{staticClass:"delete is-absolute is-top-right",attrs:{"aria-label":"delete"},on:{click:function(e){t.message.error=""}}}),e("div",{staticClass:"is-flex"},[e("span",[t._v(" "+t._s(t.message.error)+" ")]),t.canCleanConsultCache?e("button",{staticClass:"button is-small is-warning ml-auto",on:{click:function(e){return t.clearCache({document:t.form.document,supplier_id:t.form.supplier_id})}}},[e("span",[t._v("Limpar cache")]),e("span",{staticClass:"icon"},[e("i",{staticClass:"fas fa-redo"})])]):t._e()])])]},proxy:!0}],null,!1,4080662421)})]:t._e(),e("div",{staticClass:"table__container"},[e("div",{staticClass:"buttons"},[e("button",{staticClass:"button is-link is-outlined ml-auto mb-5",on:{click:function(e){return e.preventDefault(),t.getList.apply(null,arguments)}}},[e("span",{staticClass:"icon is-small"},[e("i",{staticClass:"fas fa-redo"})]),e("span",[t._v("Recarregar")])]),t.selectedItems.length>0?[e("button",{staticClass:"button is-warning mb-5",on:{click:function(e){e.preventDefault(),t.modal.confirm=!0}}},[e("span",[t._v(" Remover "+t._s(t.selectedItems.length)+" "+t._s(t.selectedItems.length>1?"itens":"item")+" ")])])]:t._e()],2),e("table",{staticClass:"table table__main is-narrow is-fullwidth"},[e("thead",{staticClass:"sticky"},[e("tr",[t._l(t.table.keys,(function(s,a){return[["checkbox"].includes(s)?[t.table.data.size?["checkbox"===s?e("th",{key:a,staticClass:"is-narrow"},[e("label",{staticClass:"checkbox",on:{click:t.handleSelectedAll}},[e("i",{class:t.selectedItems.length?"fas fa-check-square":"far fa-square"})])]):t._e()]:t._e()]:"Ação"===s?[e("th",{key:a,staticClass:"is-narrow"},[t._v(" "+t._s(s)+" ")])]:[e("th",{key:a},[t._v(" "+t._s(s)+" ")])]]}))],2)]),e("tbody",[t.table.data.size?[t._l(Array.from({length:t.table.data.size}),(function(s,a){return[e("tr",{key:"row-"+a,staticClass:"data-row"},[t._l(t.table.valid_keys,(function(s,o){return[e("td",{key:"$col-"+o,staticClass:"hasPointer",class:{"is-narrow":"checkbox"===s},on:{click:function(e){return t.expand(t.table.data,a)}}},["checkbox"===s?[e("label",{staticClass:"checkbox"},[e("i",{class:t.selectedItems.includes(t.table.data.get(a)["id"])?"fas fa-check-square":"far fa-square"}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedItems,expression:"selectedItems"}],attrs:{type:"checkbox",name:"checkbox-"+t.table.data.get(a)["id"]},domProps:{value:t.table.data.get(a)["id"],checked:Array.isArray(t.selectedItems)?t._i(t.selectedItems,t.table.data.get(a)["id"])>-1:t.selectedItems},on:{change:function(e){var s=t.selectedItems,o=e.target,i=!!o.checked;if(Array.isArray(s)){var n=t.table.data.get(a)["id"],r=t._i(s,n);o.checked?r<0&&(t.selectedItems=s.concat([n])):r>-1&&(t.selectedItems=s.slice(0,r).concat(s.slice(r+1)))}else t.selectedItems=i}}})])]:t._e(),"document"===s?[t.isConsultant?[e("span",{class:{blurred:t.hasToBeBlurred(t.table.data,a)}},[t._v(" "+t._s(t.table.data.get(a)["document"])+" ")])]:[e("span",[e("CopyToClipboard",[t._v(" "+t._s(t.table.data.get(a)["document"])+" ")])],1)]]:t._e(),"status"===s&&t.table.data.get(a)["partner"]?e("span",{staticClass:"chip is-user"},[t._v(" "+t._s(t.table.data.get(a)["partner"])+" ")]):t._e(),"status"===s?e("span",{staticClass:"chip",class:{"is-info":"pending"===t.table.data.get(a)["status"],"is-success":"success"===t.table.data.get(a)["status"],"is-warning":"failed"===t.table.data.get(a)["status"]},attrs:{"data-tooltip":"pending"===t.table.data.get(a)["status"]?"Aguardando retorno da CEF":"success"===t.table.data.get(a)["status"]?"Consulta concluída com sucesso":"Consulta concluída"}},[t._v(" "+t._s("pending"===t.table.data.get(a)["status"]?"AGUARDANDO RETORNO DA CEF":"CONSULTA CONCLUÍDA")+" ")]):t._e()],2)]}))],2),t.isExpanded&&t.expandedIndex===a?e("tr",{key:"detail-"+a,staticClass:"table__details no-hover-effect"},[e("td",{attrs:{colspan:t.table.keys.size}},[t.consultResponse?[e("BalanceSimulate",{attrs:{"supplier-id":t.table.data.get(a)["supplier_id"],product:t.form.product_id,document:t.table.data.get(a)["document"],"available-amount":t.consultResponse.issue_amount,"insurance-alert":!t.tcEligible,suppliers:t.suppliers},on:{simulation:t.setInfo,reset:function(e){return t.setInfo({},!0)}}}),t.info?[e("ConsultSimulationTable",{staticClass:"mt-3 mb-0",attrs:{info:t.info,"has-clear-cache":!1,"balance-type":"Saldo FGTS"},on:{register:function(e){t.validateSimulationData({document:t.table.data.get(a)["document"],supplier_id:t.table.data.get(a)["supplier_id"]})}}})]:t._e()]:!t.message.error&&t.table.data.get(a)&&"pending"==t.table.data.get(a)["status"]?e("div",{staticClass:"message is-info"},[e("div",{staticClass:"message-body"},[e("p",[t._v(" Ainda não recebemos o retorno da CEF, por gentileza aguarde mais um pouco. ")])])]):t.message.error||t.loading?t._e():e("div",{staticClass:"message is-warning"},[e("div",{staticClass:"message-body"},[e("p",[t._v(" "+t._s(t.table.data.get(a)?t.table.data.get(a)["status_reason"]:"")+" ")])])]),!t.message.error||t.isConsultFromHeader||t.loading?t._e():[e("the-error",{attrs:{message:t.message.error},scopedSlots:t._u([{key:"message",fn:function(){return[e("div",{staticClass:"is-flex"},[e("span",[t._v(t._s(t.message.error))]),t.canCleanConsultCache?e("button",{staticClass:"button is-small is-warning ml-auto",on:{click:function(e){t.clearCache({document:t.table.data.get(a)["document"],supplier_id:t.table.data.get(a)["supplier_id"]})}}},[e("span",[t._v("Limpar cache")]),e("span",{staticClass:"icon"},[e("i",{staticClass:"fas fa-redo"})])]):t._e()])]},proxy:!0}],null,!0)})]],2)]):t._e()]}))]:[e("tr",[e("td",{attrs:{colspan:t.table.keys.size}},[t.isNotFound?[e("p",{staticClass:"p-3"},[t._v(" Consulta não retornou registros ")])]:[e("p",{staticClass:"p-3"},[t._v(" "+t._s(t.loading?"carregando ...":"sem dados")+" ")])]],2)])]],2)])]),t.modal.register.show?e("ModalData",{attrs:{"steps-list":new Set(["basic","documents","address","bank","proposal-new"]),"product-id":3,"prioritize-state":"consult","is-new":""},on:{close:function(e){t.modal.register.show=!1}}}):t._e(),t.modal.confirm?e("base-modal",{attrs:{"show-buttons":!0,"button-two-text":"Cancelar","button-one-text":`Remover ${t.selectedItems.length} ${t.selectedItems.length>1?"itens":"item"}`},on:{close:function(e){t.modal.confirm=!1},"button-2":function(e){t.modal.confirm=!1},"button-1":t.removeItemsFromWaitList},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Remover "+t._s(t.selectedItems.length)+" "+t._s(t.selectedItems.length>1?"itens":"item")+" da listagem ")]},proxy:!0},{key:"body",fn:function(){return[t._v(" Essa ação irá remover os itens selecionados da listagem, deseja continuar? ")]},proxy:!0}],null,!1,1320320731)}):t._e()],2)},Li=[],Ui=s("4c4e"),Ni=s("b7f2"),qi=s.n(Ni),Fi=s("df18"),ji=s("053b"),Vi=s("436a"),zi=s("49db"),$i=s("ac81"),Hi={name:"FGTSConsult",components:{Layout:Xt,BaseInput:V["default"],BaseSelect:se["default"],BalanceSimulate:zi["default"],ConsultSimulationTable:$i["default"],ModalData:()=>Promise.resolve().then(s.bind(null,"4c23")),CopyToClipboard:()=>Promise.resolve().then(s.bind(null,"811c")),BaseModal:()=>Promise.resolve().then(s.bind(null,"c1ec")),TheError:()=>Promise.resolve().then(s.bind(null,"c6f5"))},mixins:[w["a"],Z["a"],X["a"]],data:()=>({meta:{title:"Consulta de Saldo FGTS"},form:{product_id:3,supplier_id:null,document:""},selectedItems:[],modal:{register:{show:!1},alert:{show:!1,data:null,timeout:null},confirm:!1},table:{keys:new Set(["checkbox","CPF","Status"]),valid_keys:new Set(["checkbox","document","status"]),data:new Map},message:{error:"",timeout:null},expandedIndex:null,consultResponse:null,consultOrigin:null,info:null,imgLamp:qi.a,hideBmpBestCommissionTip:!0}),computed:{...Object(C["d"])({token:t=>t.app.logonToken,user:t=>t.user.userInfo,suppliersData:t=>t.app.suppliers,$_documentsConsulted:t=>t.consult.documentsConsulted}),documentsConsulted:{get(){return this.$_documentsConsulted},set(t){this.setDocumentsConsulted(t)}},isExpanded(){return null!==this.expandedIndex},isConsultFromHeader(){return"header"===this.consultOrigin},canCleanConsultCache(){const t=["Cliente sem saldo mínimo para antecipação","Não é possível desembolsar"];return t.some(t=>{var e;return null===(e=this.message.error)||void 0===e?void 0:e.includes(t)})},tcEligible(){return!Object.hasOwnProperty.call(this.consultResponse,"tc_eligible")||(null===this.consultResponse.tc_eligible||this.consultResponse.tc_eligible)},allListIds(){const t=[];for(const e of this.table.data.values())t.push(e.id);return t},isNotFound(){return"Infelizmente não foi possível encontrar este registro."===this.message.error},suppliers(){if(0===this.suppliersData.length)return[];const t=[];for(const{name:e,value:s}of[...this.suppliersData])t.push({name:e,value:s,featured:"BMP"===e,message:"BMP"===e?"Melhor comissão":null});return t}},watch:{"form.supplier_id":{async handler(){this.consultResponse=null,this.info=null,this.expandedIndex=null}},"form.document":{async handler(){this.consultResponse=null,this.info=null}},"form.creditor":{async handler(){await this.getList()}},"modal.confirm":{handler(t){t||(this.selectedItems=[])}},suppliers(){this.preSelectSupplier()}},async mounted(){await this.getList(),this.preSelectSupplier()},beforeDestroy(){this.setDocumentsConsulted([])},methods:{...Object(C["b"])({setConsult:"consult/SET_CONSULT",setDocumentsConsulted:"consult/SET_DOCUMENTS_CONSULTED"}),pasteDocument(){navigator.clipboard.readText().then(t=>{if("string"===typeof t){const e=document.querySelector(".document-input > input");if(this.validDocumentToFormat(t)){const s=this.formatDocument(t);e.value=s,this.form.document=s}else Object(ke["toast"])({message:"Documento inválido!",type:"is-danger",dismissible:!0,pauseOnHover:!0,animate:{in:"fadeIn",out:"fadeOut"},position:"bottom-center",closeOnClick:!0})}})},validDocumentToFormat(t){const e=t.length<=14,s=!t.match(/[^0-9.-]/);return e&&s},formatDocument(t){return t.replace(/([\D.-])/,"").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3}.)(\d{3}.)(\d{3})(.)/,"$1$2$3-")},close(){this.modal.alert.show=!1,this.modal.alert.data=null},async expand(t,e){if(this.hasToBeBlurred(t,e))return;const{status:s,supplier_id:a}=t.get(e);let o=e;e===this.expandedIndex&&(o=null),this.info=null,this.consultResponse=null,this.expandedIndex=o,this.modal.alert.show=!1,this.modal.alert.data=null,this.modal.alert.timeout=null,this.consultOrigin="list",this.$set(this.message,"error",""),null===this.expandedIndex||["pending"].includes(s)||await this.consult(a)},handlerError(t){var e,s,a,o,i,n,r,l,c,d,u,m;let p=(null===t||void 0===t||null===(e=t.response)||void 0===e||null===(s=e.data)||void 0===s||null===(a=s.error)||void 0===a?void 0:a.message)||(null===t||void 0===t||null===(o=t.error)||void 0===o||null===(i=o.response)||void 0===i||null===(n=i.data)||void 0===n||null===(r=n.error)||void 0===r?void 0:r.message)||(null===t||void 0===t||null===(l=t.error)||void 0===l||null===(c=l.data)||void 0===c?void 0:c.message)||(null===t||void 0===t?void 0:t.message)||t;if(null!==t&&void 0!==t&&null!==(d=t.response)&&void 0!==d&&null!==(u=d.data)&&void 0!==u&&null!==(m=u.error)&&void 0!==m&&m.errors){var h,v,f;const e=Object.values(null===t||void 0===t||null===(h=t.response)||void 0===h||null===(v=h.data)||void 0===v||null===(f=v.error)||void 0===f?void 0:f.errors);p=p.concat("<br> - "+e.map(t=>t).join("<br> - "))}this.$set(this.message,"error",p)},handleSelectedAll(){this.selectedItems.length?this.selectedItems=[]:this.selectedItems=this.allListIds},formatDataToSubmit(){return this.isExpanded?{document:this.table.data.get(this.expandedIndex).document,status_reason:this.table.data.get(this.expandedIndex).status_reason}:{document:this.form.document,status_reason:null}},preSelectSupplier(){W.a.find(this.suppliers,{value:Ui["a"].BMP_SUPPLIER_ID})&&(this.form.supplier_id=Ui["a"].BMP_SUPPLIER_ID,this.hideBmpBestCommissionTip=!1)},hasToBeBlurred(t,e){if(this.isConsultant)return Array.isArray(this.documentsConsulted)?!this.documentsConsulted.includes(t.get(e).document):!this.documentsConsulted.has(t.get(e).document)},setInfo({disbursed_issue_amount:t,periods:e,...s},a=!1){if(a)return void(this.info=null);const o=[];if(Array.isArray(e))for(const{due_date:n,total_amount:r}of e)o.push({dtRepasse:n,valor:r});const i="Você poderá antecipar um total de R$ "+t;this.info={},this.$set(this.info,"Mensagem",i),this.$set(this.info,"periods",o),this.$set(this.info,"wish_amount_request",t),this.$set(this.info,"data",s)},api(t){return t===Ui["a"].QITECH_SUPPLIER_ID?new Wo["a"](this.token):t===Ui["a"].BMP_SUPPLIER_ID?new Fi["a"](this.token):t===Ui["a"].CARTOS_SUPPLIER_ID?new ji["a"](this.token):null},async getList(){const t=new Wo["a"](this.token),{product_id:e}=this.form;this.info=null,this.loading=!0,this.expandedIndex=null,this.$set(this.message,"error",""),this.close(),await t.list({product_id:e}).then(({data:t})=>{this.table.data=new Map,t.data.reverse().forEach((t,e)=>{this.table.data.set(e,t)})}).catch(async t=>{await this.handlerError(t),this.isNotFound&&(this.table.data=new Map)}).finally(()=>{this.loading=!1})},async consult(t){const e=null!==t&&void 0!==t?t:this.form.supplier_id,s=this.api(e),{document:a,status_reason:o}=this.formatDataToSubmit();if(o)return this.$set(this.message,"error",o);this.loading=!0,this.info=null,this.selectedItems=[],this.isConsultFromHeader&&(this.consultResponse=null),this.$set(this.message,"error",""),this.close(),await s.consult({document:a.replace(/\D/g,"")}).then(({data:t})=>{Object.prototype.hasOwnProperty.call(t.data,"statusCode")&&422===t.data.statusCode&&this.handlerError({message:t.data.error_message.description}),t.data.disbursed_issue_amount&&t.data.periods&&(this.consultResponse=t.data),"pending"===t.data.status&&(this.isConsultFromHeader&&(this.modal.alert.data=a,this.modal.alert.show=!0),this.isExpanded&&(this.$set(this.message,"error",""),this.close(),this.table.data.set(this.expandedIndex,t.data))),this.isConsultFromHeader||this.isExpanded||this.message.error||this.getList()}).catch(async t=>{await this.handlerError(t),this.isNotFound&&(this.table.data=new Map)}).finally(()=>{this.loading=!1,this.isConsultFromHeader&&this.documentsConsulted.push(a)})},async validateSimulationData({document:t,supplier_id:e}){const s=new Wo["a"](this.token);this.loading=!0,await s.validateSimulation({document:t,supplier_id:e}).then(async()=>this.register()).catch(t=>this.handlerError(t)).finally(()=>{this.loading=!1})},async register(){const t=new Vi["a"](this.token);await t.refusal(this.info.data.form.document.replace(/\D/g,"")).then(async()=>{this.setConsult({document:this.info.data.form.document,rate_id:this.info.data.form.rate_id,rate_name:this.info.data.form.rate_name,amount:this.info.data.issue_amount,wishAmount:this.info.wish_amount_request,supplier_id:this.info.data.supplier_id,suppliers_to_authorize:this.info.data.suppliers_to_authorize,isProductFGTS:!0}),this.modal.register.show=!0}).catch(t=>this.handlerError(t))},async clearCache({document:t,supplier_id:e}){if(!t)return this.handlerError({message:"Informe um CPF"});const s=new Wo["a"](this.token);this.loading=!0,await s.clearCache({document:t,supplier_id:e}).then(()=>{Object(ke["toast"])({message:"Cache desta consulta foi limpo com sucesso!",type:"is-success",dismissible:!0,pauseOnHover:!0,animate:{in:"fadeIn",out:"fadeOut"},position:"bottom-center",closeOnClick:!0,duration:6e3})}).catch(({error:t})=>{Object(ke["toast"])({message:t.message,type:"is-danger",dismissible:!0,pauseOnHover:!0,animate:{in:"fadeIn",out:"fadeOut"},position:"bottom-center",closeOnClick:!0})}).finally(()=>{this.loading=!1,this.info=!1,this.expandedIndex=null})},async removeItemsFromWaitList(){const t=new Wo["a"](this.token);this.info=null,this.loading=!0,this.expandedIndex=null,this.consultOrigin="header",this.consultResponse=null,this.$set(this.message,"error",""),this.close(),await t.removeItemsFromWaitList({ids:this.selectedItems.join(",")}).then(()=>this.getList()).catch(t=>this.handlerError(t)).finally(()=>{this.loading=!1,this.modal.confirm=!1})}},metaInfo(){return j.meta(this.meta)}},Gi=Hi,Qi=(s("a362"),Object(I["a"])(Gi,Bi,Li,!1,null,"14dcd78d",null)),Ki=Qi.exports;const Ji="fgts",Wi="/fgts";var Yi=[{name:Ji+"-proposal",path:Wi+"/propostas",component:Pi},{name:Ji+"-consult",path:Wi+"/consultar",component:Ki},{name:Ji+"-reserve",path:Wi+"/reservar",component:Ri}],Zi=function(){var t=this,e=t._self._c;return e("Proposals",{attrs:{"product-id":t.productID,header:t.header,statuses:t.statuses,"show-buttons":[!1,!0],steps:new Set(["upload","basic","documents","address","bank","proposal"]),title:t.meta.title}})},Xi=[],tn={name:"CPRList",components:{Proposals:ri},data:()=>({meta:{title:"Propostas Crédito Consignado"},productID:2,header:["Ações","Data","Responsável","Status/OBS","Nome","CPF","Data de Nasc.","Telefone","Banco Credor","Proposta"]}),computed:{...Object(C["d"])({statuses:t=>t.app.statuses})},metaInfo(){return j.meta(this.meta)}},en=tn,sn=Object(I["a"])(en,Zi,Xi,!1,null,null,null),an=sn.exports;const on="cpr",nn="/cpr";var rn=[{name:on+"-proposal",path:nn+"/propostas",component:an},{path:"/propostas/consignado-privado",redirect:nn+"/propostas"}],ln=function(){var t=this,e=t._self._c;return e("Proposals",{attrs:{"product-id":t.productID,header:t.header,statuses:t.statuses,"show-buttons":[!1,!0],steps:new Set(["upload","basic","documents","address","vehicle","bank","proposal"]),title:t.meta.title}})},cn=[],dn={name:"VehicleList",components:{Proposals:ri},data:()=>({meta:{title:"Propostas Veículo em Garantia"},productID:4,header:["Ações","Data","Responsável","Status/OBS","Nome","CPF","Data de Nasc.","Telefone","Banco Credor","Proposta"]}),computed:{...Object(C["d"])({statuses:t=>t.app.statuses})},metaInfo(){return j.meta(this.meta)}},un=dn,mn=Object(I["a"])(un,ln,cn,!1,null,null,null),pn=mn.exports;const hn="vehicle",vn="/veiculo";var fn=[{name:hn+"-proposal",path:vn+"/propostas",component:pn},{path:"/propostas/veiculo",redirect:vn+"/propostas"}],bn=function(){var t=this,e=t._self._c;return e("Proposals",{attrs:{"product-id":t.productID,header:t.header,statuses:t.statuses,"role-to-block":t.roleToBlock,steps:new Set(["upload","basic","documents","address","bank","proposal"]),title:t.meta.title}},[!t.loading&&t.modal.creditor?e("ModalCreditor",{on:{close:t.close}}):t._e()],1)},_n=[],gn={name:"CreditCardList",components:{Proposals:ri,ModalCreditor:pi},provide(){return{productID:this.productID}},data:()=>({meta:{title:"Propostas Cartão de Crédito"},productID:8,header:["Ações","Criado em","Responsável","Cliente","CPF","Valor liberado","N. CCB","Data de desembolso","Status/OBS"],modal:{creditor:!0},roleToBlock:13}),computed:{...Object(C["d"])({user:t=>t.user.userInfo,statuses:t=>t.app.statuses,loading:t=>t.app.loading}),isTypistOrManager(){var t,e,s,a;return(null===this||void 0===this||null===(t=this.user)||void 0===t||null===(e=t.roles_ids)||void 0===e?void 0:e.includes(3))||(null===this||void 0===this||null===(s=this.user)||void 0===s||null===(a=s.roles_ids)||void 0===a?void 0:a.includes(9))},isToUnable(){var t,e;return!!(null!==(t=null===(e=this.user)||void 0===e?void 0:e.roles_ids)&&void 0!==t?t:[]).includes(this.roleToBlock)}},created(){this.modal.creditor=this.isToUnable},methods:{close(){this.modal.creditor=!1}},metaInfo(){return j.meta(this.meta)}},Cn=gn,yn=Object(I["a"])(Cn,bn,_n,!1,null,null,null),wn=yn.exports,kn=function(){var t,e,s,a=this,o=a._self._c;return o("Layout",{attrs:{title:a.meta.title,"max-width":a.showSimulationData?"100%":"800px","is-card":""}},[o("div",{staticClass:"columns",class:{isMobile:a.isMobile}},[o("div",{staticClass:"column"},[o("v-validate-observer",{scopedSlots:a._u([{key:"default",fn:function({handleSubmit:t}){return[o("form",{on:{submit:function(e){return e.preventDefault(),t(a.simulateCreditCard)}}},[o("v-validate",{attrs:{rules:"required|alert_min",name:"Valor desejado"},scopedSlots:a._u([{key:"default",fn:function({errors:t}){return[o("base-input",{staticClass:"mb-5",attrs:{"error-message":t[0],mask:"money"},on:{change:function(t){a.form.amount=t}},model:{value:a.form.amount,callback:function(t){a.$set(a.form,"amount",t)},expression:"form.amount"}},[a._v(" Valor desejado ")])]}}],null,!0)}),o("v-validate",{attrs:{rules:"required|CPF",name:"CPF"},scopedSlots:a._u([{key:"default",fn:function({errors:t}){return[o("base-input",{staticClass:"mb-5",attrs:{"error-message":t[0],type:"tel",maxlength:"15",mask:"cpf"},on:{change:function(t){a.form.document=t}},model:{value:a.form.document,callback:function(t){a.$set(a.form,"document",t)},expression:"form.document"}},[a._v(" CPF ")])]}}],null,!0)}),a.lists.creditors.length>1?[o("v-validate",{attrs:{rules:"required",name:"Credor"},scopedSlots:a._u([{key:"default",fn:function({errors:t}){return[o("base-select",{staticClass:"mb-5",attrs:{options:a.lists.creditors,"error-message":t[0]},on:{input:a.getCreditCardRates},model:{value:a.form.creditor,callback:function(t){a.$set(a.form,"creditor",t)},expression:"form.creditor"}},[a._v(" Credor ")])]}}],null,!0)})]:a._e(),o("v-validate",{attrs:{rules:"required",name:"Parcelas"},scopedSlots:a._u([{key:"default",fn:function({errors:t}){return[o("base-select",{staticClass:"mb-6",attrs:{options:a.lists.rates,"error-message":t[0]},model:{value:a.form.rate,callback:function(t){a.$set(a.form,"rate",t)},expression:"form.rate"}},[a._v(" Parcelas ")])]}}],null,!0)}),o("div",{staticClass:"is-flex"},[o("button",{staticClass:"button is-link btn-consult mr-auto",class:{"has--changed":a.formHasChanged},attrs:{type:"submit"}},[o("span",[a._v(" "+a._s(a.showSimulationData?"Simular novamente":"Enviar simulação")+" ")])])])],2)]}}])})],1),a.showSimulationData?[a.formHasChanged?[o("div",{staticClass:"column is-flex"},[o("div",{staticClass:"data p-3 m-auto"},[o("p",[a._v("Alteração na simulação detectada")]),o("p",{staticClass:"has-text-weight-normal"},[a._v(" Simular novamente ou desfazer alterações e prosseguir ")]),o("p",[a._v("Dados simulados")]),o("ul",{staticClass:"has-text-weight-normal mb-3"},[o("li",[a._v("Valor: "+a._s(a._f("money")(a.dataUsedToSimulate.amount)))]),o("li",[a._v("CPF: "+a._s(a.dataUsedToSimulate.document))]),o("li",[a._v("Parcelas: "+a._s(a.findMaxPeriodsByValue(a.dataUsedToSimulate.rate)))])]),o("p",{staticClass:"mb-0"},[a._v(" Novos dados ")]),o("ul",{staticClass:"has-text-weight-normal mt-0"},[a.dataUsedToSimulate.amount!==a.form.amount?o("li",[a._v(" Valor: "+a._s(a._f("money")(a.form.amount))+" ")]):a._e(),a.dataUsedToSimulate.document!==a.form.document?o("li",[a._v(" CPF: "+a._s(a.form.document)+" ")]):a._e(),a.dataUsedToSimulate.rate!==a.form.rate?o("li",[a._v(" Parcelas: "+a._s(a.findMaxPeriodsByValue(a.form.rate))+" ")]):a._e()])])])]:[o("div",{staticClass:"column"},[o("div",{staticClass:"data"},[o("p",[a._v("Taxa de Juros (ao mês)")]),o("p",[o("span",{staticClass:"highlight"},[a._v(" "+a._s((null===(t=a.selectedRate)||void 0===t?void 0:t.monthlyRate)||0)+"% ")])]),o("p",[a._v("CET (ao mês)")]),o("p",[o("span",{staticClass:"highlight"},[a._v(" "+a._s((100*(null===(e=a.simulationData)||void 0===e?void 0:e.cet)||0).toFixed(2))+"% ")])]),o("p",[a._v("Parcelas")]),o("p",[o("span",[a._v(a._s((null===(s=a.selectedRate)||void 0===s?void 0:s.maxPeriods)||0)+"x ")]),o("span",{staticClass:"highlight"},[a._v(a._s(a._f("money")(a.installmentValue||0)))])]),o("p",[a._v("Limite Necessário no cartão")]),o("p",[o("span",{staticClass:"highlight"},[a._v(" "+a._s(a._f("money")(a.simulationData.periods_total_amount||0))+" ")])]),a.showSimulationData?[o("hr",{staticClass:"divider mx-auto",staticStyle:{"max-width":"90%"}}),o("div",{staticClass:"is-flex"},[0!=Object.keys(a.simulationData).length?o("button",{staticClass:"button",on:{click:a.register}},[o("span",[a._v("Enviar dados cadastrais")])]):a._e()])]:a._e()],2)])]]:a._e()],2),a.modalRegistration?o("ModalData",{attrs:{"steps-list":new Set(["basic","documents","address","bank","proposal-new"]),"product-id":8,"prioritize-state":"consult","is-new":""},on:{close:function(t){a.modalRegistration=!1}}}):a._e()],1)},Sn=[],xn=s("120e"),An=s("4c23"),Pn={name:"CreditCardSimulator",components:{Layout:Xt,BaseInput:V["default"],BaseSelect:se["default"],ModalData:An["default"]},mixins:[w["a"]],data:()=>({meta:{title:"Simulação Cartão de Crédito "},lists:{rates:[],creditors:[]},form:{amount:0,document:"",creditor:"",rate:""},type:"net-present-value",modalRegistration:!1,dataUsedToSimulate:{},simulationData:{},showSimulationData:!1,formHasChanged:!1,money:{decimal:",",thousands:".",prefix:"",suffix:"",precision:2,masked:!1,disableNegative:!1,disabled:!1,min:null,max:null,allowBlank:!1,minimumNumberOfCharacters:0,debug:!1}}),computed:{...Object(C["d"])({token:t=>t.app.logonToken}),...Object(C["c"])({isMobile:"app/isMobile"}),limitNeeded(){return this.installmentValue*this.simulatedPeriod},selectedRate(){return this.lists.rates.find(t=>t.value===Number(this.form.rate))},installmentValue(){const{periods:t,periods_total_amount:e}=this.simulationData;return e/(null===t||void 0===t?void 0:t.length)}},watch:{form:{handler(){this.verifyFormChanges()},deep:!0}},async mounted(){await this.getCreditCardCreditor(),this.getCreditCardRates()},methods:{...Object(C["b"])({setConsult:"consult/SET_CONSULT"}),register(){this.handleSetConsult(),this.modalRegistration=!0},handleSetConsult(){var t;const{document:e,rate:s,amount:a}=this.form,o={document:e,rate:s,wishAmount:Number(a),amount:this.simulationData.issue_amount,totalAmount:this.simulationData.periods_total_amount,rate_name:null===(t=this.selectedRate)||void 0===t?void 0:t.name};this.setConsult(o)},getCreditCardRates(){const t=new xn["a"](this.token);this.loading=!0;const{creditor:e}=this.form;t.getCreditCardRates(e).then(({data:t})=>{this.lists.rates=t.map(t=>{const{id:e,name:s,monthly_rate:a,max_periods:o}=t;return{value:e,name:s,monthlyRate:a,maxPeriods:o}})}).finally(()=>{this.loading=!1})},async getCreditCardCreditor(){const t=new xn["a"](this.token);this.loading=!0,await t.getCreditCardCreditor().then(({data:t})=>{this.lists.creditors=t.data.map((t,e,s)=>{const{creditor_id:a,name:o}=t;return 1===s.length&&(this.form.creditor=a),{value:a,name:o}})}).finally(()=>{this.loading=!1})},simulateCreditCard(){const t=new xn["a"](this.token),{rate:e,amount:s,document:a}=this.form,{type:o}=this;this.loading=!0,this.showSimulationData=!1,t.simulateCreditCard(o,e,s,a).then(({data:t})=>{this.simulationData=t,this.showSimulationData=!0,this.dataUsedToSimulate={...this.form},this.verifyFormChanges()}).catch(({response:t})=>{const{errors:e}=t.data.error;Object.values(e).forEach(([t])=>{Object(ke["toast"])({message:t,type:"is-danger",dismissible:!0,pauseOnHover:!0,animate:{in:"fadeIn",out:"fadeOut"},position:"top-center",closeOnClick:!0})})}).finally(()=>{this.loading=!1})},verifyFormChanges(){const{amount:t,document:e,creditor:s,rate:a}=this.dataUsedToSimulate;this.showSimulationData&&(this.formHasChanged=this.form.amount!==t||this.form.document!==e||this.form.creditor!==s||this.form.rate!==a)},findMaxPeriodsByValue(t){var e;const s=Number(t);return(null===(e=W.a.find(this.lists.rates,{value:s}))||void 0===e?void 0:e.maxPeriods)||0}},metaInfo(){return j.meta(this.meta)}},Dn=Pn,Tn=(s("87ea"),Object(I["a"])(Dn,kn,Sn,!1,null,"906b7da2",null)),In=Tn.exports;const En="credit-card",On="/cartao";var Mn=[{name:En+"-proposal",path:On+"/propostas",component:wn},{name:En+"-simulator",path:On+"/simular",component:In}],Rn=function(){var t=this,e=t._self._c;return e("Layout",{staticClass:"consult",attrs:{title:t.meta.title,"max-width":"100%","is-card":""},scopedSlots:t._u([{key:"helper",fn:function(){return[t.form.min_wage?[e("div",{staticClass:"card factor"},[e("div",{staticClass:"card-content"},[e("div",{staticClass:"is-flex"},[e("div",[e("p",[t._v("Fator previdenciário")]),e("div",{staticClass:"is-flex p-3 has-background-grey-lighter"},[e("div",{staticClass:"is-flex"},[t._v(" Salário base: "),e("span",[t._v(t._s(t._f("money")(t.form.min_wage)))])]),e("div",{staticClass:"is-flex"},[t._v(" Parcela: "),e("span",[t._v(t._s(t._f("money")(t.form.installment_based_on_min_wage)))])]),e("div",{staticClass:"is-flex"},[t._v(" Valor liberado: "),e("span",[t._v(t._s(t._f("money")(t.factorDisbursedIssueAmount)))])]),e("div",{staticClass:"is-flex"},[t._v(" Fator: "),e("span",[t._v(t._s(t.form.factor))])])])]),e("div",[e("p",[t._v("Valor da parcela - Calculadora")]),e("div",{staticClass:"is-flex"},[e("base-input",{staticClass:"p-0",staticStyle:{width:"150px"},attrs:{mask:"money"},model:{value:t.form.calc_amount,callback:function(e){t.$set(t.form,"calc_amount",e)},expression:"form.calc_amount"}}),e("div",{staticClass:"is-flex ml-3"},[t._v(" Valor liberado: "),e("span",[t._v(t._s(t._f("money")(t.factorIssuedAmount)))])])],1)])])])])]:t._e(),e("div",{staticClass:"card"},[e("div",{staticClass:"card-content"},[e("v-validate-observer",{scopedSlots:t._u([{key:"default",fn:function({handleSubmit:s,failed:a}){return[e("form",{staticClass:"consult__form",on:{click:function(t){t.stopPropagation()},submit:function(e){return e.preventDefault(),s(t.consult)}}},[e("v-validate",{attrs:{rules:"required|length:14|CPF",name:"CPF"},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("base-input",{staticClass:"document-input",attrs:{"error-message":s[0],type:"tel",maxlength:"15",mask:"cpf"},model:{value:t.form.document,callback:function(e){t.$set(t.form,"document",e)},expression:"form.document"}},[e("span",[t._v(" CPF "),e("small",[t._v("*")])])])]}}],null,!0)}),e("v-validate",{attrs:{name:"Número do Benefício"}},[e("base-input",{staticClass:"document-input",attrs:{type:"tel"},model:{value:t.form.benefit_number,callback:function(e){t.$set(t.form,"benefit_number",e)},expression:"form.benefit_number"}},[e("span",[t._v(" Número do Benefício "),e("small",[t._v("(opcional)")])])])],1),e("span",{staticClass:"is-flex is-align-items-end mr-0"},[e("button",{staticClass:"button is-outlined is-link mt-auto",class:{recuo:a},on:{click:function(e){return e.preventDefault(),t.pasteDocument.apply(null,arguments)}}},[e("span",[t._v(" Colar ")])])]),e("span",{staticClass:"is-flex is-align-items-end mr-0 mt-auto"},[e("button",{staticClass:"button is-link",class:{recuo:a},attrs:{type:"submit"},on:{click:()=>{t.consultOrigin="header",t.expandedIndex=null}}},[e("span",[t._v(" Consultar ")])])])],1)]}}])}),t.consultResponse&&t.isConsultFromHeader&&!t.isExpanded?[e("fieldset",{staticClass:"mt-3"},[e("legend",[t._v("Simular")]),e("BalanceSimulate",{attrs:{"supplier-id":t.QITECH_SUPPLIER_ID,product:t.form.product_id,document:t.form.document,"benefit-number":t.form.benefit_number||t.consultResponse.benefit_number,"available-amount":t.availableAmount},on:{simulation:t.setInfo}}),t.info?[e("ConsultSimulationTable",{staticClass:"mt-3 mb-0",attrs:{info:t.info,"has-clear-cache":!1,"balance-type":"Saldo INSS"},on:{register:()=>{t.consultOrigin="header",t.register()}}})]:t._e()],2)]:t._e()],2)])]},proxy:!0}])},[t.modal.alert.show?e("div",{staticClass:"columns"},[e("div",{staticClass:"column"},[e("div",{staticClass:"message is-info"},[e("div",{staticClass:"message-body"},[t._v(" "+t._s(`O CPF ${t.modal.alert.data} foi incluído na fila de consultas abaixo, aguarde que o resultado será exibido em breve.`)+" ")])])])]):t._e(),t.message.error&&t.isConsultFromHeader&&"Infelizmente não foi possível encontrar este registro."!=t.message.error?e("div",{staticClass:"columns"},[e("div",{staticClass:"column"},[e("div",{staticClass:"message is-warning"},[e("div",{staticClass:"message-body is-relative"},[e("button",{staticClass:"delete is-absolute is-top-right",attrs:{"aria-label":"delete"},on:{click:function(e){t.message.error=""}}}),e("div",{staticClass:"is-flex is-align-items-center"},[e("span",[t._v(" "+t._s(t.message.error)+" ")]),t.message.hasLink?e("div",{staticClass:"ml-auto"},[e("a",{staticClass:"button is-ghost has-text-warning-dark",on:{click:t.copy}},[e("span",[t._v("Copiar link")]),e("span",{staticClass:"icon"},[e("i",{staticClass:"fas fa-copy"})]),e("input",{ref:"validation-link",attrs:{type:"hidden"},domProps:{value:t.validationLink}})]),e("button",{staticClass:"button is-ghost has-text-warning-dark",on:{click:t.genQRCode}},[e("span",[t._v("Gerar QRCode")]),e("span",{staticClass:"icon"},[e("i",{staticClass:"fas fa-qrcode"})])])]):t._e()])])])])]):t._e(),t.showQRCode?e("div",{staticClass:"is-flex is-justify-content-center"},[e("div",{staticClass:"qrcode p-3 mt-3",class:{active:t.showQRCode}},[e("canvas",{ref:"qrcode",staticClass:"qrcode__canvas"}),e("button",{staticClass:"button is-link is-small has-border",on:{click:t.saveQRCode}},[e("span",[t._v("Salvar imagem")]),e("span",{staticClass:"icon"},[e("i",{staticClass:"fas fa-download"})])]),e("button",{staticClass:"button is-ghost is-small",on:{click:t.closeQRCode}},[e("span",[t._v("Fechar")]),e("span",{staticClass:"icon"},[e("i",{staticClass:"fas fa-timex"})])])])]):t._e(),e("div",{staticClass:"table__container"},[e("div",{staticClass:"is-flex"},[e("button",{staticClass:"button is-link is-outlined ml-auto mb-5",on:{click:function(e){return e.preventDefault(),(()=>{t.consultOrigin="header",t.getList()}).apply(null,arguments)}}},[e("span",{staticClass:"icon is-small"},[e("i",{staticClass:"fas fa-redo"})]),e("span",[t._v("Recarregar")])])]),e("table",{staticClass:"table table__main is-narrow is-fullwidth"},[e("thead",{staticClass:"sticky"},[e("tr",t._l(t.table.keys,(function(s,a){return e("th",{key:a,class:{"is-narrow":"Ação"===s}},[t._v(" "+t._s(s)+" ")])})),0)]),e("tbody",[t.table.data.size?[t._l(Array.from({length:t.table.data.size}),(function(s,a){return[e("tr",{key:"row-"+a,staticClass:"data-row"},[t._l(t.table.valid_keys,(function(s,o){return[e("td",{key:"$col-"+o,staticClass:"hasPointer",on:{click:function(e){t.expand(a,t.table.data.get(a)["status"])}}},["document"===s?e("span",[e("CopyToClipboard",[t._v(" "+t._s(t.table.data.get(a)["document"])+" ")])],1):t._e(),"benefit_number"===s?e("span",[e("CopyToClipboard",[t._v(" "+t._s(t.table.data.get(a)["benefit_number"])+" ")])],1):t._e(),"external_key"===s?e("span",[t._v(" "+t._s(t.table.data.get(a)["external_key"])+" ")]):"status"===s?e("span",{staticClass:"chip",class:{"is-info":["pending","pending_search"].includes(t.table.data.get(a)["status"]),"is-success":"success"===t.table.data.get(a)["status"],"is-warning":"failed"===t.table.data.get(a)["status"]},attrs:{"data-tooltip":["pending","pending_search"].includes(t.table.data.get(a)["status"])?"Aguardando retorno da QITECH":"success"===t.table.data.get(a)["status"]?"Consulta concluída com sucesso":"Consulta concluída"}},[t._v(" "+t._s(["pending","pending_search"].includes(t.table.data.get(a)["status"])?"AGUARDANDO RETORNO":"CONSULTA CONCLUÍDA")+" ")]):t._e()])]}))],2),t.isExpanded&&t.expandedIndex===a?e("tr",{key:"detail-"+a,staticClass:"table__details no-hover-effect"},[e("td",{attrs:{colspan:t.table.keys.size}},[!t.message.error&&t.table.data.get(a)&&"success"==t.table.data.get(a)["status"]?e("div",[t.consultResponse?[e("BalanceSimulate",{attrs:{"supplier-id":t.QITECH_SUPPLIER_ID,product:t.form.product_id,document:t.table.data.get(a)["document"],"benefit-number":t.table.data.get(a)["benefit_number"],"available-amount":t.availableAmount},on:{simulation:t.setInfo}}),t.info?[e("ConsultSimulationTable",{staticClass:"mt-3 mb-0",attrs:{info:t.info,"has-clear-cache":!1,"balance-type":"Saldo INSS"},on:{register:()=>{t.consultOrigin="list",t.register()}}})]:t._e()]:t._e()],2):!t.message.error&&t.table.data.get(a)&&["pending","pending_search"].includes(t.table.data.get(a)["status"])?e("div",{staticClass:"message is-info"},[e("div",{staticClass:"message-body"},[e("p",[t._v(" Ainda não recebemos o retorno da QITECH, por gentileza aguarde mais um pouco. ")])])]):t.message.error||t.loading?t._e():e("div",{staticClass:"message is-warning"},[e("div",{staticClass:"message-body"},[e("p",[t._v(" "+t._s(t.table.data.get(a)?t.table.data.get(a)["status_reason"]:"")+" ")])])]),!t.message.error||t.isConsultFromHeader||t.loading?t._e():e("div",{staticClass:"message is-warning mt-3"},[e("div",{staticClass:"message-body"},[e("span",[t._v(t._s(t.message.error))])])])])]):t._e()]}))]:[e("tr",[e("td",{attrs:{colspan:t.table.keys.size}},[e("i",[t._v(t._s(t.loading?"carregando ...":"sem dados"))])])])]],2)])]),t.modal.register.show?e("ModalData",{attrs:{"steps-list":new Set(["basic","documents","address","bank","proposal-new"]),"product-id":12,"prioritize-state":"consult","is-new":""},on:{close:function(e){t.modal.register.show=!1}}}):t._e()],1)},Bn=[],Ln={name:"INSSConsult",components:{Layout:Xt,BaseInput:V["default"],ModalData:()=>Promise.resolve().then(s.bind(null,"4c23")),CopyToClipboard:()=>Promise.resolve().then(s.bind(null,"811c")),BalanceSimulate:()=>Promise.resolve().then(s.bind(null,"49db")),ConsultSimulationTable:()=>Promise.resolve().then(s.bind(null,"ac81"))},mixins:[w["a"],Z["a"]],inject:["domain"],data:()=>({meta:{title:"Consulta Margem INSS"},form:{product_id:12,document:"",benefit_number:"",wish_amount:"",status:"",factor:"",disbursed_issue_amount:"",min_wage:"",installment_based_on_min_wage:"",calc_amount:""},modal:{register:{show:!1},alert:{show:!1,data:null,interval:null,timeout:15e3}},table:{keys:new Set(["CPF","Número do Benefício","Status"]),valid_keys:new Set(["document","benefit_number","status"]),data:new Map},message:{error:"",interval:null,timeout:15e3,hasLink:!1},expandedIndex:null,consultResponse:null,consultOrigin:null,info:null,showQRCode:!1}),computed:{...Object(C["d"])({token:t=>t.app.logonToken}),isExpanded(){return null!==this.expandedIndex},isConsultFromHeader(){return"header"===this.consultOrigin},validationLink(){const t="production";let e="https://assina.queroprata.com/inss/form?wl="+this.domain;return"production"===t&&(e="https://assina.bancoprata.com.br/inss/form?wl="+this.domain),e},availableAmount(){const{available_total_balance:t,available_total_balance_per_installment:e}=this.consultResponse;return{"net-present-value":null!==t&&void 0!==t?t:0,"payment-per-period":null!==e&&void 0!==e?e:0}},factorDisbursedIssueAmount(){return this.form.installment_based_on_min_wage/this.form.factor},factorIssuedAmount(){return this.form.calc_amount/this.form.factor},QITECH_SUPPLIER_ID(){return Ui["a"].QITECH_SUPPLIER_ID}},async mounted(){await this.getList(),this.getFactor()},methods:{...Object(C["b"])({setConsult:"consult/SET_CONSULT"}),close(){this.modal.alert.show=!1,this.modal.alert.data=null},pasteDocument(){navigator.clipboard.readText().then(t=>{if("string"===typeof t){const e=document.querySelector(".document-input > input");if(this.validDocumentToFormat(t)){const s=this.formatDocument(t);e.value=s,this.form.document=s}else Object(ke["toast"])({message:"Documento inválido!",type:"is-danger",dismissible:!0,pauseOnHover:!0,animate:{in:"fadeIn",out:"fadeOut"},position:"bottom-center",closeOnClick:!0})}})},validDocumentToFormat(t){const e=t.length<=14,s=!t.match(/[^0-9.-]/);return e&&s},formatDocument(t){return t.replace(/([\D.-])/,"").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3}.)(\d{3}.)(\d{3})(.)/,"$1$2$3-")},async expand(t,e){let s=t;t===this.expandedIndex&&(s=null),this.info=null,this.consultResponse=null,this.expandedIndex=s,this.modal.alert.show=!1,this.modal.alert.data=null,this.modal.alert.interval=null,this.consultOrigin="list",null===this.expandedIndex||["pending","pending_search"].includes(e)||await this.consult()},handlerError(t){var e,s,a,o,i,n,r,l,c,d,u,m,p;let h=(null===t||void 0===t||null===(e=t.response)||void 0===e||null===(s=e.data)||void 0===s||null===(a=s.error)||void 0===a?void 0:a.message)||(null===t||void 0===t||null===(o=t.error)||void 0===o||null===(i=o.response)||void 0===i||null===(n=i.data)||void 0===n||null===(r=n.error)||void 0===r?void 0:r.message)||(null===t||void 0===t||null===(l=t.error)||void 0===l||null===(c=l.data)||void 0===c?void 0:c.message)||(null===t||void 0===t?void 0:t.message)||t;if(this.message.hasLink=!1,null!==t&&void 0!==t&&null!==(d=t.response)&&void 0!==d&&null!==(u=d.data)&&void 0!==u&&null!==(m=u.error)&&void 0!==m&&m.errors){var v,f,b;const e=Object.values(null===t||void 0===t||null===(v=t.response)||void 0===v||null===(f=v.data)||void 0===f||null===(b=f.error)||void 0===b?void 0:b.errors);h=h.concat("<br> - "+e.map(t=>t).join("<br> - "))}(404===(null===t||void 0===t||null===(p=t.request)||void 0===p?void 0:p.status)||h.toLowerCase().includes("nao existe uma autorizacao valida para a pessoa com cpf")||h.toLowerCase().includes("não existe uma autorização válida para a pessoa com cpf")||h.toLowerCase().includes("para a pessoa com"))&&(this.message.hasLink=!0),this.$set(this.message,"error",h)},copy(){const t=this.$refs["validation-link"];t.setAttribute("type","text"),t.select();try{document.execCommand("copy"),Object(ke["toast"])({message:"Link copiado!",type:"is-success",dismissible:!0,pauseOnHover:!0,animate:{in:"fadeIn",out:"fadeOut"},position:"top-center",closeOnClick:!0})}catch{}t.setAttribute("type","hidden"),window.getSelection().removeAllRanges()},genQRCode(){this.showQRCode?this.showQRCode=!1:(this.showQRCode=!0,setTimeout(()=>{const t=this.$refs.qrcode,e=this.validationLink,s=this;yo.a.toCanvas(t,e,t=>{t&&(s.showQRCode=!1)})},50))},saveQRCode(){const t=this.$refs.qrcode,e=t.toDataURL("image/png",1).replace("image/png","image/octet-stream"),s=document.createElement("a");s.href=e,s.setAttribute("download","qrcode-validation-link.png"),document.body.appendChild(s),s.click(),document.body.removeChild(s)},closeQRCode(){this.showQRCode=!1},maskDate(t){return t.replace(/\D/g,"").replace(/(\d{2})(\d)/,"$1/$2").replace(/(\d{2})(\d)/,"$1/$2")},setInfo({disbursed_issue_amount:t,periods:e,...s}){const a=[];if(Array.isArray(e))for(const{due_date:i,amount:n}of e)a.push({dtRepasse:i,valor:n});const o="Você poderá antecipar um total de R$ "+t;this.info={},this.$set(this.info,"Mensagem",o),this.$set(this.info,"periods",a),this.$set(this.info,"wish_amount_request",t),this.$set(this.info,"data",s)},async getList(){const t=new Jo["a"](this.token),{product_id:e}=this.form;this.consultResponse=null,this.loading=!0,this.expandedIndex=null,this.$set(this.message,"error",""),await t.list({product_id:e}).then(({data:t})=>{this.table.data=new Map;for(let e=0;e<t.data.length;e++)t.data[e].id&&this.table.data.set(e,t.data[e])}).catch(t=>this.handlerError(t)).finally(()=>{this.loading=!1})},async consult(){const t=new Jo["a"](this.token);let e,s,a;this.isExpanded?(e=this.table.data.get(this.expandedIndex).document,s=this.table.data.get(this.expandedIndex).benefit_number,a=this.table.data.get(this.expandedIndex).status_reason):null!==this.consultResponse?(e=this.consultResponse.document_number,s=this.consultResponse.benefit_number):(e=this.form.document,s=this.form.benefit_number,a=this.form.status_reason),this.consultResponse=null,this.loading=!0,this.$set(this.message,"error",""),a?this.$set(this.message,"error",a):await t.consult({document:e.replace(/\D/g,""),benefit_number:s}).then(({data:t})=>{(t.data.cache||t.data.name)&&(this.consultResponse=t.data),"pending_search"===t.data.status&&(this.isConsultFromHeader&&(this.modal.alert.data=e,this.modal.alert.show=!0),this.isExpanded&&(this.$set(this.message,"error",""),this.table.data.set(this.expandedIndex,t.data))),this.isConsultFromHeader||this.isExpanded||this.message.error||this.getList()}).catch(t=>this.handlerError(t)),this.loading=!1},async register(){const t=new Vi["a"](this.token);this.loading=!0,await t.refusal(this.form.document.replace(/\D/g,"")).then(async()=>{var t,e,s,a,o,i,n;const{disbursement_bank_account:r}=null!==(t=null===(e=this.info)||void 0===e||null===(s=e.data)||void 0===s?void 0:s.beneficiary_info)&&void 0!==t?t:{};this.setConsult({document:this.info.data.form.document,wishAmount:this.info.data.form.amount,type_name:this.info.data.form.type_name,name:this.info.data.beneficiary_info.name,birthdate:this.maskDate(this.info.data.beneficiary_info.birth_date),bank_id:Number(null!==(a=null===r||void 0===r?void 0:r.bank_code)&&void 0!==a?a:"0"),branch_number:null!==(o=null===r||void 0===r?void 0:r.account_branch)&&void 0!==o?o:"0",account_number:(null!==(i=null===r||void 0===r?void 0:r.account_number)&&void 0!==i?i:"0").concat(null!==(n=null===r||void 0===r?void 0:r.account_digit)&&void 0!==n?n:"0"),supplier_id:this.QITECH_SUPPLIER_ID,rate_name:"Padrão",rate_id:13}),this.modal.register.show=!0}).catch(t=>this.handlerError(t)).finally(()=>{this.loading=!1})},async getFactor(){const t=new Jo["a"](this.token);this.$set(this.message,"error",""),await t.factor().then(({data:t})=>{this.form.factor=t.data.factor,this.form.disbursed_issue_amount=t.data.disbursed_issue_amount,this.form.min_wage=t.data.min_wage,this.form.installment_based_on_min_wage=t.data.installment_based_on_min_wage,this.form.calc_amount=t.data.installment_based_on_min_wage}).catch(t=>this.handlerError(t))}},metaInfo(){return j.meta(this.meta)}},Un=Ln,Nn=(s("0220"),Object(I["a"])(Un,Rn,Bn,!1,null,"dbf325a2",null)),qn=Nn.exports,Fn=function(){var t=this,e=t._self._c;return e("Proposals",{attrs:{"product-id":t.productID,header:t.tableHeader,statuses:t.statuses,"role-to-block":t.roleToBlock,steps:new Set(["upload","basic","documents","address","bank","proposal-data"]),title:t.meta.title}})},jn=[];const Vn=12,zn=13;var $n={name:"INSSList",components:{Proposals:ri},mixins:[X["a"]],data:()=>({meta:{title:"Propostas INSS"},productID:Vn,roleToBlock:zn}),computed:{...Object(C["d"])({user:t=>t.user.userInfo,token:t=>t.app.logonToken,statuses:t=>t.app.statuses}),tableHeader(){return this.user.internal_employee?["Ações","Crítico *","Criado em","Responsável","Cliente","CPF","Valor liberado","Banco","N. CCB","Data de desembolso","Status/OBS"]:["Ações","Crítico *","Criado em","Responsável","Cliente","CPF","Valor liberado","N. CCB","Data de desembolso","Status/OBS"]}},metaInfo(){return j.meta(this.meta)}},Hn=$n,Gn=(s("4de6"),Object(I["a"])(Hn,Fn,jn,!1,null,"6748dbdc",null)),Qn=Gn.exports;const Kn="inss",Jn="/inss";var Wn=[{name:Kn+"-proposal",path:Jn+"/propostas",component:Qn},{name:Kn+"-consult",path:Jn+"/consultar",component:qn}],Yn=function(){var t=this,e=t._self._c;return e("Layout",{attrs:{"has-nav":!1,"has-header":!t.videoCallTerminated}},[t.videoCallTerminated?[e("div",{staticClass:"terminated"},[e("div",{staticClass:"box"},[e("img",{attrs:{src:t.img,alt:"Finished"}}),e("h2",{staticClass:"subtitle"},[t._v(" Sessão encerrada com sucesso ")]),e("p",[t._v(" Essa aba será encerrada automaticamente ou você pode fecha-la. ")])])])]:[e("div",{staticClass:"columns is-vcentered"},[e("div",{staticClass:"column is-three-fifths"},[e("iframe",{attrs:{allow:"camera; microphone; fullscreen; speaker; display-capture",width:"700",height:"700",src:t.moderatorEmbedUrl}})]),e("div",{staticClass:"validation-data"},[e("h2",[t._v("Validação dados cliente")]),e("section",{staticClass:"user-info-card"},[e("div",{staticClass:"user-info-card__selfie",on:{click:t.openSelfie}},[e("img",{attrs:{src:t.proposalData.selfie||"/img/logo-mobile-prata.png",alt:"Perfil do usuário"}}),e("span",{staticClass:"icon is-small"},[e("i",{staticClass:"fas fa-expand-arrows-alt"})])]),e("div",[e("h3",[t._v(t._s(t.proposalData.client_name))]),e("p",[t._v("Proposta "+t._s(t.proposalData.proposal_id))])])]),e("section",{staticClass:"proposal-detail"},[e("h3",[t._v(" Detalhes da proposta "),e("span",{on:{click:t.openProposalList}},[t._v(" Ver proposta completa "),e("span",{staticClass:"icon is-small"},[e("i",{staticClass:"fas fa-external-link-alt"})])])]),e("table",[e("tr",[e("th",[t._v("Nome")]),e("td",[t._v(t._s(t.proposalData.client_name))])]),e("tr",[e("th",[t._v("CPF")]),e("td",[t._v(t._s(t.proposalData.document))])]),e("tr",[e("th",[t._v("Taxa de Juros aplicada")]),e("td",[t._v(t._s(t.proposalData.rate_name))])]),e("tr",[e("th",[t._v("Quantidade de parcelas")]),e("td",[t._v(t._s(t.proposalData.quota_qty)+"x")])]),e("tr",[e("th",[t._v("Valor da parcela")]),e("td",[t._v(t._s(t._f("money")(t.proposalData.quota_amount)))])]),e("tr",[e("th",[t._v("Valor liberado")]),e("td",[t._v(t._s(t._f("money")(t.proposalData.wish_amount)))])]),e("tr",[e("th",[t._v("Valor total")]),e("td",[t._v(t._s(t._f("money")(t.proposalData.amount)))])])])]),e("section",{staticClass:"link-area"},[e("h3",[t._v("Acesso a vídeo chamada")]),e("div",[e("button",{staticClass:"button is-light",on:{click:t.copy}},[e("span",[t._v(" Copiar link ")]),e("span",{staticClass:"icon is-small"},[e("i",{staticClass:"fas fa-link"})])]),e("button",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"button is-light"},[e("span",[t._v(" Enviar por WhatsApp ")]),e("span",{staticClass:"icon is-small"},[e("i",{staticClass:"fab fa-whatsapp"})])]),e("button",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"button is-light"},[e("span",[t._v(" Enviar por e-mail ")]),e("span",{staticClass:"icon is-small"},[e("i",{staticClass:"fas fa-at"})])])])]),e("section",{staticClass:"questions"},[e("h3",[t._v("Confirmação dos dados")]),e("p",[t._v("Confirmo que:")]),t._l(t.questionList,(function(s,a){return e("label",{key:a,staticClass:"checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:s.accepted,expression:"question.accepted"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(s.accepted)?t._i(s.accepted,null)>-1:s.accepted},on:{change:function(e){var a=s.accepted,o=e.target,i=!!o.checked;if(Array.isArray(a)){var n=null,r=t._i(a,n);o.checked?r<0&&t.$set(s,"accepted",a.concat([n])):r>-1&&t.$set(s,"accepted",a.slice(0,r).concat(a.slice(r+1)))}else t.$set(s,"accepted",i)}}}),t._v(" "+t._s(s.text)+" ")])}))],2),e("section",{staticClass:"button-area"},[e("button",{staticClass:"button is-ghost",on:{click:function(e){return t.modalToggle("endCallConfirmation")}}},[t._v(" Encerrar chamada ")]),e("button",{staticClass:"button is-danger",on:{click:function(e){return t.modalToggle("reproveConfirmation")}}},[t._v(" Reprovar ")]),e("button",{staticClass:"button is-primary",class:{disabled:!t.canApprove},attrs:{disabled:!t.canApprove},on:{click:function(e){return t.modalToggle("approveConfirmation")}}},[t._v(" Aprovar ")])])])])],t.modalList.approveConfirmation?e("base-modal",{attrs:{"show-buttons":t.shouldShowApproveModalButtons,"message-error":t.message.error,"button-two-text":"Fechar","button-one-text":"Aprovar Proposta"},on:{close:function(e){return t.modalToggle("approveConfirmation")},"button-2":function(e){return t.modalToggle("approveConfirmation")},"button-1":function(e){return t.handleApprove()}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Aprovar Proposta ")]},proxy:!0},{key:"body",fn:function(){return[e("p",[t._v(" Aprovar proposta N. "+t._s(t.proposalData.proposal_id)+" do cliente "+t._s(t.proposalData.client_name)+"? ")])]},proxy:!0}],null,!1,588539145)}):t._e(),t.modalList.reproveConfirmation?e("base-modal",{attrs:{"button-two-text":"Fechar","button-one-text":"Reprovar Proposta"},on:{close:function(e){return t.modalToggle("reproveConfirmation")},"button-2":function(e){return t.modalToggle("reproveConfirmation")},"button-1":function(e){return t.handleReprove()}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Reprovar proposta ")]},proxy:!0},{key:"body",fn:function(){return[e("p",[t._v(" Aprovar proposta N. "+t._s(t.proposalData.proposal_id)+" do cliente "+t._s(t.proposalData.client_name)+"? ")]),e("div",{staticClass:"control"},[e("label",[t._v("Observações sobre a negativa da proposta")]),e("textarea",{staticClass:"input",staticStyle:{width:"100%",height:"80px"},domProps:{value:t.form.obs}})])]},proxy:!0}],null,!1,154304409)}):t._e(),t.modalList.endCallConfirmation?e("base-modal",{attrs:{"button-two-text":"Fechar","button-one-text":"Encerrar Chamada"},on:{close:function(e){return t.modalToggle("endCallConfirmation")},"button-2":function(e){return t.modalToggle("endCallConfirmation")},"button-1":function(e){return t.endCall()}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Encerrar chamada ")]},proxy:!0},{key:"body",fn:function(){return[e("p",[t._v(" Tem certeza que deseja encerrar a chamada? Ao encerrar a chamada será necessário realizar uma nova chamada com o cliente para aprovar ou reprovar a proposta. ")])]},proxy:!0}],null,!1,1833808225)}):t._e()],2)},Zn=[],Xn=s("14b7"),tr=s.n(Xn),er=s("c84f"),sr=s.n(er),ar={name:"VideoCall",components:{BaseModal:Zs["default"],Layout:Xt},mixins:[w["a"],Z["a"]],inject:["domain"],data:()=>({proposalData:{},meta:{title:"Vídeo Chamada"},modalList:{approveConfirmation:!1,reproveConfirmation:!1,endCallConfirmation:!1},message:{error:"",interval:null,timeout:15e3},form:{obs:""},antifraudData:null,videoCallId:null,partnerRoomId:null,moderatorEmbedUrl:null,messageWhenApproved:null,shouldShowApproveModalButtons:!0,videoCallTerminated:!1,img:sr.a,questionList:[{text:"Nome e CPF do cliente foram conferidos",accepted:!1},{text:"Município que reside confere",accepted:!1},{text:"Cliente está ciente da contratação do empréstimo nas condições acima, por meio de desconto em folha da aposentadoria",accepted:!1}]}),computed:{...Object(C["d"])({$_token:t=>t.app.logonToken}),token:{get(){return this.$_token},set(t){this.$store.dispatch("app/SET_TOKEN",t)}},accountId(){return this.$route.query.account_id},videoCallClientUrl(){return Object(Ue["g"])(this.videoCallId,"video-chamada")},canApprove(){return this.questionList.every(t=>t.accepted)}},async mounted(){this.$route.query.account_id&&(this.unmountDataParam(),await this.initVideoSession())},methods:{unmountDataParam(){tr.a.verify(this.$route.query.data,"jesussalva123",(t,e)=>{this.proposalData=e})},maskValue(t){const e={style:"currency",currency:"BRL"};return parseFloat(t).toLocaleString("pt-BR",e)},async initVideoSession(){this.proposalData||alert("Não foi possível recuperar os dados do anti-fraude."),await this.createVideoCallRoom()},setCreatedVideoData(t){this.videoCallId=t.id,this.partnerRoomId=t.room_id,this.moderatorEmbedUrl=t.moderator_embed_url},openProposalList(){window.open(`https://admin.${this.domain}/fgts/propostas`,"_blank")},copy(){navigator.clipboard.writeText(this.videoCallClientUrl),Object(ke["toast"])({message:"Texto copiado com sucesso!",type:"is-success",dismissible:!0,pauseOnHover:!0,animate:{in:"fadeIn",out:"fadeOut"},position:"top-center",closeOnClick:!0})},modalToggle(t){this.modalList[t]=!this.modalList[t]},openSelfie(){this.proposalData.selfie?window.open(this.proposalData.selfie):Object(ke["toast"])({message:"Não há selfie enviada",type:"is-danger",dismissible:!0,pauseOnHover:!0,animate:{in:"fadeIn",out:"fadeOut"},position:"top-center",closeOnClick:!0})},handleReprove(){return window.close()},endCall(){return window.close()},handlerError(t){var e,s,a,o,i,n,r,l,c,d,u,m;let p=(null===t||void 0===t||null===(e=t.response)||void 0===e||null===(s=e.data)||void 0===s||null===(a=s.error)||void 0===a?void 0:a.message)||(null===t||void 0===t||null===(o=t.error)||void 0===o||null===(i=o.response)||void 0===i||null===(n=i.data)||void 0===n||null===(r=n.error)||void 0===r?void 0:r.message)||(null===t||void 0===t||null===(l=t.error)||void 0===l||null===(c=l.data)||void 0===c?void 0:c.message)||(null===t||void 0===t?void 0:t.message)||t;if(null!==t&&void 0!==t&&null!==(d=t.response)&&void 0!==d&&null!==(u=d.data)&&void 0!==u&&null!==(m=u.error)&&void 0!==m&&m.errors){var h,v,f;const e=Object.values(null===t||void 0===t||null===(h=t.response)||void 0===h||null===(v=h.data)||void 0===v||null===(f=v.error)||void 0===f?void 0:f.errors);p=p.concat("<br> - "+e.map(t=>t).join("<br> - "))}this.$set(this.message,"error",p)},async createVideoCallRoom(){const t=new Vi["a"](this.token);this.loading=!0,await t.createVideoCallRoom({account_id:this.accountId,proposal_id:this.proposalData.proposal_id}).then(({data:t})=>this.setCreatedVideoData(t.data)).catch(t=>console.log(t)).finally(()=>{this.loading=!1})},async handleApprove(){await this.fulfillmentVideoCall(),await this.approveCall()},async fulfillmentVideoCall(){const t=new Vi["a"](this.token);await t.fulfillmentVideoCall({account_id:this.accountId,proposal_id:this.proposalData.proposal_id,room_id:this.partnerRoomId}).catch(()=>{})},async approveCall(){const t=new Jo["a"](this.token);this.loading=!0,this.shouldShowApproveModalButtons=!1,await t.approveAfterVideoFulfillment({proposal_id:this.proposalData.proposal_id}).then(async({data:t})=>{t.error?(this.handlerError(t),this.shouldShowApproveModalButtons=!0):(this.shouldShowApproveModalButtons=!1,Object(ke["toast"])({message:"Proposta aprovada com sucesso!",type:"is-success",dismissible:!0,pauseOnHover:!0,animate:{in:"fadeIn",out:"fadeOut"},position:"top-center",closeOnClick:!0}),Object(ke["toast"])({message:"A guia será fechada automaticamente em 5 segundos!",type:"is-info",dismissible:!0,pauseOnHover:!0,animate:{in:"fadeIn",out:"fadeOut"},position:"top-center",closeOnClick:!0})),this.videoCallTerminated=!0,setTimeout(()=>{window.close()},5e3)}).catch(t=>{this.handlerError(t),this.shouldShowApproveModalButtons=!0}).finally(()=>{this.loading=!1,this.modalList.approveConfirmation=!1})}},metaInfo(){return j.meta(this.meta)}},or=ar,ir=(s("d05f"),Object(I["a"])(or,Yn,Zn,!1,null,"2a330c60",null)),nr=ir.exports;const rr="video-call",lr="/video-chamada";var cr=[{name:""+rr,path:""+lr,component:nr}],dr=function(){var t=this,e=t._self._c;return e("Layout",{attrs:{"max-width":"100%"}},[e("StatementOverview",{attrs:{"statement-data":t.statementData}}),e("LiveloMarketing"),e("StatementTable",{attrs:{"statement-data":t.statementData}})],1)},ur=[],mr=function(){var t=this,e=t._self._c;return e("div",{staticClass:"carrousel"},[e("div",{staticClass:"carrousel__inner",on:{wheel:t.scrollLeft,mousedown:t.startDrag,mousemove:t.onDrag,mouseup:t.endDrag,mouseleave:t.endDrag}},[e("ul",{staticClass:"carrousel__wrapper"},t._l(t.marketing,(function(s,a){return e("li",{key:a},[e("a",{staticClass:"image",attrs:{target:"_blank",href:s.href,title:s.title,disabled:t.isDragging}},[e("img",{attrs:{src:s.img,alt:s.title}})])])})),0)])])},pr=[],hr=s("0a1b"),vr=s.n(hr),fr=s("54c1"),br=s.n(fr),_r=s("057c"),gr=s.n(_r),Cr=s("ecbe"),yr=s.n(Cr),wr=s("dc1b"),kr=s.n(wr),Sr=s("256b"),xr=s.n(Sr),Ar={name:"LiveloMarketing",data:()=>({marketing:[{title:"Use seus pontos em passagens",href:"https://www.livelo.com.br/use-seus-pontos-passagens",img:vr.a},{title:"Itens para o seu home office",href:"https://shopping.livelo.com.br/category/LIV10028",img:yr.a},{title:"Hospedagem para o carnaval",href:"https://www.livelo.com.br/cart%C3%A3o-presente-airbnb-virtual/produto/LVL81867148",img:xr.a},{title:"Smartwatch no shopping Livelo",href:"https://shopping.livelo.com.br/search?query=smartwatch",img:gr.a},{title:"Crédito para carro de aplicativo",href:"https://www.livelo.com.br/uber-cr%C3%A9dito-para-viagens/produto/LVL1607925",img:br.a},{title:"Recompensas para o dia a dia",href:"https://shopping.livelo.com.br/category/LIV10024",img:kr.a}],scrollDiffer:0,maxScrollDiffer:0,isDragging:!1,startX:0}),computed:{...Object(C["c"])({isMobile:"app/isMobile"})},methods:{scrollLeft(t){if(this.isMobile)return;t.preventDefault();const e=t.target.closest(".carrousel__wrapper"),s=t.wheelDelta>0,a=50;s?this.scrollDiffer>0&&(this.scrollDiffer-=a):this.scrollDiffer+e.offsetWidth<e.scrollWidth&&(this.scrollDiffer+=a),this.scrollDiffer<=this.maxScrollDiffer&&(e.style.left=`-${this.scrollDiffer}px`),this.maxScrollDiffer=e.scrollWidth-e.offsetWidth},startDrag(t){const{pageX:e,target:s}=t;try{t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault();const{offsetLeft:a}=s.closest(".carrousel__inner");this.startX=e-a,this.isDragging=!0}catch{}},onDrag(t){if(!this.isDragging)return;const{pageX:e,target:s}=t,a=s.closest(".carrousel__wrapper"),{offsetLeft:o}=s.closest(".carrousel__inner"),i=3*(e-o-this.startX);this.maxScrollDiffer=a.scrollWidth-a.offsetWidth,this.scrollDiffer=i,this.scrollDiffer>0?this.scrollDiffer=0:this.maxScrollDiffer<Math.abs(i)&&(this.scrollDiffer=-1*this.maxScrollDiffer),a.style.left=this.scrollDiffer+"px"},endDrag(t){t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault(),!1!==this.isDragging&&(this.isDragging=!1)}}},Pr=Ar,Dr=(s("6297"),Object(I["a"])(Pr,mr,pr,!1,null,"6739ed0e",null)),Tr=Dr.exports,Ir=function(){var t=this,e=t._self._c;return e("div",{staticClass:"overview"},[e("div",{staticClass:"overview__header"},[e("div",[e("h1",[t._v("Minhas Pratas")]),e("p",[t._v(" Você já acumulou "),e("i",[e("PrataCoinSVG")],1),e("span",[t._v(t._s(t.statementData.points_credited_total)+"P$")])])]),e("div",[e("button",{staticClass:"button",on:{click:t.goToLandingPage}},[e("span",[t._v(" Saiba o que são as Pratas ")])])]),e("div",[t.statementData.points_expiring?e("div",{staticClass:"message is-warning"},[e("div",{staticClass:"message-body"},[e("p",[t._v("Você tem "+t._s(t.statementData.points_expiring)+" pontos que irão vencer em 7 dias.")])])]):t._e()])]),e("div",{staticClass:"overview__body"},[e("div",{staticClass:"overview__value"},[e("p",[t._v("P$ disponíveis para transferência")]),e("span",{staticClass:"highlight"},[t._v(t._s(t.statementData.points_available_to_transfer))])]),e("div",{staticClass:"overview__value"},[e("p",[t._v("P$ transferidos")]),e("span",[t._v(t._s(t.statementData.points_transferred))])]),e("div",[e("span",[e("i",[e("ClockSVG")],1),t._v("Atualizado em "+t._s(t.formatDate))])]),e("div",[e("button",{staticClass:"button is-green-prata",attrs:{disabled:(t.statementData.points_available_to_transfer||0)<1e3},on:{click:t.openTransferModal}},[t._v(" Transferir Pontos ")]),e("button",{staticClass:"button is-ghost",on:{click:t.goToLiveloPage}},[t._m(0)])])]),t.showTransferModal?e("LiveloTransferModal",{attrs:{"statement-data":t.statementData},on:{close:function(e){t.showTransferModal=!1}}}):t._e(),t.showAntifraudModal?e("LiveloAntifraudModal",{attrs:{"statement-data":t.statementData},on:{close:function(e){t.showAntifraudModal=!1}}}):t._e()],1)},Er=[function(){var t=this,e=t._self._c;return e("span",[t._v("Ver meus pontos na Livelo "),e("i",{staticClass:"fas fa-arrow-right"})])}],Or=function(){var t=this,e=t._self._c;return e("BaseSimpleModal",{attrs:{width:t.isMobile?"320px":"600px"},on:{close:function(e){return t.$emit("close")}},scopedSlots:t._u([{key:"title",fn:function(){return[e("h1",[t._v("Transferir Pratas")])]},proxy:!0},{key:"body",fn:function(){return[0===t.step?e("div",[e("p",[t._v("Olá "+t._s(t.user.name)+",")]),e("p",[t._v(" Deseja transferir suas "+t._s(t.statementData.points_available_to_transfer)+"P$ para a livelo agora? ")])]):t._e(),1===t.step?e("div",[e("p",{staticClass:"loading"},[e("i",[e("LoadingSVG")],1),t._v(" Transferindo pontos ")])]):t._e(),2===t.step?e("div",[e("p",[t._v(t._s(t.user.name)+",")]),e("p",[t._v("Seus pontos foram transferidos com sucesso!")]),e("a",{attrs:{href:"https://www.livelo.com.br/",target:"_blank"}},[t._v(" Clique aqui para conferir seus pontos na Livelo "),e("i",{staticClass:"fas fa-arrow-right"})])]):t._e(),3===t.step?e("div",[e("p",[t._v(t._s(t.user.name)+",")]),e("p",[t._v("Houve um problema com a tentativa de transferência")]),e("p",[t._v("Contate o suporte ou tente novamente mais tarde")])]):t._e()]},proxy:!0},{key:"actions",fn:function(){return[[0,1,3].includes(t.step)?e("button",{staticClass:"button is-success",attrs:{disabled:1===t.step},on:{click:t.transferRewards}},[e("span",[t._v(" Transferir pontos agora ")])]):t._e(),e("button",{staticClass:"button",on:{click:function(e){return t.$emit("close")}}},[e("span",[t._v(" Fechar ")])])]},proxy:!0}])})},Mr=[],Rr=function(){var t=this,e=t._self._c;return e("svg",{staticClass:"rotate",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"}},[e("circle",{attrs:{cx:"2.20792",cy:"12",r:"1.9584",fill:"#00A482"}}),t._v("360deg "),e("circle",{attrs:{cx:"21.7919",cy:"12",r:"1.9584",fill:"#D6D3D1"}}),e("circle",{attrs:{cx:"11.9999",cy:"2.20798",r:"1.9584",fill:"#D6D3D1"}}),e("circle",{attrs:{cx:"11.9999",cy:"21.792",r:"1.9584",fill:"#D6D3D1"}}),e("circle",{attrs:{cx:"18.9238",cy:"5.07598",r:"1.9584",transform:"rotate(45 18.9238 5.07598)",fill:"#D6D3D1"}}),e("circle",{attrs:{cx:"5.07568",cy:"18.924",r:"1.9584",transform:"rotate(45 5.07568 18.924)",fill:"#D6D3D1"}}),e("circle",{attrs:{cx:"18.9238",cy:"18.924",r:"1.9584",transform:"rotate(135 18.9238 18.924)",fill:"#D6D3D1"}}),e("circle",{attrs:{cx:"5.0761",cy:"5.07599",r:"1.9584",transform:"rotate(135 5.0761 5.07599)",fill:"#D6D3D1"}})])},Br=[],Lr={name:"Loading"},Ur=Lr,Nr=(s("74f0"),Object(I["a"])(Ur,Rr,Br,!1,null,"23e252c8",null)),qr=Nr.exports;class Fr extends L["a"]{async getLiveloStatement(){const{data:t}=await this.api.get(this.baseUrl+"/rewards/summary");return t}async transferRewards(){const{data:t}=await this.api.post(this.baseUrl+"/rewards/transfers");return t}}var jr={name:"LiveloTransferModal",components:{BaseSimpleModal:qt["default"],LoadingSVG:qr},props:{statementData:{required:!0,type:()=>{}}},data(){return{step:0}},computed:{...Object(C["d"])({user:t=>t.user.userInfo,token:t=>t.app.logonToken}),...Object(C["c"])({isMobile:"app/isMobile"})},methods:{async transferRewards(){const t=new Fr(this.token);let e=2,s="Imagem copiada com sucesso!",a="is-success";this.step=1;try{await t.transferRewards()}catch{e=3,s="Houve um erro ao transferir os pontos!",a="is-danger"}finally{this.step=e,Object(ke["toast"])({message:s,type:a,dismissible:!0,pauseOnHover:!0,animate:{in:"fadeIn",out:"fadeOut"},position:"top-center",closeOnClick:!0})}}}},Vr=jr,zr=(s("22a8"),Object(I["a"])(Vr,Or,Mr,!1,null,"2eefb592",null)),$r=zr.exports,Hr=function(){var t=this,e=t._self._c;return e("BaseSimpleModal",{attrs:{width:t.minWidth},on:{close:function(e){return t.$emit("close")}},scopedSlots:t._u([{key:"title",fn:function(){return[3!==t.step?e("p",[t._v(" Transferir Pratas ")]):e("p",[t._v(" QRCode de validação de conta ")])]},proxy:!0},{key:"body",fn:function(){return[0===t.step?e("div",[t.loading?e("div",[e("p",{staticClass:"loading"},[e("i",[e("LoadingSVG")],1)])]):e("div",[t.showSuccessMessage?e("div",{staticClass:"message is-success"},[e("div",{staticClass:"message-body"},[e("p",[t._v("Dados atualizados com sucesso!")])])]):t._e(),e("p",{staticClass:"welcome is-bold"},[t._v(" Olá "+t._s(t.user.name)+", ")]),e("p",[t._v(" Antes de prosseguir, confirme se os dados cadastrados são seus! ")]),e("div",[e("div",{staticClass:"review-data"},[e("div",[e("p",[t._v("CPF")]),e("p",{class:t.user.account.document?"is-highlight":""},[t._v(" "+t._s(t.user.account.document||"não consta")+" ")])]),e("div",[e("p",[t._v("Data de Nascimento")]),e("p",{class:t.user.account.document?"is-highlight":""},[t._v(" "+t._s(t.formattedDate||"não consta")+" ")])]),e("button",{staticClass:"button is-info",on:{click:t.switchToForm}},[t._v(" Quero alterar meus dados "),e("i",{staticClass:"far fa-edit"})])])]),e("form",[e("v-validate",{attrs:{rules:"required",name:"confirmation"},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("label",{staticClass:"checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.validation,expression:"form.validation"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.form.validation)?t._i(t.form.validation,null)>-1:t.form.validation},on:{change:function(e){var s=t.form.validation,a=e.target,o=!!a.checked;if(Array.isArray(s)){var i=null,n=t._i(s,i);a.checked?n<0&&t.$set(t.form,"validation",s.concat([i])):n>-1&&t.$set(t.form,"validation",s.slice(0,n).concat(s.slice(n+1)))}else t.$set(t.form,"validation",o)}}}),t._v(" Sim o CPF informado é o meu. ")]),s[0]?e("div",{staticClass:"error-message mt-3"},[e("small",{staticClass:"has-text-danger"},[t._v(t._s(s[0]))])]):t._e()]}}],null,!1,4155439671)})],1)])]):t._e(),1===t.step?e("div",[e("div",{staticClass:"attention-topics"},[e("p",[t._v(t._s(t.user.name)+", muita atenção!")]),e("p",[e("i",{staticClass:"fas fa-check"}),t._v("Certifique-se de "),e("em",[t._v("digitar seu dados corretamente")]),t._v(". ")]),e("p",[e("i",{staticClass:"fas fa-check"}),e("em",[t._v("Não será possível alterar")]),t._v(" os dados posteriormente! ")]),e("p",[e("i",{staticClass:"fas fa-check"}),t._v("Validação de dados por "),e("em",[t._v("selfie e documento")]),t._v(". ")])]),e("form",[e("v-validate",{attrs:{rules:"required|length:14|CPF",name:"CPF"},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("base-input",{attrs:{"error-message":s[0],type:"tel",maxlength:"15",mask:"cpf",name:"cpf"},model:{value:t.form.document,callback:function(e){t.$set(t.form,"document",e)},expression:"form.document"}},[t._v(" CPF ")])]}}],null,!1,3833971809)}),e("v-validate",{attrs:{rules:"required|date",name:"Data de nascimento"},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("base-input",{attrs:{"error-message":s[0],type:"tel",maxlength:"10",mask:"date"},model:{value:t.form.birthdate,callback:function(e){t.$set(t.form,"birthdate",e)},expression:"form.birthdate"}},[t._v(" Data de nascimento ")])]}}],null,!1,1958648272)})],1)]):t._e(),2===t.step?e("div",{staticClass:"choices"},[e("p",[t._v(" Para você transferir suas Pratas, será necessário realizar a validação da sua identidade, selecione uma das opções abaixo para prosseguir. Será bem rápido e simples, vamos lá? ")]),t.isMobile?e("div",[t.isMobile?e("button",{staticClass:"button is-success",on:{click:t.openValidationToken}},[e("span",[t._v(" Fazer validação da minha conta ")])]):t._e()]):e("div",{staticClass:"antifraud-options"},[e("button",{staticClass:"button is-success",on:{click:t.copy}},[e("i",{staticClass:"fas fa-link"}),t._v(" Copiar Link ")]),e("button",{staticClass:"button is-success",on:{click:function(e){t.step+=1}}},[e("i",{staticClass:"fas fa-qrcode"}),t._v(" Gerar QR Code ")])])]):t._e(),3===t.step?e("div",{staticClass:"qrcode-structure"},[e("p",[t._v(" Você precisa validar seus dados cadastrados. Será bem rápido e simples, vamos lá? Aponte a câmera do celular para ler o QRCode e concluir a verificação. ")]),e("canvas",{ref:"qrcode",staticClass:"qrcode-structure__canvas"})]):t._e()]},proxy:!0},{key:"actions",fn:function(){return[t.shouldShowUpdateButton?e("button",{staticClass:"button is-success",attrs:{disabled:t.shouldUnlockUpdateButton},on:{click:t.saveExtraData}},[e("span",[t._v(" "+t._s(0===t.step?"Confirmar":"Alterar meus dados")+" ")])]):t._e(),e("button",{staticClass:"button",on:{click:function(e){return t.$emit("close")}}},[e("span",[t._v(" Fechar ")])])]},proxy:!0}])})},Gr=[],Qr={name:"LiveloAntifraudModal",components:{BaseSimpleModal:qt["default"],BaseInput:V["default"],LoadingSVG:qr},inject:["domain"],data(){return{form:{document:"",birthdate:"",validation:!1},loading:!1,showSuccessMessage:!1,step:0,accountId:null,validationToken:null}},computed:{...Object(C["d"])({$_user:t=>t.user.userInfo,token:t=>t.app.logonToken}),...Object(C["c"])({isMobile:"app/isMobile"}),user:{get(){return this.$_user},set(t){this.setUserData(t)}},shouldUnlockUpdateButton(){const{document:t,birthdate:e,validation:s}=this.form;return 1===this.step?[t,e].every(t=>""===t):!s},shouldShowUpdateButton(){return[1,0].includes(this.step)},shouldSendExtraData(){return!this.user.account.document||!this.user.account.birthdate},formattedDate(){var t;return null===(t=this.user.account.birthdate)||void 0===t?void 0:t.split("-").reverse("").join("/")},minWidth(){let t=this.isMobile?"320px":"600px";return 3===this.step&&(t="348px"),t},linkToAntifraud(){return Object(Ue["g"])(this.validationToken,"corban")}},watch:{step(t){3===t&&this.genQRCode()}},async mounted(){this.genQRCode(),await this.getCorbanToken(),this.form.document=this.user.account.document,this.form.birthdate=this.formattedDate},methods:{...Object(C["b"])({setUserData:"user/SET_USER_DATA"}),openValidationToken(){window.open(this.linkToAntifraud,"_blank")},copy(){navigator.clipboard.writeText(this.linkToAntifraud),Object(ke["toast"])({message:"Copiado com sucesso!",type:"is-success",dismissible:!0,pauseOnHover:!0,animate:{in:"fadeIn",out:"fadeOut"},position:"top-center",closeOnClick:!0})},genQRCode(){this.$nextTick(()=>{const t=this.$refs.qrcode,e=this.linkToAntifraud;yo.a.toCanvas(t,e)})},switchToForm(){this.step+=1,this.form.validation=!1},handlerError(t){var e,s,a,o,i,n,r,l,c,d;let u=(null===t||void 0===t||null===(e=t.response)||void 0===e||null===(s=e.data)||void 0===s||null===(a=s.error)||void 0===a?void 0:a.message)||(null===t||void 0===t||null===(o=t.error)||void 0===o||null===(i=o.response)||void 0===i||null===(n=i.data)||void 0===n||null===(r=n.error)||void 0===r?void 0:r.message)||(null===t||void 0===t?void 0:t.message)||t;if(null!==t&&void 0!==t&&null!==(l=t.response)&&void 0!==l&&null!==(c=l.data)&&void 0!==c&&null!==(d=c.error)&&void 0!==d&&d.errors){var m,p,h;const e=Object.values(null===t||void 0===t||null===(m=t.response)||void 0===m||null===(p=m.data)||void 0===p||null===(h=p.error)||void 0===h?void 0:h.errors);u=u.concat("<br> - "+e.map(t=>t).join("<br> - "))}Object(ke["toast"])({message:u,type:"is-danger",dismissible:!0,pauseOnHover:!0,animate:{in:"fadeIn",out:"fadeOut"},position:"top-center",closeOnClick:!0})},async getCorbanToken(){const t=new k["a"](this.token),{account:e}=this.user;await t.getResponsibleByID(e.id).then(({data:t})=>{this.validationToken=t.data.token}).catch(this.handlerError)},async saveExtraData(){const t=new k["a"](this.token),{document:e,birthdate:s}=this.form,{id:a}=this.user.account;this.loading=!0,await t.personalData({document:e||void 0,birthdate:s||void 0},a).then(()=>{const t={...this.user.account,document:e||this.user.account.document,birthdate:s||this.user.account.birthdate};this.user={...this.user,account:t},this.showSuccessMessage=!0,1===this.step?this.step=0:this.step=2}).catch(this.handlerError).finally(()=>{this.loading=!1})}}},Kr=Qr,Jr=(s("c3f4"),Object(I["a"])(Kr,Hr,Gr,!1,null,"cec23620",null)),Wr=Jr.exports,Yr={name:"StatementOverview",components:{LiveloTransferModal:$r,LiveloAntifraudModal:Wr,PrataCoinSVG:Ct,ClockSVG:za},props:{statementData:{default:()=>{},required:!0,type:Object}},data(){return{showTransferModal:!1,showAntifraudModal:!1}},computed:{...Object(C["d"])({token:t=>t.app.logonToken,user:t=>t.user.userInfo}),formatDate(){const t=new Date(this.statementData.updated_at);return`${t.toLocaleDateString("pt-BR")} às ${t.toLocaleTimeString("pt-BR")}`}},methods:{openTransferModal(){const{verified_by_antifraud:t}=this.user;t?this.showTransferModal=!0:this.showAntifraudModal=!0},goToLandingPage(){this.$router.push("/livelo/mais-informacoes")},goToLiveloPage(){window.open("https://www.livelo.com.br/","_blank")}}},Zr=Yr,Xr=(s("202b"),Object(I["a"])(Zr,Ir,Er,!1,null,"bd02a0fe",null)),tl=Xr.exports,el=function(){var t=this,e=t._self._c;return e("div",{staticClass:"statement"},[e("div",{staticClass:"statetement__tables"},[e("h1",[t._v("Movimentações")]),e("div",{staticClass:"tabs"},[e("ul",t._l(t.tabs,(function(s,a){return e("li",{key:a,class:{"is-active":a===t.selectedTab},on:{click:function(e){t.selectedTab=a}}},[e("a",[t._v(t._s(s.name))])])})),0)]),"Pontos por período"===t.tabs[t.selectedTab].name&&t.hasCredits?e("div",[e("h2",[t._v(t._s(t.tabs[t.selectedTab].tableName))]),e("div",{staticClass:"table-wrapper"},[e("table",{staticClass:"table"},[t._m(0),e("tbody",t._l(t.statementData.credits,(function(s,a){return e("tr",{key:a},[e("td",[t._v(t._s(s.period_text))]),e("td",[t._v(t._s(s.points))]),e("td",[t._v(" "+t._s(s.points_expiring_at||"N/A")+" "),t.sevenDaysSum(s.points_expiring_at+" 00:00")<t.sevenDaysSum()?e("span",{staticClass:"tag is-warning is-light"},[t._v(" P$ expira em breve ")]):t._e(),new Date(s.points_expiring_at+" 00:00")<new Date?e("span",{staticClass:"tag is-info is-light"},[t._v(" P$ expirados ")]):t._e()])])})),0)])])]):"Pontos por período"!==t.tabs[t.selectedTab].name||t.hasCredits?t._e():e("div",{staticClass:"statement__no-data-info"},[e("img",{attrs:{src:s("d428"),alt:"Imagem de um notebook buscando bor informações"}}),e("h2",[t._v("Ainda não existem pontos para serem exibidos")]),e("p",[t._v(" Comece agora a ganhar pontos para que possa usá-lo na Livelo com viagens, produtos ou serviços da forma que achar melhor. ")])]),"Pontos transferidos"===t.tabs[t.selectedTab].name&&t.hasTransfers?e("div",[e("h2",[t._v(t._s(t.tabs[t.selectedTab].tableName))]),e("div",{staticClass:"table-wrapper"},[e("table",{staticClass:"table"},[t._m(1),e("tbody",{staticClass:"transferred"},t._l(t.statementData.transfers,(function(s,a){return e("tr",{key:a},[e("td",[t._v(t._s(t.transferredDateFormat(s.created_at)))]),e("td",[t._v(t._s(s.points))])])})),0)])])]):"Pontos transferidos"!==t.tabs[t.selectedTab].name||t.hasTransfers?t._e():e("div",{staticClass:"statement__no-data-info"},[e("img",{attrs:{src:s("d428"),alt:"Imagem de um notebook buscando bor informações"}}),e("h2",[t._v("Ainda não existem pontos para serem exibidos")]),e("p",[t._v(" Comece agora a ganhar pontos para que possa usá-lo na Livelo com viagens, produtos ou serviços da forma que achar melhor. ")])])])])},sl=[function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",[t._v("Período")]),e("th",[t._v("Quantidade de P$")]),e("th",[t._v("Expiram em")])])])},function(){var t=this,e=t._self._c;return e("thead",{staticClass:"transferred"},[e("tr",[e("th",[t._v("Transferido em")]),e("th",[t._v("Quantidade de P$")])])])}],al={name:"StatementTable",props:{statementData:{default:()=>{},required:!0,type:Object}},data(){return{tabs:[{name:"Pontos por período",tableName:"Pontos acumulados por período",tableDataName:"credits"},{name:"Pontos transferidos",tableName:"Pratas transferidas por data",tableDataName:"transfers"}],selectedTab:0}},computed:{hasCredits(){var t;return(null===(t=this.statementData.credits)||void 0===t?void 0:t.length)>0},hasTransfers(){var t;return(null===(t=this.statementData.transfers)||void 0===t?void 0:t.length)>0}},methods:{transferredDateFormat(t){const e=new Date(t);return`${e.toLocaleDateString("pt-BR")} ${e.toLocaleTimeString("pt-BR")}`},sevenDaysSum(t){const e=new Date(t)||new Date,s=e.getDate()+7;return e+s}}},ol=al,il=(s("0a9f"),Object(I["a"])(ol,el,sl,!1,null,"34bde671",null)),nl=il.exports,rl={name:"LiveloStatement",components:{Layout:Xt,StatementOverview:tl,StatementTable:nl,LiveloMarketing:Tr},inject:["domain"],data:()=>({meta:{title:"Minhas Pratas"},statementData:{}}),computed:{...Object(C["d"])({token:t=>t.app.logonToken})},mounted(){this.getStatementData()},methods:{getStatementData(){const t=new Fr(this.token);t.getLiveloStatement().then(t=>{this.statementData=t.data})}},metaInfo(){return j.meta(this.meta)}},ll=rl,cl=(s("98f5"),Object(I["a"])(ll,dr,ur,!1,null,"401de56a",null)),dl=cl.exports,ul=function(){var t=this,e=t._self._c;return e("Layout",{staticClass:"landing-page",attrs:{"max-width":"100%"}},[e("section",{staticClass:"landing-page__main-banner"},[e("h1",[t._v(" Transforme suas vendas em "),e("em",[t._v("Recompensas Incríveis")])]),e("p",[e("em",[t._v("Ganhe")]),t._v(" Pratas por cada venda, "),e("em",[t._v("transfira")]),t._v(" para a Livelo e troque por recompensas incríveis! ")]),e("button",{staticClass:"button",on:{click:t.openStatement}},[t._v(" Ver meus pontos ")])]),e("section",{staticClass:"landing-page__how-to"},[e("h2",[t._v("Como funciona")]),e("div",[e("span",[t._v("1")]),e("h3",[t._v("Cadastre-se grátis na Livelo")]),e("p",[t._v(" Caso não possua cadastro na Livelo, acesse o site ou app e crie sua conta gratuitamente. É simples e rápido ")])]),e("div",[e("span",[t._v("2")]),e("h3",[t._v("Venda e ganhe pontos")]),e("p",[t._v(" A cada R$10 em vendas pelo Prata Digital, você ganha 1 Prata. ")])]),e("div",[e("span",[t._v("3")]),e("h3",[t._v("Transfira para a Livelo")]),e("p",[t._v(" A cada P$ 1.000 acumuladas você pode transferir para a Livelo e trocar por recompensas incríveis. 1.000 Pratas equivale a 1.000 pontos Livelo. ")])]),e("div",[e("span",[t._v("4")]),e("h3",[t._v("Escolha suas recompensas")]),e("p",[t._v(" Viagens, produtos, cashback... vocé escolhe! Troque seus pontos Livelo por recompensas inesquecíveis: experiências, serviços e até mesmo dinheiro na sua conta. ")])])]),e("hr"),e("section",{staticClass:"landing-page__where-to"},[e("div",{staticClass:"landing-page__where-to__svg-list"},[e("h2",[t._v("Um universo de possibilidades")]),e("p",[t._v(" Com o "),e("em",[t._v("Prata Digital")]),t._v(" e "),e("em",[t._v("Livelo")]),t._v(", você tem a liberdade de usar seus pontos do jeito que você preferir! ")]),e("div",[e("div",{staticClass:"svg-holder"},[e("AirplaneSVG")],1),e("p",[t._v(" Use seus pontos em passagens aéreas e outros itens para a sua viagem ")])]),e("div",[e("div",{staticClass:"svg-holder"},[e("WalletsSVG")],1),e("p",[t._v(" Transforme seus pontos em dinheiro na sua conta bancária ")])]),e("div",[e("div",{staticClass:"svg-holder"},[e("MoreRewardsSVG")],1),e("p",[t._v(" Pague suas compras do dia a dia via Pix ")])]),e("div",[e("div",{staticClass:"svg-holder"},[e("StoreSVG")],1),e("p",[t._v(" Pague suas compras com pontos em parceiros da Livelo como Amazon, PagStix, Reserva, entre outros ")])]),e("div",[e("div",{staticClass:"svg-holder"},[e("BagSVG")],1),e("p",[t._v(" Acesse o Shopping Livelo e encontre mais de 1 milhão de produtos disponíveis ")])])]),e("div",[e("img",{attrs:{src:s("70a3")}})])]),e("section",{staticClass:"landing-page__advantages"},[e("h2",[t._v("Use seus pontos Livelo para economizar no dia a dia")]),e("p",[t._v(" Você pode usar seus pontos em vários momentos do seu dia. Transforme seus pontos Livelo em dinheiro na sua conta bancária, faça suas compras no Shopping Livelo ou recarregue o seu celular. Acesse o site ou app da Livelo para conhecer mais sobre essas e outras possibilidades. ")]),e("div",[e("ul",[e("li",[e("img",{attrs:{src:s("773c")}}),t._v("Pontos Viram Dinheiro")]),e("li",[e("img",{attrs:{src:s("e636")}}),t._v("Paga com Pix")]),e("li",[e("img",{attrs:{src:s("11b3")}}),t._v("Serviços e lazer")]),e("li",[e("img",{attrs:{src:s("4f4a")}}),t._v("Recarregue seu celular")]),e("li",[e("img",{attrs:{src:s("b2ee")}}),t._v("Parceiros")]),e("li",[e("img",{attrs:{src:s("cc5b")}}),t._v("Viagens")]),e("li",[e("img",{attrs:{src:s("4293")}}),t._v("Transfira para outros programas")]),e("li",[e("img",{attrs:{src:s("db89")}}),t._v("Doações")])]),e("button",{staticClass:"button is-success",on:{click:t.openLivelo}},[t._v(" Veja mais opções no site da Livelo ")])])]),e("section",{staticClass:"landing-page__faq"},[e("h2",[t._v("Perguntas Frequentes")]),e("div",[e("h3",[t._v("Como meus pontos são acumulados?")]),e("p",[t._v(" A cada R$ 10 em vendas realizadas pela Prata, você conquista 1 Prata. A cada 1.000 Pratas você pode transferir para a Livelo e trocar por recompensas incríveis! ")])]),e("div",[e("h3",[t._v("Meus pontos expiram?")]),e("p",[t._v(" Seus pontos Prata têm validade de 3 meses, mas ao transferi-los para a Livelo, você terá 2 anos (24 meses) para utilizá-los. Se você assinar o Clube Livelo, clube de benefícios da Livelo, seus pontos Livelo nunca expiram. ")])]),e("div",[e("h3",[t._v(" Quantas Pratas preciso para transferir para a Livelo? ")]),e("p",[t._v(" Com 1.000 Pratas, você já pode transferir para a Livelo e aproveitar recompensas incríveis. ")])]),e("div",[e("h3",[t._v("Como acompanho meus pontos?")]),e("p",[t._v(" Para visualizar seu saldo de Pratas, basta clicar no ícone no canto superior direito da tela, próximo ao menu. Após a transferência, você também pode acompanhar seus pontos no site ou app da Livelo. ")])]),e("div",[e("h3",[t._v("Como transfiro minhas Pratas para a Livelo?")]),e("p",[t._v(" A transferência é simples e rápida! "),e("span",{on:{click:t.openStatement}},[t._v("Acesse esta página")]),t._v(" e clique no botão de transferência. Lembre-se que você precisa ter pelo menos 1.000 Pratas para realizar a transferência. ")])]),e("div",[e("h3",[t._v("Preciso de uma conta na Livelo para aproveitar os benefícios?")]),e("p",[t._v(" Sim, para trocar seus pontos Livelo por recompensas, é necessário ter uma conta na "),e("span",{on:{click:t.openLivelo}},[t._v("Livelo")]),t._v(". Caso já possua uma conta, não será necessário criar um novo cadastro. Certifique-se de estar utilizando o mesmo CPF na Prata Digital e Livelo, assim a transferência para a Livelo será realizada com sucesso. ")])])])])},ml=[],pl=function(){var t=this,e=t._self._c;return e("svg",{attrs:{width:"32",height:"26",viewBox:"0 0 32 26",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M28.2586 6.40625C28.5086 6.26042 28.6701 6.05208 28.743 5.78125C28.8159 5.51042 28.7795\n      5.25 28.6336 5C28.592 4.9375 28.5451 4.875 28.493 4.8125C28.4409 4.75 28.3836 4.69792\n      28.3211 4.65625L27.9461 4.40625C27.7795 4.30208 27.6076 4.25 27.4305 4.25C27.2534 4.25\n      27.0816 4.29167 26.9149 4.375L21.0086 7.78125L9.94614 3.875L8.91489 4.46875L16.6961\n      10.2812L10.1649 14.0312L5.63364 13.75L10.2586 16.8125L28.2586 6.40625ZM25.6024\n      2.0625C26.1857 1.70833 26.8211 1.54167 27.5086 1.5625C28.1961 1.58333 28.8316\n      1.79167 29.4149 2.1875L29.7899 2.4375C30.0191 2.58333 30.2326 2.76042 30.4305\n      2.96875C30.6284 3.17708 30.8003 3.40625 30.9461 3.65625C31.467 4.55208 31.592 5.48958\n      31.3211 6.46875C31.0503 7.44792 30.4774 8.19792 29.6024 8.71875L10.1649 19.9375L0.539886\n      13.5938L4.97739 11.0312L9.53989 11.3438L11.8524 10L4.10239 4.1875L9.66489 0.96875L20.7274\n      4.875L25.6024 2.0625ZM2.66489 22.375H29.3524V25.0312H2.66489V22.375Z",fill:"#DF0979"}})])},hl=[],vl={name:"Airplane"},fl=vl,bl=Object(I["a"])(fl,pl,hl,!1,null,null,null),_l=bl.exports,gl=function(){var t=this,e=t._self._c;return e("svg",{attrs:{width:"28",height:"32",viewBox:"0 0 28 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M18.9531 8V13.3438H16.2656V8H10.9531V13.3438H8.26562V8H5.48438L3.57812 24.9062C3.57812\n      24.9688 3.57812 25.0365 3.57812 25.1094C3.57812 25.1823 3.57812 25.2604 3.57812\n      25.3438C3.57812 26.4479 3.96875 27.3906 4.75 28.1719C5.53125 28.9531 6.47396 29.3438 7.57812\n      29.3438H24.1094L21.7344 8H18.9531ZM8.26562 5.34375C8.26562 3.86458 8.78646 2.60417 9.82812\n      1.5625C10.8698 0.520834 12.1302 0 13.6094 0C15.0885 0 16.349 0.520834 17.3906\n      1.5625C18.4323 2.60417 18.9531 3.86458 18.9531 5.34375H24.1406L27.1094 32H7.57812C6.64062\n      32 5.77604 31.8333 4.98438 31.5C4.17188 31.1458 3.46354 30.6667 2.85938 30.0625C2.25521\n      29.4583 1.77604 28.75 1.42188 27.9375C1.06771 27.125 0.890625 26.2604 0.890625\n      25.3438C0.890625 25.2188 0.895833 25.0938 0.90625 24.9688C0.916667 24.8438 0.932292\n      24.7188 0.953125 24.5938L3.07812 5.34375H8.26562ZM10.9531 5.34375H16.2656C16.2656\n      4.61458 16.0052 3.98958 15.4844 3.46875C14.9635 2.94792 14.3385 2.6875 13.6094\n      2.6875C12.8802 2.6875 12.2552 2.94792 11.7344 3.46875C11.2135 3.98958 10.9531\n      4.61458 10.9531 5.34375Z",fill:"#DF0979"}})])},Cl=[],yl={name:"Bag"},wl=yl,kl=Object(I["a"])(wl,gl,Cl,!1,null,null,null),Sl=kl.exports,xl=function(){var t=this,e=t._self._c;return e("svg",{attrs:{width:"32",height:"30",viewBox:"0 0 32 30",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M20.125 2.96875H17.3438V11.8438C17.3438 12.1146 17.4167 12.3646 17.5625 12.5938C17.7083\n      12.8229 17.9167 12.9896 18.1875 13.0938C18.5417 13.2604 18.9219 13.3438 19.3281\n      13.3438C19.7344 13.3438 20.125 13.2604 20.5 13.0938C20.7083 13.0104 20.875 12.8646 21\n      12.6562C21.125 12.4479 21.1771 12.2292 21.1563 12L20.125 2.96875ZM22.75 14.75C22.5625\n      14.9167 22.3698 15.0677 22.1719 15.2031C21.974 15.3385 21.75 15.4583 21.5 15.5625C20.8125\n      15.8542 20.0938 16 19.3438 16C18.5938 16 17.8646 15.8542 17.1563 15.5625C16.9479 15.4792\n      16.7448 15.375 16.5469 15.25C16.349 15.125 16.1667 14.9896 16 14.8438C15.8333 14.9896\n      15.651 15.125 15.4531 15.25C15.2552 15.375 15.0521 15.4792 14.8438 15.5625C14.1354 15.8542\n      13.4063 16 12.6563 16C11.9063 16 11.1875 15.8542 10.5 15.5625C10.25 15.4583 10.026 15.3385\n      9.82813 15.2031C9.63021 15.0677 9.4375 14.9167 9.25 14.75C9.04167 14.9375 8.8125 15.099\n      8.5625 15.2344C8.3125 15.3698 8.05209 15.4896 7.78125 15.5938C7.59375 15.6562 7.40625\n      15.7135 7.21875 15.7656C7.03125 15.8177 6.84375 15.8542 6.65625 15.875V25.6875C6.65625\n      26.0417 6.78646 26.349 7.04688 26.6094C7.3073 26.8698 7.625 27 8\n      27H10.6563V17.6562H21.3438V27H24C24.375 27 24.6927 26.8698 24.9531 26.6094C25.2135 26.349\n      25.3438 26.0417 25.3438 25.6875V15.875C25.1563 15.8542 24.9688 15.8177 24.7813\n      15.7656C24.5938 15.7135 24.4063 15.6562 24.2188 15.5938C23.9479 15.4896 23.6875 15.3698\n      23.4375 15.2344C23.1875 15.099 22.9583 14.9375 22.75 14.75ZM14.6563\n      11.8438V2.96875H11.875L10.8438 12C10.8229 12.2292 10.875 12.4479 11 12.6562C11.125 12.8646\n      11.2917 13.0104 11.5 13.0938C11.875 13.2604 12.2656 13.3438 12.6719 13.3438C13.0781 13.3438\n      13.4583 13.2604 13.8125 13.0938C14.0833 12.9896 14.2917 12.8229 14.4375 12.5938C14.5833\n      12.3646 14.6563 12.1146 14.6563 11.8438ZM23.75 11.4062C23.7917 11.7812 23.9375 12.1198\n      24.1875 12.4219C24.4375 12.724 24.7396 12.9375 25.0938 13.0625C25.6146 13.25 26.1406\n      13.3438 26.6719 13.3438C27.2031 13.3438 27.7188 13.25 28.2188 13.0625C28.4271 13 28.5833\n      12.8698 28.6875 12.6719C28.7917 12.474 28.8021 12.2708 28.7188 12.0625L25.7188\n      2.96875H22.8125L23.75 11.4062ZM8.25 11.4062L9.1875 2.96875H6.28125L3.28125 12.0625C3.19792\n      12.2708 3.20834 12.474 3.3125 12.6719C3.41667 12.8698 3.57292 13 3.78125 13.0625C4.28125\n      13.25 4.79688 13.3438 5.32813 13.3438C5.85938 13.3438 6.38542 13.25 6.90625 13.0625C7.26042\n      12.9375 7.5625 12.724 7.8125 12.4219C8.0625 12.1198 8.20834 11.7812 8.25 11.4062ZM4\n      15.875C3.8125 15.8542 3.625 15.8177 3.4375 15.7656C3.25 15.7135 3.07292 15.6562 2.90625\n      15.5938C2.01042 15.2812 1.34896 14.6979 0.921879 13.8438C0.494796 12.9896 0.437504 12.1146\n      0.750004 11.2188L4.375 0.3125H27.625L31.25 11.2188C31.5625 12.1146 31.5052 12.9896 31.0781\n      13.8438C30.651 14.6979 29.9896 15.2812 29.0938 15.5938C28.9271 15.6562 28.75 15.7135\n      28.5625 15.7656C28.375 15.8177 28.1875 15.8542 28 15.875V25.6875C28 26.7917 27.6094\n      27.7344 26.8281 28.5156C26.0469 29.2969 25.1042 29.6875 24\n      29.6875H18.6563V20.3125H13.3438V29.6875H8C6.89584 29.6875 5.95313 29.2969 5.17188\n      28.5156C4.39063 27.7344 4 26.7917 4 25.6875V15.875Z",fill:"#DF0979"}})])},Al=[],Pl={name:"Store"},Dl=Pl,Tl=Object(I["a"])(Dl,xl,Al,!1,null,null,null),Il=Tl.exports,El=function(){var t=this,e=t._self._c;return e("svg",{attrs:{width:"30",height:"18",viewBox:"0 0 30 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M13.1406 7.83578C12.2865 7.71078 11.5521 7.34098 10.9375 6.7264C10.3229 6.11182 9.95312\n      5.38786 9.82812 4.55453L9.76562 4.08578C9.66146 3.35661 9.24479 2.99203 8.51562\n      2.99203C7.78646 2.99203 7.36979 3.35661 7.26562 4.08578L7.20312 4.55453C7.07812 5.38786\n      6.70833 6.11182 6.09375 6.7264C5.47917 7.34098 4.74479 7.71078 3.89062 7.83578C3.18229\n      7.93994 2.82812 8.35661 2.82812 9.08578C2.82812 9.81494 3.19271 10.2316 3.92188\n      10.3358H3.98438C4.85938 10.4608 5.60417 10.8306 6.21875 11.4452C6.83333 12.0597 7.20312\n      12.8045 7.32812 13.6795L7.35938 13.9295C7.46354 14.6379 7.88021 14.992\n      8.6093814.992C9.33854 14.992 9.75521 14.6379 9.85938 13.9295L9.89062 13.8045C10.0156\n      12.9504 10.3802 12.2212 10.9844 11.617C11.5885 11.0129 12.3177 10.6483 13.1719\n      10.5233L13.7656 10.4295C14.474 10.3254 14.8281 9.90869 14.8281 9.17953C14.8281 8.45036\n      14.474 8.03369 13.7656 7.92953L13.1406 7.83578ZM13.5469 5.21078L14.1406 5.30453C15.2656\n      5.47119 16.1094 5.92953 16.6719 6.67953C17.2135 7.45036 17.4844 8.27848 17.4844\n      9.1639C17.4844 10.0493 17.2135 10.8774 16.6719 11.6483C16.1094 12.4191 15.276 12.8879\n      14.1719 13.0545L13.5781 13.1483C13.3073 13.1899 13.0729 13.3097 12.875 13.5077C12.6771\n      13.7056 12.5573 13.9399 12.5156 14.2108L12.4844 14.3358C12.3177 15.4608 11.849 16.2941\n      11.0781 16.8358C10.3073 17.3983 9.47917 17.6743 8.59375 17.6639C7.70833 17.6535 6.88021\n      17.367 6.10938 16.8045C5.33854 16.242 4.88021 15.4087 4.73438 14.3045L4.70312\n      14.0545C4.66146 13.7837 4.54167 13.5493 4.34375 13.3514C4.14583 13.1535 3.90104 13.0337\n      3.60938 12.992L3.54688 12.9608C2.42188 12.8149 1.57812 12.3566 1.01562 11.5858C0.453125\n      10.8149 0.171875 9.98682 0.171875 9.1014C0.171875 8.21598 0.442708 7.38786 0.984375\n      6.61703C1.54688 5.84619 2.39062 5.37744 3.51562 5.21078C3.78646 5.16911 4.02083 5.04932\n      4.21875 4.8514C4.41667 4.65348 4.53646 4.41911 4.57812 4.14828L4.64062 3.67953C4.80729\n      2.57536 5.27604 1.74203 6.04688 1.17953C6.81771 0.617025 7.64583 0.335775 8.53125\n      0.335775C9.41667 0.335775 10.2448 0.617025 11.0156 1.17953C11.7656 1.72119 12.224\n      2.55453 12.3906 3.67953L12.4844 4.14828C12.526 4.41911 12.6406 4.65348 12.8281\n      4.8514C13.0156 5.04932 13.2552 5.16911 13.5469 5.21078ZM17.7656 4.46078L19.8906\n      2.86703L24.4844 8.99203L19.8906 15.1483L17.7656 13.5233L21.1719 8.99203L17.7656\n      4.46078ZM23.1094 4.46078L25.2344 2.86703L29.8281 8.99203L25.2344 15.1483L23.1094\n      13.5233L26.4844 8.99203L23.1094 4.46078Z",fill:"#DF0979"}})])},Ol=[],Ml={name:"MoreRewards"},Rl=Ml,Bl=Object(I["a"])(Rl,El,Ol,!1,null,null,null),Ll=Bl.exports,Ul=function(){var t=this,e=t._self._c;return e("svg",{attrs:{width:"32",height:"30",viewBox:"0 0 32 30",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M11.4171 10.6108L25.4483 5.51709L24.9796 4.23584C24.8546 3.90251 24.6254 3.65771 24.2921\n      3.50146C23.9587 3.34521 23.615 3.32959 23.2608 3.45459L5.72957 9.82959C5.54207 9.91292\n      5.38061 10.0223 5.24519 10.1577C5.10978 10.2931 5.01082 10.4442 4.94832\n      10.6108H11.4171ZM2.19832 11.1108C2.17749 10.2983 2.40665 9.53792 2.88582 8.82959C3.36499\n      8.12126 4.01082 7.62126 4.82332 7.32959L22.3546 0.95459C23.3962 0.57959 24.4171 0.621256\n      25.4171 1.07959C26.4171 1.53792 27.1046 2.28792 27.4796 3.32959L31.6358 14.7358C32.0108\n      15.7358 31.9796 16.7254 31.5421 17.7046C31.1046 18.6838 30.4067 19.3713 29.4483\n      19.7671V25.2983C29.4483 26.4025 29.0577 27.3452 28.2764 28.1265C27.4952 28.9077 26.5525\n      29.2983 25.4483 29.2983H4.10457C3.0004 29.2983 2.05769 28.9077 1.27644 28.1265C0.495193\n      27.3452 0.104568 26.4025 0.104568 25.2983V14.6108C0.104568 13.8608 0.297277 13.1733\n      0.682693 12.5483C1.06811 11.9233 1.57332 11.4442 2.19832 11.1108ZM27.5108 11.2046L26.3546\n      8.01709L19.1983 10.6108H25.4483C25.8233 10.6108 26.1879 10.6629 26.5421 10.7671C26.8962\n      10.8713 27.2192 11.0171 27.5108 11.2046ZM14.0108\n      15.5483V13.9546H16.0108V15.5483H17.4483V17.5483H13.7921C13.6046 17.5483 13.4431 17.616\n      13.3077 17.7515C13.1723 17.8869 13.1046 18.0588 13.1046 18.2671C13.1046 18.4546 13.1723\n      18.616 13.3077 18.7515C13.4431 18.8869 13.6046 18.9546 13.7921 18.9546H16.2296C16.9796\n      18.9546 17.615 19.2202 18.1358 19.7515C18.6567 20.2827 18.9171 20.9129 18.9171\n      21.6421C18.9171 22.3921 18.6567 23.0327 18.1358 23.564C17.615 24.0952 16.9796 24.3608\n      16.2296 24.3608H16.0108V25.9546H14.0108V24.3608H12.1046V22.3608H16.2296C16.4171 22.3608\n      16.5785 22.2931 16.7139 22.1577C16.8494 22.0223 16.9171 21.8504 16.9171 21.6421C16.9171\n      21.4546 16.8494 21.2931 16.7139 21.1577C16.5785 21.0223 16.4171 20.9546 16.2296\n      20.9546H13.7921C13.0629 20.9546 12.4327 20.689 11.9014 20.1577C11.3702 19.6265 11.1046\n      18.9963 11.1046 18.2671C11.1046 17.5171 11.3702 16.8765 11.9014 16.3452C12.4327 15.814\n      13.0629 15.5483 13.7921 15.5483H14.0108ZM4.10457 13.2983C3.72957 13.2983 3.41186 13.4285\n      3.15144 13.689C2.89103 13.9494 2.76082 14.2567 2.76082 14.6108V25.2983C2.76082 25.6525\n      2.89103 25.9598 3.15144 26.2202C3.41186 26.4806 3.72957 26.6108 4.10457\n      26.6108H25.4483C25.8025 26.6108 26.1098 26.4806 26.3702 26.2202C26.6306 25.9598 26.7608\n      25.6525 26.7608 25.2983V14.6108C26.7608 14.2567 26.6306 13.9494 26.3702 13.689C26.1098\n      13.4285 25.8025 13.2983 25.4483 13.2983H4.10457Z",fill:"#DF0979"}})])},Nl=[],ql={name:"Wallets"},Fl=ql,jl=Object(I["a"])(Fl,Ul,Nl,!1,null,null,null),Vl=jl.exports,zl={name:"LiveloLandingPage",components:{Layout:Xt,AirplaneSVG:_l,BagSVG:Sl,StoreSVG:Il,MoreRewardsSVG:Ll,WalletsSVG:Vl},inject:["domain"],data:()=>({meta:{title:"Minhas Pratas"}}),computed:{...Object(C["c"])({isMobile:"app/isMobile"})},methods:{openStatement(){this.$router.push({name:"livelo-statement"})},openCreateAccount(){window.open("https://onboarding.livelo.com.br/root-register/index.html","_blank")},openLivelo(){window.open("https://www.livelo.com.br/","_blank")}},metaInfo(){return j.meta(this.meta)}},$l=zl,Hl=(s("c10d"),Object(I["a"])($l,ul,ml,!1,null,"9d14ab4e",null)),Gl=Hl.exports,Ql=[{name:"livelo-statement",path:"/livelo",component:dl,props:!0},{name:"livelo-landing-page",path:"/livelo/mais-informacoes",component:Gl,props:!0}];function Kl(t,e,s){const a="change-password"===t.name,{shouldChangePassword:o}=N["a"].state.user;o&&!a?s({name:"change-password"}):s()}a["a"].use(M["a"]);const Jl=new M["a"]({mode:"history",routes:[...ss,..._s,...Ms,...lo,...Do,...$o,...Yi,...rn,...fn,...Mn,...Wn,...cr,...Ql,{path:"*",component:G}]});Jl.beforeEach((t,e,s)=>{Kl(t,e,s)});var Wl=Jl;a["a"].config.productionTip=!1,window.location.hostname.includes("queroprata")&&(a["a"].config.devtools=!0),a["a"].use(n.a),a["a"].use(o["a"]),a["a"].use(l.a,{precision:2}),a["a"].use(c["a"]),window.location.hostname.includes("queroprata")||a["a"].use(u.a,{id:"GTM-P6KPZFSJ",defer:!1,compatibility:!1,enabled:!0,loadScript:!0,vueRouter:Wl,trackOnNextTick:!1}),a["a"].component("VChart",n.a),a["a"].component("VValidate",p["b"]),a["a"].component("VValidateObserver",p["a"]),a["a"].component("TheError",m["default"]),a["a"].filter("truncate",Ue["f"]),a["a"].filter("money",Ue["c"]),a["a"].filter("normalizeText",Ue["d"]),new a["a"]({router:Wl,store:N["a"],render:t=>t(O)}).$mount("#app")},5717:function(t){t.exports=JSON.parse('{"name":"Prata Tech","document":"40.050.004.0001-07","business_info":{"business":{"email":"falecom@pratadigital.com.br","website":"https://pratadigital.com.br","phone":{"number":"+552139422489","display":"+55 21 3942-2489"},"address":{"street":"Av. Vieira Souto","number":"6 - 202","neighborhood":"Ipanema","complement":"","city":"Rio de Janeiro","state":"RJ"},"social":{"facebook":"https://www.facebook.com/opratadigital/","instagram":"https://www.instagram.com/pratadigital/","linkedin":"https://www.linkedin.com/company/prata-digital/"}},"external_links":{"about":[{"text":"Quem Somos","href":"https://pratadigital.com.br/institucional/quem-somos/"}],"faq":[{"text":"Perguntas Frequentes","href":"https://pratadigital.com.br/institucional/perguntas_frequentes"}],"contact":[{"text":"Contato","href":"https://pratadigital.com.br/institucional/contato/"}],"institutional":[{"text":"","href":"https://pratadigital.com.br/institucional"},{"text":"Produtos","href":"https://pratadigital.com.br/institucional/produtos"},{"text":"Aprenda com o Prata","href":"https://pratadigital.com.br/institucional/aprenda-com-o-prata/"}]},"edit":{"remove":{"step":["EditDataProfessional"],"field":["mail"]},"show":{"form_contract":{"form_contract_banner_img_1":false,"form_contract_banner_pig_image":false,"base_banner_information":false},"form_send_success":{"background_image":false},"base_menu":{"menu_links":false}}}},"styles":{"color":{"primary":"#00e4b4","secondary":"#1a1e39","light":"#f8f8f8"},"logo":{"desktop":"/img/logo-prata.png","mobile":"/img/logo-mobile-prata.png","simulator":"https://fgts-cb.pratadigital.com.br//img/logo-simulator.png","favicon":"https://fgts-cb.pratadigital.com.br/favicon.png"}}}')},"58b6":function(t,e,s){},"58ba":function(t,e,s){},5928:function(t,e,s){t.exports=s.p+"img/PrataELiveloMobile.557708a0.png"},"5bba":function(t,e,s){},"5f0c":function(t,e,s){"use strict";s("01e3")},"5fa0":function(t,e,s){},6:function(t,e){},6297:function(t,e,s){"use strict";s("58b6")},6745:function(t,e,s){"use strict";s("7cf3")},6778:function(t,e,s){},"67d6":function(t,e,s){},"69f5":function(t,e,s){},"6a49":function(t,e,s){},"6a99":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t._self._c;return t.loading?t._e():e("base-modal",{attrs:{"message-error":t.message.error,"show-buttons":!1},on:{close:t.close},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Status da proposta ")]},proxy:!0},{key:"body",fn:function(){var s;return[t.canceledReason?[e("div",{staticClass:"is-grid mb-5"},[e("div",{staticClass:"has-text-weight-bold"},[t._v(" "+t._s(t.loanStatus)+" ")]),e("div",{staticClass:"has-text-danger"},[t._v(" "+t._s(t.canceledReason)+" ")])])]:t._e(),t.proposal?e("div",{key:"datasheet",staticClass:"modal-data-proposal"},[e("div",{staticClass:"control is-flex"},[e("label",{staticClass:"label"},[t._v("Chave do Débito")]),e("span",[t._v(t._s(t.proposal.external_proposal_id))])]),e("div",{staticClass:"control is-flex"},[e("label",{staticClass:"label"},[t._v("Número do contrato")]),e("span",[t._v(t._s(t.proposal.contract_number))])]),e("div",{staticClass:"control is-flex"},[e("label",{staticClass:"label"},[t._v("Nome do Cliente")]),e("span",[t._v(t._s(t.proposal.account_name))])]),e("div",{staticClass:"control is-flex"},[e("label",{staticClass:"label"},[t._v("Documento")]),e("span",[e("CopyToClipboard",[t._v(" "+t._s(t.proposal.account_document)+" ")])],1)]),e("div",{staticClass:"control is-flex"},[e("label",{staticClass:"label"},[t._v("Taxa de custo total efetiva mensal")]),e("span",[t._v(t._s(t.proposal.cet))])]),e("div",{staticClass:"control is-flex"},[e("label",{staticClass:"label"},[t._v("Valor da emissão")]),e("span",[t._v(t._s(t._f("money")(t.proposal.issue_amount)))])]),e("div",{staticClass:"control is-flex"},[e("label",{staticClass:"label"},[t._v("TC")]),e("span",[t._v(t._s(t._f("money")(t.proposal.issue_amount-t.proposal.total_iof-t.proposal.disbursed_issue_amount)))])]),e("div",{staticClass:"control is-flex"},[e("label",{staticClass:"label"},[t._v("IOF")]),e("span",[t._v(t._s(t._f("money")(t.proposal.total_iof)))])]),e("div",{staticClass:"control is-flex"},[e("label",{staticClass:"label"},[t._v("Valor liberado")]),e("span",[t._v(t._s(t._f("money")(t.proposal.disbursed_issue_amount)))])]),e("div",{staticClass:"columns mt-2 mb-0"},[e("div",{staticClass:"column"},[e("div",{staticClass:"control is-flex"},[e("label",{staticClass:"label"},[t._v("Data de emissão")]),e("span",[t._v(t._s(t.dateFormat(null===(s=t.proposal.details)||void 0===s?void 0:s.issued_at)||""))])])]),t.showCCBContract?[e("div",{staticClass:"column"},[e("div",{staticClass:"control is-flex"},[e("label",{staticClass:"label"},[t._v("Contrato assinado")]),e("span",[t.signed_contract_url?e("a",{staticClass:"button is-ghost p-0",staticStyle:{height:"auto"},attrs:{href:t.signed_contract_url,target:"_blank"}},[e("span",[t._v("Abrir link")]),e("span",{staticClass:"icon"},[e("i",{staticClass:"fas fa-external-link-alt"})])]):e("span",[t._v("nda")])])])])]:t._e()],2),null!=t.proposal.loaned_at?e("div",{staticClass:"columns mt-1 mb-1"},[e("div",{staticClass:"column"},[e("div",{staticClass:"control is-flex"},[e("label",{staticClass:"label"},[t._v("Data do desembolso")]),e("span",[t._v(t._s(t.dateFormat(t.proposal.loaned_at)))])])]),e("div",{staticClass:"column"},[e("div",{staticClass:"control is-flex"},[e("label",{staticClass:"label"},[t._v("Comprovante de Pgto.")]),e("span",[t.payment_receipt_url?e("a",{staticClass:"button is-ghost p-0",staticStyle:{height:"auto"},attrs:{href:t.payment_receipt_url,target:"_blank"}},[e("span",[t._v("Abrir link")]),e("span",{staticClass:"icon"},[e("i",{staticClass:"fas fa-external-link-alt"})])]):e("span",[t._v("nda")])])])])]):t._e(),e("div",{staticClass:"columns mt-1"},[e("div",{staticClass:"column"},[e("div",{staticClass:"control is-flex"},[e("label",{staticClass:"label"},[t._v("Status")]),e("span",[t._v(" "+t._s(t.loanStatus)+" "),t.canceledReason?[e("small",{staticClass:"has-text-danger is-block"},[t._v(" "+t._s(t.canceledReason)+" ")])]:t._e()],2)])]),[e("div",{staticClass:"column is-align-content-end"},[e("div",{staticClass:"control"},[t.canRelaunch?[e("button",{staticClass:"button is-danger",on:{click:t.relaunchProposal}},[t._v(" Relançar proposta ")])]:t._e(),t.enableButton&&t.showWithdrawalButton?[t.disableQrButton?e("button",{staticClass:"button buttons__submit",staticStyle:{"grid-area":"initial"},attrs:{disabled:""}},[t._v(" Aguardando quitação ")]):t._e(),t.showQrButton?e("button",{staticClass:"button buttons__submit",staticStyle:{"grid-area":"initial"},on:{click:t.openProposalWithdrawal}},[t._v(" QR Code arrependimento ")]):t._e(),"Paga"===t.proposal.status?e("button",{staticClass:"button buttons__submit",staticStyle:{"grid-area":"initial"},on:{click:t.withdrawalProposal}},[t._v(" Solicitar QR Code arrependimento ")]):t._e()]:t._e()],2)])]],2),e("div",{staticClass:"control is-flex"},[e("label",{staticClass:"label"},[t._v("Margem constituída")]),e("span",[t._v(t._s(t.collateralConstituted?"Sim":"Não"))])]),t.showBtnCancel||t.collateralConstituted?e("hr"):t._e(),e("div",{staticClass:"buttons buttons__grid mt-5 is-flex"},[t.collateralConstituted?[e("button",{key:"btn-receipt",staticClass:"buttons__clean column",on:{click:t.openReceipt}},[t._v(" Consultar recibo ")])]:t._e(),t.enableButton?[t.showBtnCancel?e("button",{key:"btn-cancel",staticClass:"btn buttons__submit column",on:{click:t.confirmCancel}},[t._v(" Cancelar proposta ")]):t._e()]:t._e()],2)]):e("div",{key:"no-datasheet"},[t.loading?e("span",[t._v("Carregando")]):e("span",[t._v("Não há dados")])])]},proxy:!0}],null,!1,835956979)})},o=[],i=s("2f62"),n=s("4b44"),r=s("df18"),l=s("ed08"),c=s("b686"),d=s("c8cf"),u={name:"ModalProposalStatusBMP",components:{BaseModal:()=>Promise.resolve().then(s.bind(null,"c1ec")),CopyToClipboard:()=>Promise.resolve().then(s.bind(null,"811c"))},mixins:[c["a"],d["a"]],props:{refreshProposalData:{type:Boolean,required:!1,default:!1}},data:()=>({message:{error:""},proposal:{},enableButton:!1}),computed:{...Object(i["d"])({token:t=>t.app.logonToken,user:t=>t.user.userInfo,stateProposal:t=>t.proposal.proposal}),loanStatus(){var t,e;return(null===(t=this.proposal)||void 0===t||null===(e=t.credit_operation_status)||void 0===e?void 0:e.translation_ptbr)||""},isCanceled(){return"Cancelada"===this.loanStatus},showBtnRelaunch(){return"paga"!==this.loanStatus.toLowerCase()},canceledReason(){var t,e;return(null===(t=this.proposal)||void 0===t||null===(e=t.cancel_reason)||void 0===e?void 0:e.translation_pt_br)||""},showBtnCancel(){const t=["pendente","conferida","aprovada","finalizada","liberada","pendente pagamento"];return t.includes(this.loanStatus.toLowerCase())},disableQrButton(){return"Aguardando quitação"===this.proposal.status&&!this.proposal.details.pix_qrcode},showQrButton(){return"Aguardando quitação"===this.proposal.status&&this.proposal.details.pix_qrcode},signed_contract_url(){var t,e,s;return null!==(t=null===(e=this.proposal)||void 0===e||null===(s=e.details)||void 0===s?void 0:s.signed_contract_url)&&void 0!==t?t:""},payment_receipt_url(){var t,e,s;return null!==(t=null===(e=this.proposal)||void 0===e||null===(s=e.details)||void 0===s?void 0:s.payment_receipt_url)&&void 0!==t?t:""},collateralConstituted(){const t=t=>Object(l["e"])(this.proposal,t)&&null!==this.proposal[t];return t("constituted_margin")?this.proposal.constituted_margin:t("collateral_constituted")?this.proposal.collateral_constituted:["Liberada","Paga","Cedida"].includes(this.loanStatus)},canRelaunch(){return[this.isAdmin,this.isSuper,this.isAntifraud,this.isCommercial,this.isCompliance,this.isMasterOrFinancial].some(t=>t)},showCCBContract(){return!Object(l["b"])()},showWithdrawalButton(){var t;const e=new Date,s=new Date(null===(t=this.proposal)||void 0===t?void 0:t.loaned_at);s.setDate(s.getDate()+7),e.setHours(23,59,59,999),s.setHours(23,59,59,999);const a=e<=s;return a},showAcquittance(){return"Paga"===this.loanStatus&&!this.showWithdrawalButton}},mounted(){this.stateProposal.external_proposal_id&&this.verifyProposal(),this.disabledButton()},methods:{...Object(i["b"])({setProposalData:"proposal/SET_PROPOSAL_DATA"}),relaunchProposal(){const t=new r["a"](this.token);this.loading=!0,t.tryAgain({proposal_id:this.stateProposal.proposal_id}).then(()=>{Object(n["toast"])({message:"Atualizada com sucesso!",type:"is-success",dismissible:!0,pauseOnHover:!0,animate:{in:"fadeIn",out:"fadeOut"},position:"top-center",closeOnClick:!0})}).then(()=>this.verifyProposal()).catch(({response:t})=>{Object(n["toast"])({message:t.data.error.message,type:"is-danger",dismissible:!0,pauseOnHover:!0,animate:{in:"fadeIn",out:"fadeOut"},position:"top-center",closeOnClick:!0})}).finally(()=>{this.loading=!1})},close(){this.$emit("close")},escape(t){"Escape"===t.key&&this.close()},dateFormat(t){if(!t)return"";const e={second:"2-digit",minute:"2-digit",hour:"2-digit",timeZone:"America/Sao_Paulo"},s=new Date(t).toLocaleDateString("pt-br",e);return s},handlerError(t){var e,s,a,o,i,n,r,l,c,d,u,m;let p=(null===t||void 0===t||null===(e=t.response)||void 0===e||null===(s=e.data)||void 0===s||null===(a=s.error)||void 0===a?void 0:a.message)||(null===t||void 0===t||null===(o=t.error)||void 0===o||null===(i=o.response)||void 0===i||null===(n=i.data)||void 0===n||null===(r=n.error)||void 0===r?void 0:r.message)||(null===t||void 0===t||null===(l=t.error)||void 0===l||null===(c=l.data)||void 0===c?void 0:c.message)||(null===t||void 0===t?void 0:t.message)||t;if(null!==t&&void 0!==t&&null!==(d=t.response)&&void 0!==d&&null!==(u=d.data)&&void 0!==u&&null!==(m=u.error)&&void 0!==m&&m.errors){var h,v,f;const e=Object.values(null===t||void 0===t||null===(h=t.response)||void 0===h||null===(v=h.data)||void 0===v||null===(f=v.error)||void 0===f?void 0:f.errors);p=p.concat("<br> - "+e.map(t=>t).join("<br> - "))}this.$set(this.message,"error",p),this.setModalData({})},setModalData(t){for(const e of Object.keys(this.proposal))this.$delete(this.proposal,e);for(const e of Object.keys(t))this.$set(this.proposal,e,t[e])},confirmCancel(){const t="Você está executando uma ação para cancelamento da proposta\r\nDeseja prosseguir com está ação?";confirm(t)&&this.cancelProposal()},disabledButton(){var t;const e=(null===this||void 0===this||null===(t=this.user)||void 0===t?void 0:t.roles_ids)||[],s=[1,6,8,11,14];this.enableButton=!!e.find(t=>s.includes(t))},openReceipt(){this.$emit("receipt",{external_proposal_id:this.stateProposal.external_proposal_id})},async verifyProposal(){const t=new r["a"](this.token);this.loading=!0,await t.verify({external_proposal_id:this.stateProposal.external_proposal_id}).then(({data:t})=>{this.setModalData(t.data),this.refreshProposalData&&this.setProposalData({...this.stateProposal,...t.data})}).catch(t=>this.handlerError(t)).finally(()=>{this.loading=!1})},async cancelProposal(){const t=new r["a"](this.token);this.loading=!0,await t.cancel(this.stateProposal.external_proposal_id).then(()=>this.verifyProposal()).catch(t=>this.handlerError(t)).finally(()=>{this.loading=!1,this.sendGTMEvent()})},sendGTMEvent(){if(this.$gtm){var t;const e=`${this.user.id} | ${this.user.name} - ${this.user.email} - ${this.user.promoter_id} | ${null===(t=this.user)||void 0===t?void 0:t.roles_ids[0]}`;try{this.$gtm.trackEvent({event:"interaction",category:"BMP",action:"click",label:"BMP proposal cancellation",value:e})}catch{}}},openProposalWithdrawal(){this.$emit("proposalWithdrawal",this.proposal.details)},openProposalAcquittance(){this.$emit("proposalAcquittance",{contract_number:this.proposal.contract_number})},async withdrawalProposal(){const t=new r["a"](this.token);this.loading=!0,await t.withdrawalProposal(this.proposal.external_proposal_id).then(()=>{Object(n["toast"])({message:"Solicitação de QR code enviada!",type:"is-success",dismissible:!0,pauseOnHover:!0,animate:{in:"fadeIn",out:"fadeOut"},position:"top-center",closeOnClick:!0})}).catch(t=>this.handlerError(t)).finally(()=>{this.loading=!1,this.close()})}}},m=u,p=(s("ef74"),s("2877")),h=Object(p["a"])(m,a,o,!1,null,"3a733b07",null);e["default"]=h.exports},"6c10":function(t,e,s){},"6c64":function(t,e,s){},"6cbd":function(t,e,s){"use strict";s("1557")},"6e01":function(t,e,s){},"6f79":function(t,e,s){},7:function(t,e){},"70a3":function(t,e,s){t.exports=s.p+"img/LiveloLandingPage.f8c2c48a.png"},7243:function(t,e,s){},7282:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t._self._c;return e("transition",{attrs:{name:"fade",css:t.isAnimated}},[t.isClosed?t._e():e("div",{staticClass:"tooltip",class:t.modifier},[e("p",{staticClass:"tooltip__title"},[t._t("tooltip-title"),e("span",{directives:[{name:"show",rawName:"v-show",value:t.canBeClosed,expression:"canBeClosed"}],staticClass:"icon is-small",on:{click:t.closeTooltip}},[e("i",{staticClass:"fas fa-times"})])],2),e("p",[t._t("tooltip-text")],2)])])},o=[],i={name:"BaseTooltip",props:{isAnimated:{default:!0,required:!1,type:Boolean},modifier:{default:"",required:!1,type:String},canBeClosed:{default:!0,required:!1,type:Boolean}},data(){return{isClosed:!1}},methods:{closeTooltip(){this.isClosed=!0}}},n=i,r=(s("3ad9"),s("2877")),l=Object(r["a"])(n,a,o,!1,null,"68272db2",null);e["default"]=l.exports},"72d9":function(t,e,s){},"72fe":function(t,e,s){"use strict";s("af8d")},"74d2":function(t,e,s){"use strict";s("5bba")},"74f0":function(t,e,s){"use strict";s("1bc1")},7519:function(t,e,s){"use strict";s("2057")},7575:function(t,e,s){"use strict";s("fa7e")},7644:function(t,e,s){},"773c":function(t,e){t.exports="data:image/png;base64,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"},7800:function(t,e,s){"use strict";s("69f5")},7870:function(t,e,s){"use strict";s("3f19")},"7af9":function(t,e,s){"use strict";s("ce30")},"7cf3":function(t,e,s){},"7fc7":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t._self._c;return t.loading?t._e():e("base-modal",{attrs:{"message-error":t.message.error,"show-buttons":!1},on:{close:t.close},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Status da proposta ")]},proxy:!0},{key:"body",fn:function(){var s;return[t.canceledReason?[e("div",{staticClass:"is-grid mb-5"},[e("div",{staticClass:"has-text-weight-bold"},[t._v(" "+t._s(t.loanStatus)+" ")]),e("div",{staticClass:"has-text-danger"},[t._v(" "+t._s(t.canceledReason)+" ")])])]:t._e(),t.proposal?e("div",{key:"datasheet",staticClass:"modal-data-proposal"},[e("div",{staticClass:"control is-flex"},[e("label",{staticClass:"label"},[t._v("Chave do Débito")]),e("span",[t._v(t._s(t.proposal.requester_identifier_key))])]),e("div",{staticClass:"control is-flex"},[e("label",{staticClass:"label"},[t._v("Número do contrato")]),e("span",[t._v(t._s(t.proposal.contract_number))])]),e("div",{staticClass:"control is-flex"},[e("label",[t._v("Nome do Cliente")]),e("span",[t._v(t._s(t.clientName))])]),e("div",{staticClass:"control is-flex"},[e("label",[t._v("Documento")]),e("span",[e("CopyToClipboard",[t._v(" "+t._s(t.clientDocument)+" ")])],1)]),e("div",{staticClass:"control is-flex"},[e("label",[t._v("Taxa de custo total efetiva mensal")]),e("span",[t._v(t._s(t.monthlyEffectiveTotalCostRate))])]),e("div",{staticClass:"control is-flex"},[e("label",[t._v("Valor da emissão")]),e("span",[t._v(t._s(t._f("money")(t.proposal.issue_amount)))])]),e("div",{staticClass:"control is-flex"},[e("label",[t._v("TC")]),e("span",[t._v(t._s(t._f("money")(t.proposal.issue_amount-t.proposal.total_iof-t.proposal.disbursed_issue_amount)))])]),e("div",{staticClass:"control is-flex"},[e("label",[t._v("IOF")]),e("span",[t._v(t._s(t._f("money")(t.proposal.total_iof)))])]),e("div",{staticClass:"control is-flex"},[e("label",[t._v("Valor liberado")]),e("span",[t._v(t._s(t._f("money")(t.proposal.disbursed_issue_amount)))])]),e("div",{staticClass:"columns mt-2 mb-0"},[e("div",{staticClass:"column"},[e("div",{staticClass:"control is-flex"},[e("label",[t._v("Data de emissão")]),e("span",[t._v(t._s(t.dateFormat(null===(s=t.proposal.details)||void 0===s?void 0:s.issued_at)||""))])])]),t.showCCBContract?[e("div",{staticClass:"column"},[e("div",{staticClass:"control is-flex"},[e("label",[t._v("Contrato assinado")]),e("span",[t.signed_contract_url?e("a",{staticClass:"button is-ghost p-0",staticStyle:{height:"auto"},attrs:{href:t.signed_contract_url,target:"_blank"}},[e("span",[t._v("Abrir link")]),e("span",{staticClass:"icon"},[e("i",{staticClass:"fas fa-external-link-alt"})])]):e("span",[t._v("nda")])])])])]:t._e()],2),null!=t.proposal.disbursed_at?e("div",{staticClass:"columns mt-1 mb-1"},[e("div",{staticClass:"column"},[e("div",{staticClass:"control is-flex"},[e("label",[t._v("Data do desembolso")]),e("span",[t._v(t._s(t.dateFormat(t.proposal.disbursed_at)))])])]),e("div",{staticClass:"column"},[e("div",{staticClass:"control is-flex"},[e("label",[t._v("Comprovante de Pgto.")]),e("span",[t.payment_receipt_url?e("a",{staticClass:"button is-ghost p-0",staticStyle:{height:"auto"},attrs:{href:t.payment_receipt_url,target:"_blank"}},[e("span",[t._v("Abrir link")]),e("span",{staticClass:"icon"},[e("i",{staticClass:"fas fa-external-link-alt"})])]):e("span",[t._v("nda")])])])])]):t._e(),e("div",{staticClass:"columns mt-1"},[e("div",{staticClass:"column"},[e("div",{staticClass:"control is-flex"},[e("label",[t._v("Status")]),e("span",[t._v(" "+t._s(t.loanStatus)+" "),t.canceledReason?[e("small",{staticClass:"has-text-danger is-block"},[t._v(" "+t._s(t.canceledReason)+" ")])]:t._e()],2)])]),e("div",{staticClass:"column is-align-content-end"},[e("div",{staticClass:"control"},[t.showBtnRelaunch?[e("button",{staticClass:"button is-danger",on:{click:t.relaunchProposal}},[t._v(" Relançar proposta ")])]:t._e(),t.enableButton&&t.showQrCodeButton?[e("button",{staticClass:"button buttons__submit",staticStyle:{"grid-area":"initial"},on:{click:t.withdrawalProposal}},[t._v(" QR Code arrependimento ")])]:t._e(),t.enableButton&&t.showAcquittance?[e("button",{staticClass:"button buttons__submit",staticStyle:{"grid-area":"initial"},on:{click:t.openProposalAcquittance}},[t._v(" Quitação ")])]:t._e(),t.showBtnForceSignature?[e("button",{staticClass:"button is-danger",attrs:{disabled:t.disableForceSignature},on:{click:t.forceSignature}},[t._v(" Forçar assinatura ")])]:t._e()],2)])]),e("div",{staticClass:"control is-flex"},[e("label",[t._v("Margem constituída")]),e("span",[t._v(t._s(t.collateralConstituted?"Sim":"Não"))])]),t.collateralConstituted?t._e():e("div",{staticClass:"control is-flex"},[e("label",[t._v("Motivo")]),e("span",[t._v(t._s(t.collateralConstitutedMessage))])]),e("hr"),e("div",{staticClass:"buttons buttons__grid mt-5 is-flex"},[t.collateralConstituted&&!t.isCreditCardProposal?[e("button",{key:"btn-receipt",staticClass:"buttons__clean column",on:{click:t.openReceipt}},[t._v(" Consultar recibo ")])]:t.isCreditCardProposal?[e("button",{key:"btn-card-transaction",staticClass:"buttons__clean column",on:{click:t.getCreditCardTransaction}},[t._v(" Consultar transação do Cartão ")])]:t._e(),t.enableButton?[t.isCanceled&&t.collateralConstituted&&t.canUnravel?[e("button",{key:"btn-unravel",staticClass:"btn buttons__clean column",on:{click:function(e){return t.unravelProposal(!1)}}},[t._v(" Desaverbar ")]),e("button",{key:"btn-unravel-cancel",staticClass:"btn buttons__submit column",on:{click:function(e){return t.unravelProposal(!0)}}},[t._v(" Desaverbar / Cancelar ")])]:t._e(),t.showBtnCancel?t._e():e("button",{key:"btn-cancel",staticClass:"btn buttons__submit column",on:{click:t.confirmCancel}},[t._v(" Cancelar proposta ")])]:t._e()],2)]):e("div",{key:"no-datasheet"},[t.loading?e("span",[t._v("Carregando")]):e("span",[t._v("Não há dados")])])]},proxy:!0}],null,!1,1426934392)})},o=[],i=s("2f62"),n=s("4b44"),r=s("83b4"),l=s("ed08"),c=s("b686"),d=s("c8cf"),u={name:"ModalProposalStatus",components:{BaseModal:()=>Promise.resolve().then(s.bind(null,"c1ec")),CopyToClipboard:()=>Promise.resolve().then(s.bind(null,"811c"))},mixins:[c["a"],d["a"]],props:{refreshProposalData:{type:Boolean,required:!1,default:!1}},data:()=>({message:{error:""},proposal:{},withdrawalResponse:{},disableForceSignature:!1}),computed:{...Object(i["d"])({token:t=>t.app.logonToken,user:t=>t.user.userInfo,stateProposal:t=>t.proposal.proposal}),isCreditCardProposal(){const t=8;return this.proposal.product_id===t},isAwaitingAcquittance(){var t,e;return"aguardando quitação"===((null===(t=this.stateProposal)||void 0===t||null===(e=t.status)||void 0===e?void 0:e.toLowerCase())||"")},showQrCodeButton(){var t,e;const s=["desembolsada","paga"],a=s.includes((null===(t=this.stateProposal)||void 0===t||null===(e=t.status)||void 0===e?void 0:e.toLowerCase())||"");return(this.isAwaitingAcquittance||a)&&this.isInLimitedRangeDate&&!this.showBtnRelaunch},isInLimitedRangeDate(){var t;const e=new Date,s=new Date(null===(t=this.proposal)||void 0===t?void 0:t.disbursed_at);return s.setDate(s.getDate()+7),e.setHours(23,59,59,999),s.setHours(23,59,59,999),e<=s},clientName(){var t;if(null!==(t=this.proposal)&&void 0!==t&&t.disbursement_account){var e;const[t]=null===(e=this.proposal)||void 0===e?void 0:e.disbursement_account;return t.name}return""},clientDocument(){var t;if(null!==(t=this.proposal)&&void 0!==t&&t.disbursement_account){var e;const[t]=null===(e=this.proposal)||void 0===e?void 0:e.disbursement_account;return t.document_number}return""},monthlyEffectiveTotalCostRate(){var t;if(null!==(t=this.proposal)&&void 0!==t&&t.disbursement_options){var e;const[t]=null===(e=this.proposal)||void 0===e?void 0:e.disbursement_options;return t.cet}return""},loanStatus(){var t,e;return(null===(t=this.proposal)||void 0===t||null===(e=t.credit_operation_status)||void 0===e?void 0:e.translation_ptbr)||""},reservationRequestKey(){var t;if(null!==(t=this.proposal)&&void 0!==t&&t.collaterals){var e;const[t]=null===(e=this.proposal)||void 0===e?void 0:e.collaterals;return t.collateral_data.reservation_request_key}return null},isCanceled(){return"Cancelada"===this.loanStatus},showBtnRelaunch(){var t;return(null===(t=this.proposal)||void 0===t?void 0:t.show_relaunch_button)||!1},showAcquittance(){return"Desembolsada"===this.loanStatus&&!this.isInLimitedRangeDate},showBtnForceSignature(){const t=[this.isSuper,this.isAdmin,this.isAntifraud].some(t=>!0===t);return"Aguardando Assinatura"===this.loanStatus&&t},canceledReason(){var t,e;return(null===(t=this.proposal)||void 0===t||null===(e=t.cancel_reason)||void 0===e?void 0:e.translation_pt_br)||""},showBtnCancel(){const t=["desembolsada","cancelada"];return t.includes(this.loanStatus.toLowerCase())},collateralConstituted(){const t=t=>Object(l["e"])(this.proposal,t)&&null!==this.proposal[t];return t("constituted_margin")?this.proposal.constituted_margin:t("collateral_constituted")?this.proposal.collateral_constituted:["Liberada","Paga"].includes(this.loanStatus)},collateralConstitutedMessage(){var t;if(null!==(t=this.proposal)&&void 0!==t&&t.collaterals){var e;const[t]=null===(e=this.proposal)||void 0===e?void 0:e.collaterals,o=t.collateral_data.reservation_request_status_translation;let i;var s,a;if("None"!==t.collateral_data.error_message)i=JSON.parse(t.collateral_data.error_message),i=" - "+(null===(s=i)||void 0===s||null===(a=s.error_message)||void 0===a?void 0:a.descricao);else i="";return`${o}${i}`}return null},payment_receipt_url(){var t,e,s;return null!==(t=null===(e=this.proposal)||void 0===e||null===(s=e.details)||void 0===s?void 0:s.payment_receipt_url)&&void 0!==t?t:""},signed_contract_url(){var t,e,s;return null!==(t=null===(e=this.proposal)||void 0===e||null===(s=e.details)||void 0===s?void 0:s.signed_contract_url)&&void 0!==t?t:""},canUnravel(){return[this.isAdmin,this.isSuper,this.isAntifraud,this.isCommercial,this.isCompliance].some(t=>t)},showCCBContract(){return!Object(l["b"])()}},mounted(){this.stateProposal.external_proposal_id&&this.verifyProposal(),window.addEventListener("keydown",this.handleKeyDown)},beforeDestroy(){window.removeEventListener("keydown",this.handleKeyDown)},methods:{...Object(i["b"])({setProposalData:"proposal/SET_PROPOSAL_DATA"}),relaunchProposal(){const t=new r["a"](this.token);this.loading=!0,t.manageReserveActions(this.stateProposal.external_proposal_id,this.clientDocument).then(()=>{Object(n["toast"])({message:"Atualizada com sucesso!",type:"is-success",dismissible:!0,pauseOnHover:!0,animate:{in:"fadeIn",out:"fadeOut"},position:"top-center",closeOnClick:!0})}).then(()=>this.verifyProposal()).catch(({response:t})=>{Object(n["toast"])({message:t.data.error.message,type:"is-danger",dismissible:!0,pauseOnHover:!0,animate:{in:"fadeIn",out:"fadeOut"},position:"top-center",closeOnClick:!0})}).finally(()=>{this.loading=!1})},async withdrawalProposal(){var t,e,s;if(null!==(t=this.proposal)&&void 0!==t&&null!==(e=t.details)&&void 0!==e&&e.pix_qrcode)return void this.openProposalWithdrawal(null===(s=this.proposal)||void 0===s?void 0:s.details);const a=new r["a"](this.token);await a.withdrawalProposal({creditor_bank:this.stateProposal.creditor_bank,contract_number:this.proposal.contract_number}).then(({data:t})=>this.openProposalWithdrawal(t.data)).catch(t=>this.handlerError(t)).finally(()=>{this.loading=!1})},openProposalWithdrawal(t){this.$emit("proposalWithdrawal",t)},openProposalAcquittance(){const t={contract_number:this.proposal.contract_number};this.$emit("proposalAcquittance",t)},handleKeyDown(t){t.shiftKey&&"D"===t.key&&this.enableButton&&this.isCanceled&&this.collateralConstituted&&this.unravelProposal()},close(){this.$emit("close")},escape(t){"Escape"===t.key&&this.close()},dateFormat(t){if(!t)return"";const e={second:"2-digit",minute:"2-digit",hour:"2-digit",timeZone:"America/Sao_Paulo"},s=new Date(t).toLocaleDateString("pt-br",e);return s},handlerError(t){var e,s,a,o,i,n,r,l,c,d,u,m;let p=(null===t||void 0===t||null===(e=t.response)||void 0===e||null===(s=e.data)||void 0===s||null===(a=s.error)||void 0===a?void 0:a.message)||(null===t||void 0===t||null===(o=t.error)||void 0===o||null===(i=o.response)||void 0===i||null===(n=i.data)||void 0===n||null===(r=n.error)||void 0===r?void 0:r.message)||(null===t||void 0===t||null===(l=t.error)||void 0===l||null===(c=l.data)||void 0===c?void 0:c.message)||(null===t||void 0===t?void 0:t.message)||t;if(null!==t&&void 0!==t&&null!==(d=t.response)&&void 0!==d&&null!==(u=d.data)&&void 0!==u&&null!==(m=u.error)&&void 0!==m&&m.errors){var h,v,f;const e=Object.values(null===t||void 0===t||null===(h=t.response)||void 0===h||null===(v=h.data)||void 0===v||null===(f=v.error)||void 0===f?void 0:f.errors);p=p.concat("<br> - "+e.map(t=>t).join("<br> - "))}this.$set(this.message,"error",p),setTimeout(()=>{window.document.querySelector(".modal-card-body").scrollTo({top:0,left:0,behavior:"smooth"})},50)},setModalData(t){for(const e of Object.keys(this.proposal))this.$delete(this.proposal,e);for(const e of Object.keys(t))this.$set(this.proposal,e,t[e])},async verifyProposal(){const t=new r["a"](this.token);this.loading=!0,await t.verify({creditor_bank:this.stateProposal.creditor_bank,external_proposal_id:this.stateProposal.external_proposal_id}).then(({data:t})=>{this.setModalData(t.data),this.refreshProposalData&&this.setProposalData({...this.stateProposal,...t.data})}).catch(t=>this.handlerError(t)).finally(()=>{this.loading=!1})},confirmCancel(){const t="Você está executando uma ação para cancelamento da proposta\r\nDeseja prosseguir com está ação?";confirm(t)&&this.cancelProposal()},async cancelProposal(){const t=new r["a"](this.token),e=this.stateProposal.external_proposal_id;this.loading=!0,await t.cancel(e,{creditor_bank:this.stateProposal.creditor_bank}).then(()=>this.verifyProposal()).catch(t=>this.handlerError(t)).finally(()=>{this.loading=!1})},async unravelProposal(t){const e=new r["a"](this.token),s=this.reservationRequestKey,a={creditor_bank:this.stateProposal.creditor_bank,proposal_id:this.stateProposal.proposal_id};!0===t&&(a.status="Cancelada"),this.loading=!0,await e.unravel(s,a).then(()=>this.verifyProposal()).catch(t=>this.handlerError(t)).finally(()=>{this.loading=!1})},async openReceipt(){this.$emit("receipt",{external_proposal_id:this.stateProposal.external_proposal_id,reservation_request_key:this.reservationRequestKey})},async getCreditCardTransaction(){this.$emit("creditCardTransactionData",{proposal_id:this.stateProposal.proposal_id})},enableButton(){return[this.isAdmin,this.isSuper,this.isAntifraud,this.isCommercial,this.isCompliance].some(t=>t)},async forceSignature(){const t=new r["a"](this.token);this.disableForceSignature=!0,await t.forceSignature({document:this.clientDocument,external_proposal_id:this.stateProposal.external_proposal_id,external_proposal_number:this.proposal.contract_number,creditor_bank:this.stateProposal.creditor_bank}).then(()=>{Object(n["toast"])({message:"Assinatura realizada com sucesso!",type:"is-success",dismissible:!0,pauseOnHover:!0,animate:{in:"fadeIn",out:"fadeOut"},position:"top-center",closeOnClick:!0})}).catch(t=>this.handlerError(t)).finally(()=>{this.disableForceSignature=!1})}}},m=u,p=(s("7575"),s("2877")),h=Object(p["a"])(m,a,o,!1,null,"48fd9a17",null);e["default"]=h.exports},8:function(t,e){},"811c":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t._self._c;return e("span",{ref:"copyToClipboard",staticClass:"copyToClipboard",attrs:{"data-tooltip":"Copiar p/ área de transferência"},on:{click:function(e){return e.stopPropagation(),t.copyToClipboard.apply(null,arguments)}}},[t._t("default")],2)},o=[],i=s("4b44"),n={name:"CopyToClipboard",methods:{copyToClipboard(){const t=this.$refs.copyToClipboard.innerText;navigator.clipboard.writeText(t),Object(i["toast"])({message:"Copiado com sucesso!",type:"is-success",dismissible:!0,pauseOnHover:!0,animate:{in:"fadeIn",out:"fadeOut"},position:"top-center",closeOnClick:!0})}}},r=n,l=(s("72fe"),s("2877")),c=Object(l["a"])(r,a,o,!1,null,null,null);e["default"]=c.exports},8126:function(t,e,s){},8160:function(t,e,s){"use strict";s("6a49")},"81cc":function(t,e,s){},8316:function(t,e,s){},8366:function(t,e,s){"use strict";s("b87c")},"83b4":function(t,e,s){"use strict";s.d(e,"a",(function(){return i}));var a=s("c388");const o="https://ymlzcthbmqcpwaiwcg3hikmbpa0rsehz.lambda-url.us-east-1.on.aws/v1";class i extends a["a"]{consult(t){return this.api.get(this.baseUrl+"/qitech/fgts/balance",{params:t})}simulate(t){return this.api.post(this.baseUrl+"/qitech/fgts/simulation",t)}save(t){return this.api.post(this.baseUrl+"/qitech/fgts/proposal",t)}verify(t){return this.api.get(this.baseUrl+"/qitech/fgts/proposal",{params:t})}cancel(t,e){return this.api.delete(`${this.baseUrl}/qitech/fgts/proposal/${t}`,{data:e})}withdrawalProposal(t){return this.api.post(this.baseUrl+"/qitech/fgts/proposal/reversal",{...t})}unravel(t,e){return this.api.delete(`${this.baseUrl}/qitech/fgts/reserve_balance/${t}`,{data:e})}receipt(t,e){return this.api.get(`${this.baseUrl}/qitech/fgts/reserve_balance/${t}/generate_receipt`,{params:e})}async list(t){return this.api.get(this.baseUrl+"/qitech/fgts/balance-wait-list",{params:t})}manageReserveActions(t,e){const s={external_proposal_id:t,document:e};return this.api.post(this.baseUrl+"/qitech/fgts/manage-reserve-actions",{...s})}clearCache(t){return this.api.post(this.baseUrl+"/qitech/fgts/clear-balance-cache",{...t})}getCreditCardStatus(t,e){const s={document:t,creditor_bank:e};return this.api.get(o+"/qitech/fgts/credit-operation-status",{params:s})}fetchRenegotiation(t,e,s){const a={external_proposal_id:t,reference_date:e,creditor_bank:s};return this.api.post(this.baseUrl+"/qitech/fgts/renegotiation/simulation",a)}fetchRenegotiationList(t,e){const s={external_proposal_number:t,creditor_bank:e};return this.api.get(this.baseUrl+"/qitech/fgts/renegotiation/proposal/list",{params:s})}renegotiationProposal(t,e,s,a){const o={external_proposal_id:t,reference_date:e,payment_type:s,creditor_bank:a};return this.api.post(this.baseUrl+"/qitech/fgts/renegotiation/proposal",o)}deleteRenegotiationProposal(t,e){const s={proposal_key:t,creditor_bank:e};return this.api.delete(this.baseUrl+"/qitech/fgts/renegotiation/proposal",{params:s})}forceSignature(t){return this.api.post(this.baseUrl+"/qitech/fgts/sign-debit",t)}async approve(t){return this.api.post(o+"/qitech/fgts/credit-operation",t)}async tryAgain(t){return this.api.put(o+"/qitech/fgts/credit-operation",t)}async removeItemsFromWaitList(t){return this.api.delete(this.baseUrl+"/qitech/fgts/balance-wait-list",{params:t})}async validateSimulation(t){return this.api.post(this.baseUrl+"/ccb/fgts/check-simulation",t)}async getSuppliersList(){return this.api.get(this.baseUrl+"/suppliers?type=Bancarizador")}async reSimulateFGTS(t){return this.api.post(this.baseUrl+"/ccb/fgts/resimulate",t)}}},"856d":function(t,e,s){"use strict";s("c4b1")},"87ea":function(t,e,s){"use strict";s("6e01")},"8c6d":function(t,e,s){"use strict";s("72d9")},"8f6b":function(t,e,s){},9:function(t,e){},9224:function(t){t.exports=JSON.parse('{"name":"prata-digital-admin","version":"2.16.2","private":true,"scripts":{"serve":"NODE_ENV=development vue-cli-service serve --mode localhost","serve-aws":"NODE_ENV=development vue-cli-service serve --mode aws","serve-qa":"NODE_ENV=development vue-cli-service serve --mode qa","serve-localhost":"NODE_ENV=development vue-cli-service serve --mode localhost","build":"NODE_ENV=production vue-cli-service build","build-aws":"NODE_ENV=production vue-cli-service build --mode aws","build-qa":"NODE_ENV=production vue-cli-service build --mode qa","build-localhost":"NODE_ENV=production vue-cli-service build --mode localhost","lint":"vue-cli-service lint"},"dependencies":{"@creativebulma/bulma-tooltip":"^1.2.0","@fortawesome/fontawesome-free":"^5.15.4","@fortawesome/fontawesome-svg-core":"^1.2.36","@fortawesome/free-brands-svg-icons":"^5.15.4","@fortawesome/free-solid-svg-icons":"^5.15.4","@fortawesome/vue-fontawesome":"^2.0.2","@gtm-support/vue2-gtm":"^1.3.0","@sentry/tracing":"^7.6.0","@sentry/vue":"^7.6.0","@typeform/embed":"^4.5.0","@types/jsonwebtoken":"^9.0.6","animate.css":"^4.1.1","apexcharts":"^3.39.0","axios":"^1","boleto.js":"^1.1.4","bulma":"^0.9.3","bulma-calendar":"^6.1.15","bulma-switch":"^2.0.0","bulma-toast":"^2.4.1","core-js":"^3.6.5","count-time-down":"^1.0.5","dompurify":"^3.0.3","generate-password":"^1.7.0","gerador-validador-cpf":"^5.0.2","html2canvas":"^1.4.1","jsonwebtoken":"8.5.1","lodash":"^4.17.21","pinch-zoom-element":"^1.1.1","pusher-js":"^8.0.2","qrcode":"^1.5.1","register-service-worker":"^1.7.1","v-money":"^0.8.1","vee-validate":"^3.4.13","vue":"^2.6.11","vue-apexcharts":"^1.6.2","vue-meta":"^2.4.0","vue-router":"^3.2.0","vue-simple-progress":"^1.1.1","vue-ui-preloader":"^1.2.1","vue2-datepicker":"^3.10.4","vuex":"^3.4.0","vuex-persist":"^3.1.3"},"devDependencies":{"@vue/cli-plugin-babel":"^4.5.0","@vue/cli-plugin-eslint":"^4.5.0","@vue/cli-service":"^4.5.0","@vue/eslint-config-airbnb":"^5.0.2","@vue/runtime-dom":"latest","babel-eslint":"^10.1.0","eslint":"^6.8.0","eslint-plugin-import":"^2.20.2","eslint-plugin-vue":"^6.2.2","sass":"^1.49.9","sass-loader":"^8.0.2","vue-template-compiler":"^2.6.11"},"eslintConfig":{"root":true,"env":{"node":true},"extends":["plugin:vue/recommended","@vue/airbnb"],"parserOptions":{"parser":"babel-eslint"},"rules":{"no-console":"off","template-curly-spacing":"off","indent":"off","vue/no-v-html":"off"}},"browserslist":["> 1%","last 2 versions","not dead"]}')},"954f":function(t,e,s){t.exports=s.p+"img/chart-arrow.8d0afd18.svg"},9581:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t._self._c;return t.loading?t._e():e("base-modal",{attrs:{"message-error":t.message.error,"has-escape":!0,"show-buttons":[!1,!0],"button-one-text":t.buttonOneText},on:{"button-1":t.back,close:t.back},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Desistência da Proposta ")]},proxy:!0},{key:"body",fn:function(){return[[e("figure",{staticClass:"qr-code-box"},[e("canvas",{ref:"qrcode"})]),e("div",{staticClass:"qr-code-buttons"},[t.details.pix_qrcode?e("div",{staticClass:"buttons"},[e("button",{staticClass:"button is-link is-small",on:{click:function(e){return t.copyQRCode()}}},[t._v(" Copiar QR Code ")]),e("button",{staticClass:"button is-link is-small",on:{click:function(e){return t.saveQRCode()}}},[t._v(" Baixar QR Code ")]),4===t.supplierId&&t.details.payment_slip_url?[e("a",{staticClass:"button is-link is-small",attrs:{href:t.details.payment_slip_url}},[t._v(" Baixar Boleto ")])]:t._e()],2):t._e()])]]},proxy:!0}],null,!1,878264998)})},o=[],i=s("d055"),n=s.n(i),r=s("4b44"),l=s("b686"),c=s("c1ec");const d=1;var u={name:"ModalProposalWithdrawal",components:{BaseModal:c["default"]},mixins:[l["a"]],props:{supplierId:{type:Number,default:()=>d},details:{type:Object,required:!1,default:()=>{}}},data:()=>({message:{error:""},buttonOneText:"Voltar",showQRCode:!1}),mounted(){this.generateQRCode()},methods:{handlerError(t){var e,s,a,o,i,n,r,l,c,d,u,m;let p=(null===t||void 0===t||null===(e=t.response)||void 0===e||null===(s=e.data)||void 0===s||null===(a=s.error)||void 0===a?void 0:a.message)||(null===t||void 0===t||null===(o=t.error)||void 0===o||null===(i=o.response)||void 0===i||null===(n=i.data)||void 0===n||null===(r=n.error)||void 0===r?void 0:r.message)||(null===t||void 0===t||null===(l=t.error)||void 0===l||null===(c=l.data)||void 0===c?void 0:c.message)||(null===t||void 0===t?void 0:t.message)||t;if(null!==t&&void 0!==t&&null!==(d=t.response)&&void 0!==d&&null!==(u=d.data)&&void 0!==u&&null!==(m=u.error)&&void 0!==m&&m.errors){var h,v,f;const e=Object.values(null===t||void 0===t||null===(h=t.response)||void 0===h||null===(v=h.data)||void 0===v||null===(f=v.error)||void 0===f?void 0:f.errors);p=p.concat("<br> - "+e.map(t=>t).join("<br> - "))}this.$set(this.message,"error",p),setTimeout(()=>{window.document.querySelector(".modal-card-body").scrollTo({top:0,left:0,behavior:"smooth"})},50)},back(){this.$emit("back")},generateQRCode(){var t;const e=this.$refs.qrcode,s=this,a=(null===(t=this.details)||void 0===t?void 0:t.pix_qrcode)||this.details;n.a.toCanvas(e,a,t=>{s.showQRCode=!0,t&&(s.showQRCode=!1)})},copyQRCode(){const t=document.createElement("input");t.value=this.details.pix_qrcode,t.select(),t.setSelectionRange(0,99999),navigator.clipboard.writeText(t.value),Object(r["toast"])({message:"QR Code copiado com sucesso!",type:"is-success",dismissible:!0,pauseOnHover:!0,animate:{in:"fadeIn",out:"fadeOut"},position:"top-center",closeOnClick:!0})},saveQRCode(){const t=this.$refs.qrcode,e=t.toDataURL("image/png",1).replace("image/png","image/octet-stream"),s=document.createElement("a");s.href=e,s.setAttribute("download","qrcode-proposal-withdrawal.png"),document.body.appendChild(s),s.click(),document.body.removeChild(s)}}},m=u,p=(s("fd9f"),s("2877")),h=Object(p["a"])(m,a,o,!1,null,"0062d4cf",null);e["default"]=h.exports},"95ac":function(t,e,s){},"96ed":function(t,e,s){},"97f3":function(t,e,s){"use strict";s.d(e,"a",(function(){return o}));var a=s("c388");class o extends a["a"]{list(t){return this.api.get(this.baseUrl+"/qitech/fgts/balance-wait-list",{params:t})}consult(t){return this.api.get(this.baseUrl+"/inss/balance",{params:t})}simulate(t){return this.api.post(this.baseUrl+"/inss/simulation",t)}verify(t){return this.api.get(this.baseUrl+"/inss/proposal",{params:t})}async approve(t){return this.api.post(this.baseUrl+"/inss/approve",t)}async approveAfterVideoFulfillment(t){return this.api.post(this.baseUrl+"/inss/credit-operation",t)}async factor(){return this.api.get(this.baseUrl+"/inss/factor")}async reSimulate(t){return this.api.post(this.baseUrl+"/inss/resimulate",t)}}},"97f4":function(t,e,s){},"98f5":function(t,e,s){"use strict";s("2b7f")},"9b74":function(t,e,s){"use strict";s("1dd1")},"9b85":function(t,e,s){"use strict";s("09ea")},"9c04":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t._self._c;return t.loading?t._e():e("base-modal",{attrs:{"message-error":t.message.error,"show-buttons":!1},on:{close:t.close},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Recibo da proposta ")]},proxy:!0},{key:"body",fn:function(){return[t.proposal?e("div",{key:"datasheet",staticClass:"modal-data-proposal"},[e("div",{staticClass:"control is-flex"},[e("label",{staticClass:"label"},[t._v("Número do protocolo")]),e("span",[t._v(t._s(t.proposal.protocol_number))])]),e("div",{staticClass:"control is-flex"},[e("label",{staticClass:"label"},[t._v("Número do documento")]),e("span",[t._v(t._s(t.proposal.document_number))])]),e("div",{staticClass:"control is-flex"},[e("label",{staticClass:"label"},[t._v("Status do protocolo")]),e("span",[t._v(t._s(t.proposal.protocol_status))])]),e("div",{staticClass:"control is-flex"},[e("label",{staticClass:"label"},[t._v("Data de referência")]),e("span",[t._v(t._s(t._f("truncate")(t.proposal.reference_date,4,"")))])]),t._e(),e("div",{staticClass:"control is-flex"},[e("label",{staticClass:"label"},[t._v("Valor da garantia contratada")]),e("span",[t._v(t._s(t._f("money")(t.proposal.periods_total_amount)))])]),t.proposal.url?e("div",{staticClass:"control is-flex"},[e("label",{staticClass:"label"},[t._v("URL")]),e("span",[t._v(t._s(t.proposal.url))])]):t._e(),t.proposal.error_message?e("div",{staticClass:"control is-flex"},[e("label",{staticClass:"label"},[t._v("Mensagem de erro")]),e("span",[t._v(t._s(t.proposal.error_message))])]):t._e(),e("h3",{staticClass:"historico__title mt-5"},[t._v(" Parcelas ")]),e("div",{staticClass:"historico__list"},t._l(t.proposal.periods,(function(s,a){return e("div",{key:a,staticClass:"historico__item"},[e("p",[t._v(" "+t._s(t.dateFormat(s.due_date).split(" ")[0])+" - "+t._s(t._f("money")(s.amount))+" ")])])})),0),e("hr"),e("div",{staticClass:"buttons buttons__grid"},[e("button",{key:"btn-receipt",staticClass:"buttons__clean column",on:{click:t.close}},[t._v(" Fechar ")]),e("button",{key:"btn-cancel",staticClass:"buttons__submit column",on:{click:t.back}},[t._v(" Voltar ")])])]):e("div",{key:"no-datasheet"},[t.loading?e("span",[t._v("Carregando")]):e("span",[t._v("Não há dados")])])]},proxy:!0}],null,!1,498358517)})},o=[],i=s("2f62"),n=s("b686"),r=s("df18"),l={name:"ModalProposalStatusReceiptBMP",components:{BaseModal:()=>Promise.resolve().then(s.bind(null,"c1ec"))},mixins:[n["a"]],props:{receiptData:{type:Object,required:!0}},data:()=>({message:{error:""},proposal:{}}),computed:{...Object(i["d"])({token:t=>t.app.logonToken,stateProposal:t=>t.proposal.proposal}),externalProposalId(){return this.receiptData.external_proposal_id}},mounted(){this.externalProposalId&&this.consultReceipt()},methods:{handlerError(t){var e,s,a,o,i,n,r,l,c,d,u,m;let p=(null===t||void 0===t||null===(e=t.response)||void 0===e||null===(s=e.data)||void 0===s||null===(a=s.error)||void 0===a?void 0:a.message)||(null===t||void 0===t||null===(o=t.error)||void 0===o||null===(i=o.response)||void 0===i||null===(n=i.data)||void 0===n||null===(r=n.error)||void 0===r?void 0:r.message)||(null===t||void 0===t||null===(l=t.error)||void 0===l||null===(c=l.data)||void 0===c?void 0:c.message)||(null===t||void 0===t?void 0:t.message)||t;if(null!==t&&void 0!==t&&null!==(d=t.response)&&void 0!==d&&null!==(u=d.data)&&void 0!==u&&null!==(m=u.error)&&void 0!==m&&m.errors){var h,v,f;const e=Object.values(null===t||void 0===t||null===(h=t.response)||void 0===h||null===(v=h.data)||void 0===v||null===(f=v.error)||void 0===f?void 0:f.errors);p=p.concat("<br> - "+e.map(t=>t).join("<br> - "))}this.$set(this.message,"error",p),this.setModalData({})},setModalData(t){for(const e of Object.keys(this.proposal))this.$delete(this.proposal,e);for(const e of Object.keys(t))this.$set(this.proposal,e,t[e])},close(){this.$emit("close")},back(){this.$emit("back",this.externalProposalId)},escape(t){"Escape"===t.key&&this.close()},dateFormat(t){if(!t)return"";const e={second:"2-digit",minute:"2-digit",hour:"2-digit",timeZone:"America/Sao_Paulo"},s=new Date(t).toLocaleDateString("pt-br",e);return s},async consultReceipt(){const t=new r["a"](this.token);this.loading=!0,await t.receipt(this.externalProposalId,{generate_pdf:0}).then(({data:t})=>{const[e]=t.data;this.setModalData(e)}).catch(t=>this.handlerError(t)).finally(()=>{this.loading=!1})}}},c=l,d=(s("6745"),s("2877")),u=Object(d["a"])(c,a,o,!1,null,"121d2799",null);e["default"]=u.exports},"9cd6":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t._self._c;return t.loading?t._e():e("base-modal",{attrs:{"message-error":t.message.error,"show-buttons":!1},on:{close:t.close},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Recibo da proposta ")]},proxy:!0},{key:"body",fn:function(){return[t.proposal?e("div",{key:"datasheet",staticClass:"modal-data-proposal"},[e("div",{staticClass:"control is-flex"},[e("label",{staticClass:"label"},[t._v("Número do protocolo")]),e("span",[t._v(t._s(t.proposal.protocol_number))])]),e("div",{staticClass:"control is-flex"},[e("label",{staticClass:"label"},[t._v("Número do documento")]),e("span",[t._v(t._s(t.proposal.document_number))])]),e("div",{staticClass:"control is-flex"},[e("label",{staticClass:"label"},[t._v("Status do protocolo")]),e("span",[t._v(t._s(t.proposal.protocol_status))])]),e("div",{staticClass:"control is-flex"},[e("label",[t._v("Data de referência")]),e("span",[t._v(t._s(t._f("truncate")(t.proposal.reference_date,4,"")))])]),t._e(),e("div",{staticClass:"control is-flex"},[e("label",[t._v("Valor da garantia contratada")]),e("span",[t._v(t._s(t._f("money")(t.proposal.periods_total_amount)))])]),t.proposal.url?e("div",{staticClass:"control is-flex"},[e("label",[t._v("URL")]),e("span",[t._v(t._s(t.proposal.url))])]):t._e(),t.proposal.error_message?e("div",{staticClass:"control is-flex"},[e("label",[t._v("Mensagem de erro")]),e("span",[t._v(t._s(t.proposal.error_message))])]):t._e(),e("h3",{staticClass:"historico__title mt-5"},[t._v(" Parcelas ")]),e("div",{staticClass:"historico__list"},t._l(t.proposal.periods,(function(s,a){return e("div",{key:a,staticClass:"historico__item"},[e("p",[t._v(" "+t._s(t.dateFormat(s.due_date).split(" ")[0])+" - "+t._s(t._f("money")(s.amount))+" ")])])})),0),e("hr"),e("div",{staticClass:"buttons buttons__grid"},[e("button",{key:"btn-receipt",staticClass:"buttons__clean column",on:{click:t.close}},[t._v(" Fechar ")]),e("button",{key:"btn-cancel",staticClass:"buttons__submit column",on:{click:t.back}},[t._v(" Voltar ")])])]):e("div",{key:"no-datasheet"},[t.loading?e("span",[t._v("Carregando")]):e("span",[t._v("Não há dados")])])]},proxy:!0}],null,!1,546658261)})},o=[],i=s("2f62"),n=s("b686"),r=s("83b4"),l={name:"ModalProposalStatusReceipt",components:{BaseModal:()=>Promise.resolve().then(s.bind(null,"c1ec"))},mixins:[n["a"]],props:{receiptData:{type:Object,required:!0}},data:()=>({message:{error:""},proposal:{}}),computed:{...Object(i["d"])({token:t=>t.app.logonToken,stateProposal:t=>t.proposal.proposal}),reservationRequestKey(){return this.receiptData.reservation_request_key},externalProposalId(){return this.receiptData.external_proposal_id}},mounted(){this.reservationRequestKey&&this.consultReceipt()},methods:{close(){this.$emit("close")},back(){this.$emit("back",this.externalProposalId)},escape(t){"Escape"===t.key&&this.close()},dateFormat(t){if(!t)return"";const e={second:"2-digit",minute:"2-digit",hour:"2-digit",timeZone:"America/Sao_Paulo"},s=new Date(t).toLocaleDateString("pt-br",e);return s},handlerError(t){var e,s,a,o,i,n,r,l,c,d,u,m;let p=(null===t||void 0===t||null===(e=t.response)||void 0===e||null===(s=e.data)||void 0===s||null===(a=s.error)||void 0===a?void 0:a.message)||(null===t||void 0===t||null===(o=t.error)||void 0===o||null===(i=o.response)||void 0===i||null===(n=i.data)||void 0===n||null===(r=n.error)||void 0===r?void 0:r.message)||(null===t||void 0===t||null===(l=t.error)||void 0===l||null===(c=l.data)||void 0===c?void 0:c.message)||(null===t||void 0===t?void 0:t.message)||t;if(null!==t&&void 0!==t&&null!==(d=t.response)&&void 0!==d&&null!==(u=d.data)&&void 0!==u&&null!==(m=u.error)&&void 0!==m&&m.errors){var h,v,f;const e=Object.values(null===t||void 0===t||null===(h=t.response)||void 0===h||null===(v=h.data)||void 0===v||null===(f=v.error)||void 0===f?void 0:f.errors);p=p.concat("<br> - "+e.map(t=>t).join("<br> - "))}this.$set(this.message,"error",p),this.setModalData({})},setModalData(t){for(const e of Object.keys(this.proposal))this.$delete(this.proposal,e);for(const e of Object.keys(t))this.$set(this.proposal,e,t[e])},async consultReceipt(){const t=new r["a"](this.token),e=this.reservationRequestKey,s={creditor_bank:this.stateProposal.creditor_bank,external_proposal_id:this.stateProposal.external_proposal_id,generate_pdf:0};this.loading=!0,await t.receipt(e,s).then(({data:t})=>{const[e]=t.data;this.setModalData(e)}).catch(t=>this.handlerError(t)).finally(()=>{this.loading=!1})}}},c=l,d=(s("ae54"),s("2877")),u=Object(d["a"])(c,a,o,!1,null,"5d3ef152",null);e["default"]=u.exports},"9ef0":function(t,e,s){},"9f81":function(t,e,s){},a362:function(t,e,s){"use strict";s("05c3")},a370:function(t,e,s){"use strict";s("67d6")},ab21:function(t,e,s){},ac81:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"simulation-table",class:{"is-narrow":t.periodsExceedMaxLength}},[e("div",{staticClass:"action-area"},[e("a",{staticClass:"icon download-icon",on:{click:t.downloadTable}},[t._v(" Copiar imagem "),e("i",{staticClass:"fas fa-copy"})])]),e("div",{staticClass:"periodsAsTable columns is-gapless"},[t.periodsExceedMaxLength?t._e():[e("div",{staticClass:"column is-narrow periods"},[e("table",{staticClass:"table primary"},[e("thead",[e("tr",[e("th",[t._v("Períodos")]),e("th",[t._v(t._s(t.balanceType))])])]),e("tbody",t._l(t.info.periods,(function({dtRepasse:s,valor:a},o){return e("tr",{key:o},[e("th",[t._v(t._s(t._f("truncate")(s,4,"")))]),e("td",[t._v(t._s(t._f("money")(a)))])])})),0),e("tfoot",[e("tr",[e("th",[t._v("Total")]),e("td",[t._v(t._s(t._f("money")(t.info.data.periods_total_amount)))])]),t.hasClearCache?[e("tr",{staticClass:"cache-area"},[e("td",{attrs:{colspan:"2"}},[e("button",{staticClass:"button is-ghost",on:{click:t.emitClearCache}},[e("span",[t._v(" Quero o saldo atual ")])])])])]:t._e()],2)])])],e("div",{staticClass:"column taxes"},[e("h4",[t._v("Valor liberado")]),e("p",{staticClass:"is-size-1 has-text-weight-bold is-primary"},[t._v(" "+t._s(t._f("money")(t.info.wish_amount_request))+" ")]),e("table",{staticClass:"table secondary"},[e("tbody",[t.periodsExceedMaxLength?[e("tr",[e("td",{staticClass:"is-narrow"},[t._v(" Parcelas ")]),e("td",{staticClass:"has-text-right"},[t._v(" 84x "+t._s(t._f("money")(t.shiftPeriod.valor))+" ")])]),e("tr",[e("td",[t._v("Total")]),e("td",{staticClass:"has-text-right"},[t._v(" "+t._s(t._f("money")(t.info.data.periods_total_amount))+" ")])]),e("tr",[e("td",{staticClass:"is-narrow"},[t._v(" Primeira parcela ")]),e("td",{staticClass:"has-text-right"},[t._v(" "+t._s(t.dateFormat(t.shiftPeriod.dtRepasse))+" ")])]),e("tr",[e("td",{staticClass:"is-narrow"},[t._v(" Última parcela ")]),e("td",{staticClass:"has-text-right"},[t._v(" "+t._s(t.dateFormat(t.popPeriod.dtRepasse))+" ")])])]:t._e(),e("tr",[e("td",{staticClass:"is-narrow"},[t._v(" Valor da emissão ")]),e("td",{staticClass:"has-text-right"},[t._v(" "+t._s(t._f("money")(t.info.data.issue_amount))+" ")])]),e("tr",[e("td",{staticClass:"is-narrow"},[t._v(" IOF ")]),e("td",{staticClass:"has-text-right"},[t._v(" "+t._s(t._f("money")(t.info.data.iof_amount))+" ")])]),t.periodsExceedMaxLength?t._e():[t.tcEligible?[e("tr",[e("td",{staticClass:"is-narrow"},[t._v(" TC ")]),e("td",{staticClass:"has-text-right"},[t._v(" "+t._s(t._f("money")(t.info.data.tac))+" ")])])]:[e("tr",[e("td",{staticClass:"is-narrow"},[t._v(" Seguro ")]),e("td",{staticClass:"has-text-right"},[t._v(" "+t._s(t._f("money")(t.info.data.insurance_amount))+" ")])])]],e("tr",[e("td",{staticClass:"is-narrow"},[t._v(" TAXA ")]),e("td",{staticClass:"has-text-right"},[e("span",[t._v(t._s(t.percent(t.info.data.monthly_rate)+"% a.m."))]),e("span",{staticClass:"mx-2"},[t._v("/")]),e("span",[t._v(t._s(t.percent(t.info.data.annual_rate)+"% a.a."))])])]),e("tr",[e("td",{staticClass:"is-narrow"},[t._v(" CET ")]),e("td",{staticClass:"has-text-right"},[e("span",[t._v(t._s(t.percent(t.info.data.cet)+"% a.m."))]),e("span",{staticClass:"mx-2"},[t._v("/")]),e("span",[t._v(t._s(t.percent(t.info.data.annual_cet)+"% a.a."))])])])],2)])])],2),t.isConsultant?t._e():[e("button",{staticClass:"button is-primary register mx-auto",on:{click:t.emitRegister}},[t._v(" Clique aqui para prosseguir para o cadastro ")])]],2)},o=[],i=s("c0e9"),n=s.n(i),r=s("4b44"),l=s("c8cf"),c={name:"ConsultSimulationTable",mixins:[l["a"]],props:{info:{type:Object,required:!0},balanceType:{type:String,required:!0},hasClearCache:{type:Boolean,required:!0}},data:()=>({periodsMaxLength:10}),computed:{periodsExceedMaxLength(){return this.info.periods.length>this.periodsMaxLength},popPeriod(){return[...this.info.periods].pop()},shiftPeriod(){return[...this.info.periods].shift()},tcEligible(){return!Object.hasOwnProperty.call(this.info.data,"tc_eligible")||(null===this.info.data.tc_eligible||this.info.data.tc_eligible)}},methods:{percent(t){return(100*t).toFixed(2)},dateFormat(t){if(!t)return"";const e=t.split("-").reverse().join("/");return e},downloadTable(){const t=document.querySelector(".periodsAsTable");n()(t).then(t=>{if(t.getContext("2d",{willReadFrequently:!0}),ClipboardItem.supports("image/png"))t.toBlob(t=>{navigator.clipboard.write([new ClipboardItem({"image/png":t})])});else{const e=t.toDataURL(),s=document.createElement("a");s.href=e,s.download="simulacao-fgts.png",s.click()}Object(r["toast"])({message:"Imagem copiada com sucesso!",type:"is-success",dismissible:!0,pauseOnHover:!0,animate:{in:"fadeIn",out:"fadeOut"},position:"top-center",closeOnClick:!0})})},emitRegister(){this.isConsultant||this.$emit("register",!0)},emitClearCache(){this.$emit("clear",!0)}}},d=c,u=(s("9b85"),s("2877")),m=Object(u["a"])(d,a,o,!1,null,"83592a84",null);e["default"]=m.exports},ae54:function(t,e,s){"use strict";s("b4c9")},af8d:function(t,e,s){},b1f5:function(t,e,s){},b2ee:function(t,e){t.exports="data:image/png;base64,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"},b3b3:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"control"},[t.$slots.default?[e("label",{staticClass:"label"},[t._t("default")],2)]:t._e(),"money"===t.mask?e("money",t._b(t._b({staticClass:"input",attrs:{disabled:t.$attrs.disabled,type:"tel"},on:{input:function(e){return t.emit(t.mutatedValue)},blur:function(e){return t.emit(!0,"blur")},focus:function(e){return t.emit(!0,"focus")},change:function(e){return t.maskValue(t.mutatedValue,t.mask,"change")}},model:{value:t.mutatedValue,callback:function(e){t.mutatedValue=e},expression:"mutatedValue"}},"money",t._d({},[t.tabindexEvent,t.tabindex])),"money",t.money,!1)):t.mask?e("input",t._b(t._b({key:"input-masked",ref:"input",staticClass:"input",attrs:{placeholder:t.placeholderMasked},domProps:{value:t.value},on:{input:function(e){return t.maskValue(e.target.value,t.mask,"input")},blur:function(e){return t.emit(!0,"blur")},focus:function(e){return t.emit(!0,"focus")},change:function(e){return t.maskValue(e.target.value,t.mask,"change")}}},"input",t._d({},[t.tabindexEvent,t.tabindex])),"input",t.$attrs,!1)):e("input",t._b(t._b({key:"input-normal",ref:"input",staticClass:"input",domProps:{value:t.value},on:{input:function(e){return t.emit(e.target.value)},blur:function(e){return t.emit(!0,"blur")},focus:function(e){return t.emit(!0,"focus")}}},"input",t._d({},[t.tabindexEvent,t.tabindex])),"input",t.$attrs,!1)),t.errorMessage?e("div",[e("small",{staticClass:"has-text-danger"},[t._v(t._s(t.errorMessage))])]):t._e()],2)},o=[],i={name:"BaseInput",props:{value:{any:!0},tabindex:{type:[Number,String],default:null,required:!1},mask:{type:String,default:"",required:!1},errorMessage:{type:String,default:"",required:!1}},data:()=>({mutatedValue:"",money:{decimal:",",thousands:".",prefix:"R$ ",precision:2,masked:!1}}),computed:{tabindexEvent(){return this.tabindex?"tabindex":null},placeholderMasked(){var t;let e=null!==(t=this.$attrs.placeholder)&&void 0!==t?t:null;if(e)return e;switch(this.mask){case"cpf":e="---.---.---.--";break;case"tel":e="(--) - ----.----";break;case"cep":e="-----.---";break;case"date":e="--/--/----";break;case"percent":e="%";break;case"money":e="R$";break;case"cnpj":e="--.---.---/----.--";break;case"number":e="";break;default:e="sem máscara definida";break}return e}},watch:{value:{immediate:!0,handler(t){this.mutatedValue=t}}},methods:{emit(t,e="input"){this.$emit(e,t)},maskValue(t,e,s="input"){const a=14;let o;switch(e){case"cpf":o=t,o.length>a&&(o=o.slice(0,a)),o=o.replace(/[\D]/g,"").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3}.)(\d{3}.)(\d{3})(.)/,"$1$2$3-");break;case"tel":o=t.replace(/\D/g,"").replace(/^(\d{2})(\d)/g,"($1) $2").replace(/(\d)(\d{4})$/,"$1-$2");break;case"cep":o=t.replace(/\D/g,"").replace(/^(\d{5})(\d)/,"$1-$2");break;case"date":o=t.replace(/\D/g,"").replace(/(\d{2})(\d)/,"$1/$2").replace(/(\d{2})(\d)/,"$1/$2");break;case"percent":o=t.replace(/[^\d.]/g,""),o+="%";break;case"money":break;case"cnpj":o=t.replace(/\D/g,"").replace(/^(\d{2})(\d)/,"$1.$2").replace(/^(\d{2})\.(\d{3})(\d)/,"$1.$2.$3").replace(/\.(\d{3})(\d)/,".$1/$2").replace(/(\d{4})(\d)/,"$1-$2");break;case"number":o=t.replace(/\D/g,"");break;default:o=t;break}this.$refs.input.value=o,this.emit(o,s)}}},n=i,r=(s("7af9"),s("2877")),l=Object(r["a"])(n,a,o,!1,null,"0c850bae",null);e["default"]=l.exports},b4c9:function(t,e,s){},b594:function(t,e,s){"use strict";s("9ef0")},b686:function(t,e,s){"use strict";var a=s("2f62");e["a"]={computed:{...Object(a["d"])({$_loading:t=>t.app.loading}),loading:{get(){return this.$_loading},set(t){this.setLoading(t)}}},methods:{...Object(a["b"])({setLoading:"app/SET_LOADING"})}}},b6b8:function(t,e,s){"use strict";s("ab21")},b76e:function(t,e,s){"use strict";s("be55")},b7f2:function(t,e,s){t.exports=s.p+"img/img-lamp.392607da.svg"},b87c:function(t,e,s){},bd92:function(t,e,s){},be55:function(t,e,s){},bf62:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t._self._c;return t.loading?t._e():e("base-modal",{attrs:{"message-error":t.message.error,"show-buttons":!1},on:{close:t.close},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Status da proposta :: INSS ")]},proxy:!0},{key:"body",fn:function(){return[t.canceledReason?[e("div",{staticClass:"is-grid mb-5"},[e("div",{staticClass:"has-text-weight-bold"},[t._v(" "+t._s(t.loanStatus)+" ")]),e("div",{staticClass:"has-text-danger"},[t._v(" "+t._s(t.canceledReason)+" ")])])]:t._e(),t.proposal?e("div",{key:"datasheet",staticClass:"modal-data-proposal"},[e("div",{staticClass:"control is-flex"},[e("label",{staticClass:"label"},[t._v("Chave do Débito")]),e("span",[t._v(t._s(t.proposal.requester_identifier_key))])]),e("div",{staticClass:"control is-flex"},[e("label",{staticClass:"label"},[t._v("Número do contrato")]),e("span",[t._v(t._s(t.proposal.contract_number))])]),e("div",{staticClass:"control is-flex"},[e("label",[t._v("Nome do Cliente")]),e("span",[t._v(t._s(t.clientName))])]),e("div",{staticClass:"control is-flex"},[e("label",[t._v("Documento")]),e("span",[e("CopyToClipboard",[t._v(" "+t._s(t.clientDocument)+" ")])],1)]),e("div",{staticClass:"control is-flex"},[e("label",[t._v("Taxa de custo total efetiva mensal")]),e("span",[t._v(t._s(t.monthlyEffectiveTotalCostRate))])]),e("div",{staticClass:"control is-flex"},[e("label",[t._v("Valor da emissão")]),e("span",[t._v(t._s(t._f("money")(t.proposal.issue_amount)))])]),e("div",{staticClass:"control is-flex"},[e("label",[t._v("TC")]),e("span",[t._v(t._s(t._f("money")(t.proposal.issue_amount-t.proposal.total_iof-t.proposal.disbursed_issue_amount)))])]),e("div",{staticClass:"control is-flex"},[e("label",[t._v("IOF")]),e("span",[t._v(t._s(t._f("money")(t.proposal.total_iof)))])]),e("div",{staticClass:"control is-flex"},[e("label",[t._v("Valor liberado")]),e("span",[t._v(t._s(t._f("money")(t.proposal.disbursed_issue_amount)))])]),e("div",{staticClass:"columns mt-2 mb-0"},[e("div",{staticClass:"column"},[e("div",{staticClass:"control is-flex"},[e("label",[t._v("Data de emissão")]),e("span",[t._v(t._s(t.dateFormat(t.proposal.created_at)))])])]),t.showCCBContract?[e("div",{staticClass:"column"},[e("div",{staticClass:"control is-flex"},[e("label",[t._v("Contrato assinado")]),e("span",[t.signed_contract_url?e("a",{staticClass:"button is-ghost p-0",staticStyle:{height:"auto"},attrs:{href:t.signed_contract_url,target:"_blank"}},[e("span",[t._v("Abrir link")]),e("span",{staticClass:"icon"},[e("i",{staticClass:"fas fa-external-link-alt"})])]):e("span",[t._v("nda")])])])])]:t._e()],2),null!=t.proposal.disbursed_at?e("div",{staticClass:"columns mt-1 mb-1"},[e("div",{staticClass:"column"},[e("div",{staticClass:"control is-flex"},[e("label",[t._v("Data do desembolso")]),e("span",[t._v(t._s(t.dateFormat(t.proposal.disbursed_at)))])])]),e("div",{staticClass:"column"},[e("div",{staticClass:"control is-flex"},[e("label",[t._v("Comprovante de Pgto.")]),e("span",[t.payment_receipt_url?e("a",{staticClass:"button is-ghost p-0",staticStyle:{height:"auto"},attrs:{href:t.payment_receipt_url,target:"_blank"}},[e("span",[t._v("Abrir link")]),e("span",{staticClass:"icon"},[e("i",{staticClass:"fas fa-external-link-alt"})])]):e("span",[t._v("nda")])])])])]):t._e(),e("div",{staticClass:"columns mt-1"},[e("div",{staticClass:"column"},[t.canceledReason?e("div",{staticClass:"canceledReason"},[e("div",{staticClass:"control"},[e("label",[t._v("Status")]),e("span",[t._v(" "+t._s(t.loanStatus)+" "),e("small",{staticClass:"has-text-danger"},[t._v(t._s(t.canceledReason))])])]),t.showBtnRelaunch?e("div",{staticClass:"relaunchBtn"},[e("button",{staticClass:"button is-danger",on:{click:t.relaunchProposal}},[t._v(" Relançar proposta ")])]):t._e()]):e("div",[e("div",{staticClass:"control is-flex"},[e("label",[t._v("Status")]),e("span",[t._v(" "+t._s(t.loanStatus)+" ")])])])]),t.enableButton&&t.showWithdrawalButton?e("div",{staticClass:"column"},[e("div",{staticClass:"buttons"},[e("button",{staticClass:"buttons__submit",on:{click:t.openProposalWithdrawal}},[t._v(" QR Code arrependimento ")])])]):t.enableButton?e("div",{staticClass:"column"},[e("div",{staticClass:"buttons"},[e("button",{staticClass:"buttons__submit",on:{click:t.openProposalAcquittance}},[t._v(" Quitação ")])])]):t._e()]),e("div",{staticClass:"control is-flex"},[e("label",[t._v("Margem constituída")]),e("span",[t._v(t._s(t.collateralConstituted?"Sim":"Não"))])]),t.collateralConstituted?t._e():e("div",{staticClass:"control is-flex"},[e("label",[t._v("Motivo")]),e("span",[t._v(t._s(t.collateralConstitutedMessage))])]),e("hr"),e("div",{staticClass:"buttons buttons__gridsrc/components/ModalProposalStatus.vue mt-5 is-flex"},[t.collateralConstituted&&!t.isCreditCardProposal?[e("button",{key:"btn-receipt",staticClass:"buttons__clean column",on:{click:t.openReceipt}},[t._v(" Consultar recibo ")])]:t.isCreditCardProposal?[e("button",{key:"btn-card-transaction",staticClass:"buttons__clean column",on:{click:t.getCreditCardTransaction}},[t._v(" Consultar transação do Cartão ")])]:t._e(),t.enableButton?[t.isCanceled&&t.collateralConstituted?[e("button",{key:"btn-unravel",staticClass:"btn buttons__clean column",on:{click:function(e){return t.unravelProposal(!1)}}},[t._v(" Desaverbar ")]),e("button",{key:"btn-unravel-cancel",staticClass:"btn buttons__submit column",on:{click:function(e){return t.unravelProposal(!0)}}},[t._v(" Desaverbar / Cancelar ")])]:t._e(),t.showBtnCancel?t._e():e("button",{key:"btn-cancel",staticClass:"btn buttons__submit column",on:{click:t.confirmCancel}},[t._v(" Cancelar proposta ")])]:t._e()],2)]):e("div",{key:"no-datasheet"},[t.loading?e("span",[t._v("Carregando")]):e("span",[t._v("Não há dados")])])]},proxy:!0}],null,!1,3239257700)})},o=[],i=s("2f62"),n=s("4b44"),r=s("83b4"),l=s("97f3"),c=s("ed08"),d=s("b686"),u={name:"ModalProposalStatusINSS",components:{BaseModal:()=>Promise.resolve().then(s.bind(null,"c1ec")),CopyToClipboard:()=>Promise.resolve().then(s.bind(null,"811c"))},mixins:[d["a"]],data:()=>({message:{error:""},proposal:{},withdrawalResponse:{},enableButton:!1}),computed:{...Object(i["d"])({token:t=>t.app.logonToken,user:t=>t.user.userInfo,stateProposal:t=>t.proposal.proposal}),isCreditCardProposal(){const t=8;return this.proposal.product_id===t},showWithdrawalButton(){var t;const e=new Date,s=new Date(null===(t=this.proposal)||void 0===t?void 0:t.disbursed_at);return s.setDate(s.getDate()+7),e<=s},clientName(){var t;if(null!==(t=this.proposal)&&void 0!==t&&t.disbursement_account){var e;const[t]=null===(e=this.proposal)||void 0===e?void 0:e.disbursement_account;return t.name}return""},clientDocument(){var t;if(null!==(t=this.proposal)&&void 0!==t&&t.disbursement_account){var e;const[t]=null===(e=this.proposal)||void 0===e?void 0:e.disbursement_account;return t.document_number}return""},monthlyEffectiveTotalCostRate(){var t;if(null!==(t=this.proposal)&&void 0!==t&&t.disbursement_options){var e;const[t]=null===(e=this.proposal)||void 0===e?void 0:e.disbursement_options;return t.cet}return""},loanStatus(){var t,e;return(null===(t=this.proposal)||void 0===t||null===(e=t.credit_operation_status)||void 0===e?void 0:e.translation_ptbr)||""},reservationRequestKey(){var t;if(null!==(t=this.proposal)&&void 0!==t&&t.collaterals){var e;const[t]=null===(e=this.proposal)||void 0===e?void 0:e.collaterals;return t.collateral_data.reservation_request_key}return null},isCanceled(){return"Cancelada"===this.loanStatus},showBtnRelaunch(){var t;return(null===(t=this.proposal)||void 0===t?void 0:t.show_relaunch_button)||!1},canceledReason(){var t,e;return(null===(t=this.proposal)||void 0===t||null===(e=t.cancel_reason)||void 0===e?void 0:e.translation_pt_br)||""},showBtnCancel(){const t=["desembolsada","cancelada"];return t.includes(this.loanStatus.toLowerCase())},collateralConstituted(){var t;const e=(t,e)=>Object(c["e"])(e,t)&&null!==e[t];if(null!==(t=this.proposal)&&void 0!==t&&t.collaterals){var s;const[t]=null===(s=this.proposal)||void 0===s?void 0:s.collaterals;if(e("constituted_margin",t))return t.constituted_margin;if(e("collateral_constituted",t))return t.collateral_constituted}return null},collateralConstitutedMessage(){var t;if(null!==(t=this.proposal)&&void 0!==t&&t.collaterals){var e;const[t]=null===(e=this.proposal)||void 0===e?void 0:e.collaterals,o=t.collateral_data.reservation_request_status_translation;let i;var s,a;if(Object.hasOwnProperty.call(t.collateral_data,"error_message")&&"None"!==t.collateral_data.error_message)i=JSON.parse(t.collateral_data.error_message),i=" - "+(null===(s=i)||void 0===s||null===(a=s.error_message)||void 0===a?void 0:a.descricao);else i="";return`${o}${i}`}return null},payment_receipt_url(){var t,e,s;return null!==(t=null===(e=this.proposal)||void 0===e||null===(s=e.details)||void 0===s?void 0:s.payment_receipt_url)&&void 0!==t?t:""},signed_contract_url(){var t,e,s;return null!==(t=null===(e=this.proposal)||void 0===e||null===(s=e.details)||void 0===s?void 0:s.signed_contract_url)&&void 0!==t?t:""},showCCBContract(){return!Object(c["b"])()}},created(){this.stateProposal.external_proposal_id&&this.verifyProposal(),this.disabledButton(),window.addEventListener("keydown",this.handleKeyDown)},beforeDestroy(){window.removeEventListener("keydown",this.handleKeyDown)},methods:{relaunchProposal(){const t=new r["a"](this.token);this.loading=!0,t.manageReserveActions(this.stateProposal.external_proposal_id,this.clientDocument).then(()=>{Object(n["toast"])({message:"Atualizada com sucesso!",type:"is-success",dismissible:!0,pauseOnHover:!0,animate:{in:"fadeIn",out:"fadeOut"},position:"top-center",closeOnClick:!0})}).then(()=>this.verifyProposal()).catch(({response:t})=>{Object(n["toast"])({message:t.data.error.message,type:"is-danger",dismissible:!0,pauseOnHover:!0,animate:{in:"fadeIn",out:"fadeOut"},position:"top-center",closeOnClick:!0})}).finally(()=>{this.loading=!1})},openProposalWithdrawal(){if(this.proposal.contract_number){const t={creditor_bank:this.stateProposal.creditor_bank,contract_number:this.proposal.contract_number};this.$emit("proposalWithdrawal",t)}},openProposalAcquittance(){const t={contract_number:this.proposal.contract_number};this.$emit("proposalAcquittance",t)},handleKeyDown(t){t.shiftKey&&"D"===t.key&&this.enableButton&&this.isCanceled&&this.collateralConstituted&&this.unravelProposal()},close(){this.$emit("close")},escape(t){"Escape"===t.key&&this.close()},dateFormat(t){if(!t)return"";const e={second:"2-digit",minute:"2-digit",hour:"2-digit",timeZone:"America/Sao_Paulo"},s=new Date(t).toLocaleDateString("pt-br",e);return s},handlerError(t){var e,s,a,o,i,n,r,l,c,d,u,m;let p=(null===t||void 0===t||null===(e=t.response)||void 0===e||null===(s=e.data)||void 0===s||null===(a=s.error)||void 0===a?void 0:a.message)||(null===t||void 0===t||null===(o=t.error)||void 0===o||null===(i=o.response)||void 0===i||null===(n=i.data)||void 0===n||null===(r=n.error)||void 0===r?void 0:r.message)||(null===t||void 0===t||null===(l=t.error)||void 0===l||null===(c=l.data)||void 0===c?void 0:c.message)||(null===t||void 0===t?void 0:t.message)||t;if(null!==t&&void 0!==t&&null!==(d=t.response)&&void 0!==d&&null!==(u=d.data)&&void 0!==u&&null!==(m=u.error)&&void 0!==m&&m.errors){var h,v,f;const e=Object.values(null===t||void 0===t||null===(h=t.response)||void 0===h||null===(v=h.data)||void 0===v||null===(f=v.error)||void 0===f?void 0:f.errors);p=p.concat("<br> - "+e.map(t=>t).join("<br> - "))}this.$set(this.message,"error",p),this.setProposalData({})},setProposalData(t){for(const e of Object.keys(this.proposal))this.$delete(this.proposal,e);for(const e of Object.keys(t))this.$set(this.proposal,e,t[e])},async verifyProposal(){const t=new l["a"](this.token),e={external_proposal_id:this.stateProposal.external_proposal_id};this.loading=!0,await t.verify(e).then(({data:t})=>{this.setProposalData(t.data)}).catch(t=>this.handlerError(t)).finally(()=>{this.loading=!1})},confirmCancel(){const t="Você está executando uma ação para cancelamento da proposta\r\nDeseja prosseguir com está ação?";confirm(t)&&this.cancelProposal()},async cancelProposal(){const t=new r["a"](this.token),e=this.stateProposal.external_proposal_id;this.loading=!0,await t.cancel(e,{creditor_bank:this.stateProposal.creditor_bank}).then(()=>this.verifyProposal()).catch(t=>this.handlerError(t)).finally(()=>{this.loading=!1})},async unravelProposal(t){const e=new r["a"](this.token),s=this.reservationRequestKey,a={creditor_bank:this.stateProposal.creditor_bank,proposal_id:this.stateProposal.proposal_id};!0===t&&(a.status="Cancelada"),this.loading=!0,await e.unravel(s,a).then(()=>this.verifyProposal()).catch(t=>this.handlerError(t)).finally(()=>{this.loading=!1})},async openReceipt(){this.$emit("receipt",{external_proposal_id:this.stateProposal.external_proposal_id,reservation_request_key:this.reservationRequestKey})},async getCreditCardTransaction(){this.$emit("creditCardTransactionData",{proposal_id:this.stateProposal.proposal_id})},disabledButton(){var t;const e=(null===this||void 0===this||null===(t=this.user)||void 0===t?void 0:t.roles_ids)||[],s=[1,6,8,11,14];this.enableButton=!!e.find(t=>s.includes(t))}}},m=u,p=(s("7870"),s("2877")),h=Object(p["a"])(m,a,o,!1,null,"4569f18e",null);e["default"]=h.exports},c10d:function(t,e,s){"use strict";s("b1f5")},c1ec:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"modal is-active"},[e("div",{staticClass:"modal-background"}),e("div",{staticClass:"modal-card"},[e("header",{staticClass:"modal-card-head",class:{"colorless-head":t.colorlessHead}},[e("p",{staticClass:"modal-card-title"},[t._t("title")],2),e("button",{staticClass:"delete",attrs:{"aria-label":"close"},on:{click:t.close}})]),e("div",{staticClass:"modal-card-body"},[t.messageSuccess?e("div",{staticClass:"column"},[e("div",{staticClass:"message is-success"},[e("div",{staticClass:"message-body"},[e("p",[t._v(t._s(t.messageSuccess))])])])]):t._e(),e("the-error",{attrs:{message:t.messageError}}),t._t("body"),t.showButtonContainer?e("hr"):t._e(),t.showButtonContainer?e("div",{staticClass:"buttons buttons__grid",class:{"has-tertiary":t.showBtnTertiary}},[t.showBtnTertiary?e("button",{staticClass:"buttons__clean button is-text column",staticStyle:{"grid-area":"extra"},on:{click:function(e){return t.click(3)}}},[t._v(" "+t._s(t.buttonThreeText)+" ")]):t._e(),t.buttonsToShow[0]?e("button",{staticClass:"buttons__clean column",staticStyle:{"grid-area":"left"},on:{click:function(e){return t.click(2)}}},[t._v(" "+t._s(t.buttonTwoText)+" ")]):t._e(),t.buttonsToShow[1]?e("button",{staticClass:"buttons__submit column",class:{"has-primary-btn":t.buttonsToShow[0]},staticStyle:{"grid-area":"right"},on:{click:function(e){return t.click(1)}}},[t._v(" "+t._s(t.buttonOneText)+" ")]):t._e()]):t._e()],2)])])},o=[],i=(s("d9e2"),{name:"BaseModal",components:{TheError:()=>Promise.resolve().then(s.bind(null,"c6f5"))},props:{messageError:{type:[String,Error,Object],default:"",required:!1},messageSuccess:{type:String,default:"",required:!1},showButtons:{type:[Boolean,Array],default:!0,required:!1},showBtnTertiary:{type:Boolean,default:!1,required:!1},buttonThreeText:{type:String,default:"Button",required:!1},buttonTwoText:{type:String,default:"Cancel",required:!1},buttonOneText:{type:String,default:"Confirm",required:!1},hasEscape:{type:Boolean,default:!0,required:!1},colorlessHead:{type:Boolean,default:!1,required:!1}},computed:{buttonsToShow(){const t=this.showButtons;return"boolean"===typeof this.showButtons?[t,t]:this.showButtons},showButtonContainer(){return this.buttonsToShow.includes(!0)}},created(){this.hasEscape&&window.addEventListener("keydown",this.escape)},beforeDestroy(){this.hasEscape&&window.removeEventListener("keydown",this.escape)},methods:{escape(t){"Escape"===t.key&&this.close()},close(){this.$emit("close")},click(t){this.$emit("button-"+t)}}}),n=i,r=(s("20f8"),s("2877")),l=Object(r["a"])(n,a,o,!1,null,null,null);e["default"]=l.exports},c388:function(t,e,s){"use strict";s.d(e,"a",(function(){return r}));s("d9e2");var a=s("cee4"),o=s("4c4e");const i=async()=>{try{let t=localStorage.getItem("vuex");if(!t)throw new Error("Request failed");if(t=JSON.parse(t),!t.app.logonToken)throw new Error("Request failed");a["a"].defaults.headers.common.Authorization="Bearer "+t.app.logonToken;const e=await a["a"].post(o["a"].BASE_API_URL+"/users/refresh-token");return e.data.data}catch{throw new Error("Request failed")}},n=t=>{try{const e=new CustomEvent("refreshToken",{detail:t});window.dispatchEvent(e)}catch{}};a["a"].interceptors.response.use(t=>t,async t=>{var e;if(401!==(null===t||void 0===t||null===(e=t.response)||void 0===e?void 0:e.status))return Promise.reject(t);try{const{token:e}=await i();return n(e),t.config.headers.Authorization="Bearer "+e,a["a"].request(t.config)}catch{const t=new AbortController;return t.abort(),window.location.replace("/")}});class r{constructor(t,e){this.baseUrl=e||o["a"].BASE_API_URL,this.api=a["a"],this.api.defaults.headers.common.Authorization="Bearer "+t}async getTheme({domain:t}){return delete this.api.defaults.headers.common.Authorization,delete this.api.defaults.headers.common["X-Authorization"],this.api.get(`${this.baseUrl}/users/tenants/${t}`,{headers:{"X-Authorization":o["a"].API_KEY,"content-type":"application/json"}})}}},c3f4:function(t,e,s){"use strict";s("8f6b")},c4b1:function(t,e,s){},c59d:function(t,e,s){"use strict";s("3981")},c623:function(t,e,s){},c6f5:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t._self._c;return t.message?e("span",{staticClass:"columns"},[t.isMessageObject?[e("div",{staticClass:"column"},[e("div",{staticClass:"message",class:"is-"+t.type},[e("div",{staticClass:"message-body"},[t._t("message",(function(){return[e("p",[t._v(t._s(t.message.message))]),t.message.others&&t.message.others[0]?e("ul",t._l(t.message.others,(function(s,a){return e("li",{key:a},[e("small",{class:"has-text-"+t.type},[t._v(" "+t._s(s.value)+" ")])])})),0):t._e()]}))],2)])])]:[e("div",{staticClass:"column"},[e("div",{staticClass:"message",class:"is-"+t.type},[e("div",{staticClass:"message-body"},[t._t("message",(function(){return[e("p",{domProps:{innerHTML:t._s(t.sanitizedContent(t.message))}})]}))],2)])])]],2):t._e()},o=[],i=(s("d9e2"),s("4d0a")),n={name:"TheError",mixins:[i["a"]],props:{message:{type:[String,Object,Error],required:!0},type:{type:String,default:"warning",required:!1}},computed:{isMessageObject(){return"object"===typeof this.message&&this.message.message}}},r=n,l=s("2877"),c=Object(l["a"])(r,a,o,!1,null,null,null);e["default"]=c.exports},c84f:function(t,e,s){t.exports=s.p+"img/undraw_festivities_tvvj.0b7e3325.svg"},c8cf:function(t,e,s){"use strict";var a=s("2f62");e["a"]={data:()=>({knownRoles:new Map([[1,"admin"],[3,"manager"],[6,"super"],[8,"antifraud"],[9,"typist"],[10,"financial"],[11,"commercial"],[12,"consultant"],[13,"creditor"],[14,"compliance"],[15,"tenant"],[16,"coordenador"],[17,"superintendent"],[18,"master"],[20,"accessManager"]])}),computed:{...Object(a["d"])({roles:t=>t.user.userInfo&&t.user.userInfo.roles_ids?t.user.userInfo.roles_ids:[]}),isAdmin(){return this.roles.includes(1)},isManager(){return this.roles.includes(3)},isSuper(){return this.roles.includes(6)},isAntifraud(){return this.roles.includes(8)},isTypist(){return this.roles.includes(9)},isMasterOrFinancial(){return this.roles.includes(10)||this.roles.includes(18)},isCommercial(){return this.roles.includes(11)},isConsultant(){return this.roles.includes(12)},isCreditor(){return this.roles.includes(13)},isCompliance(){return this.roles.includes(14)},isTenant(){return this.roles.includes(15)},isCoordenador(){return this.roles.includes(16)},isSuperIntendent(){return this.roles.includes(17)},isAccessManager(){return this.roles.includes(20)}}}},c9be:function(t,e,s){"use strict";s("9f81")},ca09:function(t,e,s){"use strict";s("3e6d")},caca:function(t,e,s){"use strict";s("35ab")},cae1:function(t,e,s){},cc5b:function(t,e){t.exports="data:image/png;base64,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"},ccea:function(t,e,s){t.exports=s.p+"img/icon-clock.c0eb58e1.svg"},cdd5:function(t,e,s){"use strict";s.d(e,"a",(function(){return c}));var a=s("2ef0"),o=s.n(a),i=s("c388"),n=s("4c4e"),r=s("5717"),l=s("4360");function c(){const t="pd_admin_theme",e="pd_admin_theme_version",s="bancoprata.com.br",a=["192","dev","pratadigital.com.br","localhost"],c=["business","edit"],d=t=>{let e,s=!1;for(let o=0;o<a.length;o++){const i=a[o];if(e=new RegExp(""+i,"g"),s=e.test(t),s)break}return s},u=t=>{const e=[];let s,a,o;for(let i=0;i<3;++i)s=4===t.length?1:2,a=i*s+1,o=s-1+a,e[i]=`0x${t[a]}${t[o]}`;return`${+e[0]},${+e[1]},${+e[2]}`},m=async({property:t,key:e,value:s})=>{await Promise.resolve(document.documentElement.style.setProperty(`--${t}-${e}`,s))},p=()=>({version:localStorage.getItem(e),themeLocalStorage:localStorage.getItem(t)}),h=()=>{const{version:t}=p();return t&&o.a.isEqual(t,n["a"].THEME_VERSION)},v=async()=>{const t=o.a.omit(l["a"].state.theme.theme,c);for(const[e,s]of Object.entries(t))Object.entries(s).forEach(async([t,s],a)=>{await m({property:e,key:t,value:s}),"color"===e&&(await m({property:e,key:t+"-rgb",value:u(s)}),await m({property:e,key:"animation"+(a+1),value:s}))})},f=async t=>{await Promise.resolve(l["a"].dispatch("theme/SET_THEME",t))},b=async t=>{const e=new i["a"];let s=r;try{await e.getTheme({domain:t}).then(({data:t})=>{s=t.data})}catch{return Promise.resolve(s)}return Promise.resolve(s)},_=async s=>{await Promise.resolve(f({theme:s})).then(()=>v()).finally(()=>{localStorage.setItem(e,n["a"].THEME_VERSION),localStorage.setItem(t,JSON.stringify(l["a"].state.theme.theme))})},g=()=>{let{hostname:t}=window.location;return d(t)?s:(t=t.split("."),t.shift(),t=t.join("."),t||s)},C=async()=>{const t=h(),e=g();let{themeLocalStorage:s}=p();t&&l["a"].state.theme.theme.business||(s=t&&s?JSON.parse(s):await b(e),await _(s))};return{domain:g,loadTheme:C,defaultDomain:s}}},ce30:function(t,e,s){},ce3f:function(t,e,s){"use strict";var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"calendar"},[e("label",{staticClass:"label"},[t._t("default")],2),e("v-datepicker",{attrs:{placeholder:"Selecione uma data",lang:t.lang,"append-to-body":!1,clearable:!0,editable:!0,range:t.isRange,"disabled-date":t.disabledDate,"value-type":"DD/MM/YYYY","title-format":"DD/MM/YY","time-title-format":"DD MMM YYYY",format:"DD/MM/YYYY","range-separator":" até "},on:{input:function(e){return t.$emit("input",t.range)},change:function(e){return t.$emit("change")}},model:{value:t.range,callback:function(e){t.range=e},expression:"range"}})],1)},o=[],i=s("ec45"),n=(s("411c"),{name:"BaseCalendar",components:{VDatepicker:i["a"]},props:{value:{type:[String,Array],default:()=>[],required:!1},limitDate:{type:Boolean,default:!0,required:!1},customDisabledDate:{type:Function,default:null,required:!1},isRange:{type:Boolean,default:!0,required:!1}},data:()=>({range:[],lang:{formatLocale:{months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthsShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"]},days:["Dom","Seg","Ter","Qua","Qui","Sex","Sab"]}}),watch:{value(t){this.range=t}},methods:{disabledDate(t){if(this.customDisabledDate)return this.customDisabledDate(t);if(this.limitDate){const e=new Date;return e.setHours(0,0,0,0),t>e.getTime()}return!1}}}),r=n,l=(s("ce7a"),s("2877")),c=Object(l["a"])(r,a,o,!1,null,"5b635a8e",null);e["a"]=c.exports},ce7a:function(t,e,s){"use strict";s("58ba")},d05f:function(t,e,s){"use strict";s("c623")},d08e:function(t,e,s){"use strict";s("97f4")},d0b9:function(t,e,s){"use strict";s("5fa0")},d0c1:function(t,e,s){},d155:function(t,e,s){"use strict";s.d(e,"a",(function(){return i}));var a=s("2ef0"),o=s("c388");class i extends o["a"]{async getBasics({account_id:t,params:e}){const s=await this.api.get(`${this.baseUrl}/clients/${t}`,{params:e});return s}async getDocument(t,e){const s=await this.api.get(`${this.baseUrl}/clients/${t}/qualification/${e}`);return s}async getAddress(t,e){const s=await this.api.get(`${this.baseUrl}/clients/${t}/address/${e}`);return s}async getIncome(t,e){const s=await this.api.get(`${this.baseUrl}/clients/${t}/professional/${e}`);return s}async getBankAccount(t,e){const s=await this.api.get(`${this.baseUrl}/clients/${t}/bank-account/${e}`);return s}async getVehicle(t,e){const s=await this.api.get(`${this.baseUrl}/clients/${t}/vehicle/${e}`);return s}async updateBasics(t,e){const{data:s}=await this.api.put(`${this.baseUrl}/clients/${t}`,e);return s}async createDocument(t){const{data:e}=await this.api.post(this.baseUrl+"/clients/qualification/admin",t);return e}async updateDocument(t,e,s){const{data:a}=await this.api.put(`${this.baseUrl}/clients/${t}/qualification/${e}`,s);return a}async createAddress(t){const{data:e}=await this.api.post(this.baseUrl+"/clients/address/admin",t);return e}async updateAddress(t,e,s){const{data:a}=await this.api.put(`${this.baseUrl}/clients/${t}/address/${e}`,s);return a}async createIncome(t){const{data:e}=await this.api.post(this.baseUrl+"/clients/professional/admin",t);return e}async updateIncome(t,e,s){const{data:a}=await this.api.put(`${this.baseUrl}/clients/${t}/professional/${e}`,s);return a}async createBankAccount(t){const{data:e}=await this.api.post(this.baseUrl+"/clients/bank-account/admin",t);return e}async updateBankAccount(t,e,s){const{data:a}=await this.api.put(`${this.baseUrl}/clients/${t}/bank-account/${e}`,s);return a}async createVehicle(t){const{data:e}=await this.api.post(this.baseUrl+"/clients/vehicle/admin",t);return e}async updateVehicle(t,e,s){const{data:a}=await this.api.put(`${this.baseUrl}/clients/${t}/vehicle/${e}`,s);return a}async createBasic(t){const{data:e}=await this.api.post(this.baseUrl+"/clients/account/admin",t);return e}async checkUniqueAccount(t){return this.api.get(`${this.baseUrl}/clients/account/${t}`)}async getCorbanScreenings(t="",e="",s="",o="em-analise"){const i=Object(a["pickBy"])({begin_date:e,end_date:s,status:o},a["identity"]);let n=this.baseUrl+"/clients/corban-prospection";n+=t?"/"+t:"";const{data:r}=await this.api.get(n,{params:i});return r}async updateCorbanScreeningStatus(t,e="aprovado",s){const{data:a}=await this.api.put(`${this.baseUrl}/clients/corban-prospection/${t}`,{status:e,observation:s});return a}}},d2c7:function(t,e,s){"use strict";s("6778")},d428:function(t,e,s){t.exports=s.p+"img/NotFound.6eaaf63d.png"},d5ba:function(t,e,s){},d775:function(t,e,s){"use strict";s("f0cd")},db89:function(t,e){t.exports="data:image/png;base64,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"},dc1b:function(t,e,s){t.exports=s.p+"img/livelo-dia.8f63f84d.png"},dc9f:function(t,e,s){},df18:function(t,e,s){"use strict";s.d(e,"a",(function(){return i}));var a=s("c388");const o="https://ymlzcthbmqcpwaiwcg3hikmbpa0rsehz.lambda-url.us-east-1.on.aws/v1";class i extends a["a"]{consult(t){return this.api.get(this.baseUrl+"/bmp/fgts/balance",{params:t})}verify(t){return this.api.get(this.baseUrl+"/bmp/fgts/proposal",{params:t})}cancel(t){return this.api.delete(`${this.baseUrl}/bmp/fgts/proposal/${t}`)}receipt(t,e){return this.api.get(`${this.baseUrl}/bmp/fgts/reserve_balance/${t}/generate_receipt`,{params:e})}async approve(t){return this.api.post(o+"/bmp/fgts/credit-operation",t)}async tryAgain(t){return this.api.put(o+"/bmp/fgts/credit-operation",t)}withdrawalProposal(t){const e={external_proposal_id:t};return this.api.post(this.baseUrl+"/bmp/fgts/proposal/reversal",e)}}},e0f7:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tabs is-fullwidth",class:[t.version,t.box]},[e("ul",t._l(t.arr,(function(s,a){return e("li",{key:"tab-"+a,staticClass:"tab",class:{"is-active":t.current===a,disabled:t.disabled},on:{click:function(e){return t.tab(a)}}},[e("a",{class:{"pre-conter":t.hasPreCounter}},[e("span",[t._v(" "+t._s(s[t.arrProp])+" "),s.info?[e("span",{staticClass:"counter ml-2"},[t._v(t._s(s.info))])]:t._e(),s.tag&&!t.isMobile?[e("span",{staticClass:"chip"},[t._v(t._s(s.tag))])]:t._e()],2)])])})),0)])},o=[],i=s("2f62"),n={name:"BaseTab",props:{value:{type:Number,default:0,required:!1},arr:{type:Array,default:()=>[{title:"Titulo Inicial"}],required:!0},arrProp:{type:String,default:"title",required:!1},disabled:{type:Boolean,default:!1,required:!1},version:{type:String,default:"v1",required:!1},box:{type:String,default:"is-boxed",required:!1},hasPreCounter:{type:Boolean,default:!0,required:!1}},data:()=>({current:0}),computed:{...Object(i["c"])({isMobile:"app/isMobile"})},watch:{value:{handler(t){this.current=t},immediate:!0},current(t){this.emit(t)}},methods:{tab(t){this.disabled||(this.current=t,this.emit(this.current))},emit(t){this.$emit("input",t)}}},r=n,l=(s("1d91"),s("2877")),c=Object(l["a"])(r,a,o,!1,null,"041b34e3",null);e["default"]=c.exports},e38d:function(t,e,s){"use strict";s("1ea8")},e4d9:function(t,e,s){"use strict";s("dc9f")},e636:function(t,e){t.exports="data:image/png;base64,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"},e6a5:function(t,e,s){"use strict";s("8126")},e94a:function(t,e,s){"use strict";s("12aa")},eabe:function(t,e,s){"use strict";s("19c3")},ec12:function(t,e,s){"use strict";s("ef59")},ecbe:function(t,e,s){t.exports=s.p+"img/livelo-office.40ce4d8c.png"},ed08:function(t,e,s){"use strict";s.d(e,"a",(function(){return n})),s.d(e,"f",(function(){return r})),s.d(e,"c",(function(){return l})),s.d(e,"d",(function(){return c})),s.d(e,"e",(function(){return d})),s.d(e,"g",(function(){return m})),s.d(e,"b",(function(){return p}));var a=s("4b44"),o=s("cdd5");const{domain:i}=Object(o["a"])(),n=t=>{navigator&&navigator.clipboard?(navigator.clipboard.writeText(t),Object(a["toast"])({message:"Copiado com sucesso!",type:"is-success",dismissible:!0,pauseOnHover:!0,animate:{in:"fadeIn",out:"fadeOut"},position:"top-center",closeOnClick:!0})):Object(a["toast"])({message:"Erro ao tentar copiar",type:"is-danger",dismissible:!0,pauseOnHover:!0,animate:{in:"fadeIn",out:"fadeOut"},position:"top-center",closeOnClick:!0})},r=(t,e,s)=>{const a=document.createElement("div");a.innerHTML=t;const o=a.textContent;return o.length>e?o.slice(0,e)+s:o},l=t=>Number.isNaN(parseFloat(t))?"-":parseFloat(t).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),c=t=>t.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),d=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),u=t=>{const e=t=>{const e=new RegExp(t+"*","g");return e.test(window.location.host)};return"string"===typeof t?e(t):t.some(e)},m=(t,e="validacao")=>{const s=i();return u("dittobank")?`http://fgts.${s}/${e}/${t}`:`http://assina.${s}/${e}/${t}`},p=()=>u(["poderfinanceiro"])},ef59:function(t,e,s){},ef74:function(t,e,s){"use strict";s("220a")},f0cd:function(t,e,s){},f30a:function(t,e,s){"use strict";s("81cc")},f465:function(t,e,s){},f646:function(t,e,s){"use strict";s("d0c1")},f69c:function(t,e,s){"use strict";s("6f79")},f83b:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"field"},[e("input",{ref:"switch",staticClass:"switch is-rounded",attrs:{id:"switch-"+t.key,type:"checkbox",disabled:t.disabled},domProps:{value:t.vValue},on:{input:function(e){return t.emit(e.target.checked,"input")},change:function(e){return t.emit(e.target.checked,"change")}}}),e("label",{staticClass:"label",attrs:{for:"switch-"+t.key}},[t._t("default")],2)])},o=[],i={name:"BaseSwitch",props:{disabled:{type:Boolean,default:!1},value:{type:Boolean,required:!0}},data:()=>({key:Math.random(1e3),vValue:!1}),watch:{value(t){this.vValue=t,this.$refs.switch.checked=t}},mounted(){this.vValue=this.value,this.$refs.switch.checked=this.value},methods:{emit(t,e){this.$emit(e,t)}}},n=i,r=(s("1b87"),s("2877")),l=Object(r["a"])(n,a,o,!1,null,"19c34718",null);e["default"]=l.exports},fa7e:function(t,e,s){},fb2f:function(t,e,s){},fd96:function(t,e,s){},fd9f:function(t,e,s){"use strict";s("fd96")}});